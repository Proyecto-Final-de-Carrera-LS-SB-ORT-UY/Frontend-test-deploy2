import{A as y,a as be,b as Ee,c as _,d as Oe,g as Re,h as Ne,i as Ie,p as Pe}from"./chunk-VLG6WTW3.js";import{$a as Ce,L as ne,M as ie,N as oe,O as re,P as ae,Q as se,R as le,S as ce,Ta as fe,Ua as ge,Xa as Se,Ya as ve,Za as _e,_a as ye,aa as pe,ab as Te,ba as de,bb as Ae,ca as me,cb as ze,da as ue,db as xe,ea as he,sb as Ue}from"./chunk-JEEGVSU3.js";import"./chunk-GWOMTHFW.js";import{u as Me}from"./chunk-3TPKAHXI.js";import{d as $,e as K,f as Q,k as S,l as v,m as ee,n as te}from"./chunk-PHGEO2FR.js";import"./chunk-XA34XPHU.js";import{$b as p,Aa as N,Ba as I,Bb as g,Fa as P,Ha as U,Hb as h,Ka as w,Nc as j,Oa as F,Ob as s,Pc as W,Rc as J,Wa as D,_b as r,_c as V,ac as c,ec as B,ed as G,ha as M,hc as H,ja as b,jc as f,ma as E,md as q,nb as a,pa as l,pd as Y,rb as k,sa as O,ta as R,td as Z,ub as L,uc as z,vc as m,yd as X}from"./chunk-5NSBDDVT.js";import"./chunk-X5YLR3NI.js";import{i as A}from"./chunk-ODN5LVDJ.js";function Ye(n,t){n&1&&c(0,"div")}function Ze(n,t){if(n&1&&(r(0,"nz-sider",12),h(1,Ye,1,0,"div",13),p()),n&2){f();let e=z(17);a(),s("ngTemplateOutlet",e)}}function Xe(n,t){n&1&&c(0,"div")}function $e(n,t){if(n&1&&(r(0,"nz-sider",14),h(1,Xe,1,0,"div",13),p()),n&2){f();let e=z(17);a(),s("ngTemplateOutlet",e)}}function Ke(n,t){if(n&1){let e=B();r(0,"div",15)(1,"button",16),H("click",function(){N(e);let o=f();return I(o.toggleCollapsed())}),c(2,"nz-icon",17),p()()}if(n&2){let e=f();a(2),s("nzType",e.isCollapsed?"menu-unfold":"menu-fold")}}function Qe(n,t){if(n&1&&(r(0,"nz-header")(1,"div",1)(2,"div",2)(3,"a",6),c(4,"img",27),p()()()()),n&2){let e=f(2);a(3),s("routerLink",e.routesAccessService.STATIONS_ROUTES_PATHS.base_stations)}}function et(n,t){if(n&1&&(r(0,"div"),h(1,Qe,5,1,"nz-header",18),r(2,"ul",19)(3,"li",20),c(4,"nz-icon",21),r(5,"span"),m(6,"Estaciones Virtuales"),p()(),r(7,"li",20),c(8,"nz-icon",22),r(9,"span"),m(10,"Estaciones Fisicas"),p()(),r(11,"li",20),c(12,"nz-icon",23),r(13,"span"),m(14,"Lecturas"),p()(),r(15,"li",20),c(16,"nz-icon",24),r(17,"span"),m(18,"Alertas"),p()(),r(19,"li",20),c(20,"nz-icon",25),r(21,"span"),m(22,"Contactos"),p()(),r(23,"li",20),c(24,"nz-icon",26),r(25,"span"),m(26,"Ajustes"),p()()()()),n&2){let e=f();a(),s("ngIf",e.screenInfoService.isMobile&&!e.isCollapsed),a(2),s("routerLink",e.routesAccessService.STATIONS_ROUTES_PATHS.base_stations),a(4),s("routerLink",e.routesAccessService.CODES_ROUTES_PATHS.base_codes),a(4),s("routerLink",e.routesAccessService.MEASUREMENTS_ROUTES_PATHS.base_measurements),a(4),s("routerLink",e.routesAccessService.ALERTS_ROUTES_PATHS.base_alerts),a(4),s("routerLink",e.routesAccessService.CONTACTS_ROUTES_PATHS.base_contacts),a(4),s("routerLink",e.routesAccessService.SETTINGS_ROUTES_PATHS.base_settings)}}var C=class n{_router=l(v);_authService=l(_);_alertsService=l(Ie);_contactsService=l(Oe);_stationsService=l(Re);_stationcodesService=l(Ne);_contactRequestsService=l(Pe);routesAccessService=l(y);screenInfoService=l(xe);pantallas={lecturas:"Lecturas",estaciones:"Estaciones Virtuales",alertas:"Alertas",contactos:"Contactos",usuario:"Usuario",codigos:"Estaciones Fisicas"};isCollapsed=!0;constructor(){if(this._stationsService.loadAllCurrentUserStations(),this._stationsService.loadAllStationsSharedWithCurrentUser(),this._stationcodesService.loadAllStationCodes(),this._contactsService.loadCurrentUserProfile(),this._contactsService.loadAllCurrentUserContacts(),this._contactRequestsService.loadAllCurrentUserRecievedRequests(),this._contactRequestsService.loadAllCurrentUserSentRequests(),this._authService.currentUserProfile())this._alertsService.loadAllCurrentUserAlerts();else{let t=V(()=>{this._authService.currentUserProfile()&&(this._alertsService.loadAllCurrentUserAlerts(),t.destroy())},{manualCleanup:!0})}}ngOnInit(){}toggleCollapsed(){this.isCollapsed=!this.isCollapsed}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=g({type:n,selectors:[["app-base-screen"]],decls:18,vars:6,consts:[["navbar",""],[1,"app-header"],[1,"header-logo"],["src","favicon.ico","alt","logo",3,"routerLink"],[1,"header-logo-text",3,"routerLink"],[1,"header-user-profile"],[3,"routerLink"],["src","images/account_profile_circle.png","alt","logo",1,"profile-image"],["class","navbar-container","nzWidth","256px","nzTheme","light",4,"ngIf"],["nzWidth","256px","nzTheme","light","class","nz-sider-navbar",4,"ngIf"],[1,"content"],["class","display-navbar-button",4,"ngIf"],["nzWidth","256px","nzTheme","light",1,"navbar-container"],[4,"ngTemplateOutlet"],["nzWidth","256px","nzTheme","light",1,"nz-sider-navbar"],[1,"display-navbar-button"],["nz-button","","nzType","primary",3,"click"],[3,"nzType"],[4,"ngIf"],["nz-menu","","nzMode","inline","nzTheme","light"],["nz-menu-item","","nz-tooltip","","nzTooltipPlacement","right",3,"routerLink"],["nzType","block","nzTheme","outline"],["nzType","barcode","nzTheme","outline"],["nzType","bar-chart","nzTheme","outline"],["nzType","alert","nzTheme","outline"],["nzType","contacts","nzTheme","outline"],["nzType","setting","nzTheme","outline"],["src","favicon.ico","alt","logo"]],template:function(e,i){e&1&&(r(0,"nz-layout")(1,"nz-header")(2,"div",1)(3,"div",2),c(4,"img",3),r(5,"span",4),m(6," Mi Estacion Meteorologica "),p()(),r(7,"div",5)(8,"a",6),c(9,"img",7),p()()()(),r(10,"nz-layout"),h(11,Ze,2,1,"nz-sider",8)(12,$e,2,1,"nz-sider",9),r(13,"nz-content",10),c(14,"router-outlet"),p()(),h(15,Ke,3,1,"div",11),p(),h(16,et,27,7,"ng-template",null,0,j)),e&2&&(a(4),s("routerLink",i.routesAccessService.STATIONS_ROUTES_PATHS.base_stations),a(),s("routerLink",i.routesAccessService.STATIONS_ROUTES_PATHS.base_stations),a(3),s("routerLink",i.routesAccessService.USER_ROUTES_PATHS.base_user),a(3),s("ngIf",!i.screenInfoService.isMobile),a(),s("ngIf",i.screenInfoService.isMobile&&!i.isCollapsed),a(3),s("ngIf",i.screenInfoService.isMobile))},dependencies:[ee,X,Y,Z,S,ce,se,ze,Ae,Ce,ye,Te,_e,ve,Se,ne,he,ue,pe,me,ge,fe],styles:["[_nghost-%COMP%]{display:flex;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}nz-layout[_ngcontent-%COMP%]{height:100vh;width:100%}nz-header[_ngcontent-%COMP%]{padding:0;width:100%;z-index:99;height:48px;box-shadow:0 1px 1px #00152914}.app-header[_ngcontent-%COMP%]{justify-content:space-between;display:flex;position:relative;height:48px;padding:0;background:#fff}.header-user-profile[_ngcontent-%COMP%]{position:relative;height:48px;width:48px;overflow:hidden;line-height:48px;background:#fff;transition:all .3s;display:flex;align-items:center;justify-content:center}.profile-image[_ngcontent-%COMP%]{width:85%;height:85%}.header-logo[_ngcontent-%COMP%]{float:right;position:relative;height:48px;width:256px;padding-left:12px;overflow:hidden;line-height:48px;background:#fff;transition:all .3s}.header-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:inline-block;height:32px;width:32px;vertical-align:middle}.header-logo-text[_ngcontent-%COMP%]{margin:0 0 0 10px;color:#000;font-weight:600;font-size:14px;font-family:Avenir,Helvetica Neue,Arial,Helvetica,sans-serif;vertical-align:middle}.navbar-container[_ngcontent-%COMP%]{box-shadow:1px 0 1px #00152914}.display-navbar-button[_ngcontent-%COMP%]{position:fixed;bottom:0;right:0;padding-right:12px;padding-bottom:12px;max-width:128px;z-index:98}.nz-sider-navbar[_ngcontent-%COMP%]{position:fixed;top:0;left:0;max-width:256px;width:256px;min-height:100vh;z-index:98}.all-screen[_ngcontent-%COMP%]{min-height:100%;min-width:100%}.content[_ngcontent-%COMP%]{overflow:auto}@media (max-width: 710px){.header-logo[_ngcontent-%COMP%]{height:48px;width:60px;padding-left:12px}}"]})};var Fe=()=>l(v),De=()=>l(_),ke=()=>l(y),Le=()=>A(void 0,null,function*(){let n=Fe(),t=ke(),{data:e}=yield De().getSession();return e.session||n.navigateByUrl(t.AUTH_ROUTES_PATHS.login),!!e.session}),Be=()=>A(void 0,null,function*(){let n=Fe(),t=ke(),{data:e}=yield De().getSession();return e.session&&n.navigateByUrl(t.DEFAULT_ROUTE),!e.session});var He=[{path:"auth",canActivate:[Be],loadChildren:()=>import("./chunk-VFJSN4JL.js").then(n=>n.AUTH_ROUTES)},{path:"",canActivate:[Le],component:C,children:[{path:"",pathMatch:"full",redirectTo:"/stations"},{path:"alerts",loadChildren:()=>import("./chunk-YXSI5VR7.js").then(n=>n.ALERTS_ROUTES)},{path:"stations",loadChildren:()=>import("./chunk-WTAW3ILJ.js").then(n=>n.STATIONS_ROUTES)},{path:"measurements",loadChildren:()=>import("./chunk-LMP4VRVO.js").then(n=>n.MEASUREMENTS_ROUTES)},{path:"contacts",loadChildren:()=>import("./chunk-KNKHWRPA.js").then(n=>n.CONTACTS_ROUTES)},{path:"user",loadChildren:()=>import("./chunk-AROIV2TS.js").then(n=>n.USER_ROUTES)},{path:"codes",loadChildren:()=>import("./chunk-K2SGE4RB.js").then(n=>n.CODES_ROUTES)},{path:"settings",loadChildren:()=>import("./chunk-TPDJSIRA.js").then(n=>n.SETTINGS_ROUTES)}]},{path:"v1",loadChildren:()=>import("./chunk-O2HXQHHY.js").then(n=>n.V1_ROUTES)},{path:"**",redirectTo:""}];var je=[re,ae,ie,oe];function tt(n){let t=n,e=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length;return e===1&&i===0?1:5}var We=["en",[["a","p"],["AM","PM"],void 0],[["AM","PM"],void 0,void 0],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],void 0,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],void 0,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",void 0,"{1} 'at' {0}",void 0],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",tt];var nt="@",it=(()=>{class n{doc;delegate;zone;animationType;moduleImpl;_rendererFactoryPromise=null;scheduler=null;injector=l(P);loadingSchedulerFn=l(ot,{optional:!0});_engine;constructor(e,i,o,d,u){this.doc=e,this.delegate=i,this.zone=o,this.animationType=d,this.moduleImpl=u}ngOnDestroy(){this._engine?.flush()}loadImpl(){let e=()=>this.moduleImpl??import("./chunk-BW6DWGJM.js").then(o=>o),i;return this.loadingSchedulerFn?i=this.loadingSchedulerFn(e):i=e(),i.catch(o=>{throw new M(5300,!1)}).then(({\u0275createEngine:o,\u0275AnimationRendererFactory:d})=>{this._engine=o(this.animationType,this.doc);let u=new d(this.delegate,this._engine,this.zone);return this.delegate=u,u})}createRenderer(e,i){let o=this.delegate.createRenderer(e,i);if(o.\u0275type===0)return o;typeof o.throwOnSyntheticProps=="boolean"&&(o.throwOnSyntheticProps=!1);let d=new x(o);return i?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(u=>{let Ge=u.createRenderer(e,i);d.use(Ge),this.scheduler??=this.injector.get(U,null,{optional:!0}),this.scheduler?.notify(11)}).catch(u=>{d.use(o)}),d}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}componentReplaced(e){this._engine?.flush(),this.delegate.componentReplaced?.(e)}static \u0275fac=function(i){L()};static \u0275prov=b({token:n,factory:n.\u0275fac})}return n})(),x=class{delegate;replay=[];\u0275type=1;constructor(t){this.delegate=t}use(t){if(this.delegate=t,this.replay!==null){for(let e of this.replay)e(t);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}get destroyNode(){return this.delegate.destroyNode}appendChild(t,e){this.delegate.appendChild(t,e)}insertBefore(t,e,i,o){this.delegate.insertBefore(t,e,i,o)}removeChild(t,e,i){this.delegate.removeChild(t,e,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,o){this.delegate.setAttribute(t,e,i,o)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,o){this.delegate.setStyle(t,e,i,o)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){this.shouldReplay(e)&&this.replay.push(o=>o.setProperty(t,e,i)),this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i,o){return this.shouldReplay(e)&&this.replay.push(d=>d.listen(t,e,i,o)),this.delegate.listen(t,e,i,o)}shouldReplay(t){return this.replay!==null&&t.startsWith(nt)}},ot=new E("");function Je(n="animations"){return F("NgAsyncAnimations"),O([{provide:k,useFactory:(t,e,i)=>new it(t,e,i,n),deps:[G,K,w]},{provide:D,useValue:n==="noop"?"NoopAnimations":"BrowserAnimations"}])}q(We);var Ve={providers:[W({eventCoalescing:!0}),te(He),le(je),Ee(be),Je(),$(),R(Me),de(),Ue("ngsw-worker.js",{enabled:!J(),registrationStrategy:"registerWhenStable:30000"})]};var T=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=g({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(e,i){e&1&&c(0,"router-outlet")},dependencies:[S],encapsulation:2})};Q(T,Ve).catch(n=>console.error(n));
