import{A as _,B as Oe,E as Ee,F as Re,G as Ne,N as Pe,Y as y,a as te,b as ne,c as ie,d as oe,e as re,f as ae,g as se,h as le,i as ce,j as pe,k as de,l as me,m as ue,n as he,o as fe,p as ge,q as Se,r as ve,s as _e,t as ye,u as Ce,v as Ae,w as Te,x as xe,y as Me,z as be}from"./chunk-C3P27HCL.js";import"./chunk-KYJKCLBF.js";import{K as ze,d as X,e as $,f as K,k as S,l as v,m as Q,n as ee}from"./chunk-PJB3G4IH.js";import"./chunk-34MJBK2V.js";import{$b as p,Aa as N,Ab as g,Ba as P,Ha as I,Hb as h,Ka as U,Nc as H,Ob as l,Pc as j,Ta as w,Va as F,_b as r,_c as W,ac as c,ec as L,ed as J,ga as M,hc as B,ia as b,jc as f,la as O,lb as s,md as V,nb as D,oa as a,pd as q,qb as k,sa as E,ta as R,td as G,uc as x,vc as d,vd as Y,yd as Z}from"./chunk-Q7VRVJCK.js";import"./chunk-X5YLR3NI.js";import{i as T}from"./chunk-ODN5LVDJ.js";function qe(n,t){n&1&&c(0,"div")}function Ge(n,t){if(n&1&&(r(0,"nz-sider",12),h(1,qe,1,0,"div",13),p()),n&2){f();let e=x(17);s(),l("ngTemplateOutlet",e)}}function Ye(n,t){n&1&&c(0,"div")}function Ze(n,t){if(n&1&&(r(0,"nz-sider",14),h(1,Ye,1,0,"div",13),p()),n&2){f();let e=x(17);s(),l("ngTemplateOutlet",e)}}function Xe(n,t){if(n&1){let e=L();r(0,"div",15)(1,"button",16),B("click",function(){N(e);let o=f();return P(o.toggleCollapsed())}),c(2,"nz-icon",17),p()()}if(n&2){let e=f();s(2),l("nzType",e.isCollapsed?"menu-unfold":"menu-fold")}}function $e(n,t){if(n&1&&(r(0,"nz-header")(1,"div",1)(2,"div",2)(3,"a",6),c(4,"img",26),r(5,"h1"),d(6,"Ant Design of Angular"),p()()()()()),n&2){let e=f(2);s(3),l("routerLink",e.routesAccessService.STATIONS_ROUTES_PATHS.base_stations)}}function Ke(n,t){if(n&1&&(r(0,"div"),h(1,$e,7,1,"nz-header",18),r(2,"ul",19)(3,"li",20),c(4,"nz-icon",21),r(5,"span"),d(6,"Estaciones Virtuales"),p()(),r(7,"li",20),c(8,"nz-icon",22),r(9,"span"),d(10,"Estaciones Fisicas"),p()(),r(11,"li",20),c(12,"nz-icon",23),r(13,"span"),d(14,"Lecturas"),p()(),r(15,"li",20),c(16,"nz-icon",24),r(17,"span"),d(18,"Alertas"),p()(),r(19,"li",20),c(20,"nz-icon",25),r(21,"span"),d(22,"Contactos"),p()()()()),n&2){let e=f();s(),l("ngIf",e.screenInfoService.isMobile&&!e.isCollapsed),s(2),l("routerLink",e.routesAccessService.STATIONS_ROUTES_PATHS.base_stations),s(4),l("routerLink",e.routesAccessService.CODES_ROUTES_PATHS.base_codes),s(4),l("routerLink",e.routesAccessService.MEASUREMENTS_ROUTES_PATHS.base_measurements),s(4),l("routerLink",e.routesAccessService.ALERTS_ROUTES_PATHS.base_alerts),s(4),l("routerLink",e.routesAccessService.CONTACTS_ROUTES_PATHS.base_contacts)}}var C=class n{_router=a(v);_authService=a(_);_alertsService=a(Ne);_contactsService=a(Oe);_stationsService=a(Ee);_stationcodesService=a(Re);_contactRequestsService=a(Pe);routesAccessService=a(y);screenInfoService=a(xe);pantallas={lecturas:"Lecturas",estaciones:"Estaciones Virtuales",alertas:"Alertas",contactos:"Contactos",usuario:"Usuario",codigos:"Estaciones Fisicas"};isCollapsed=!0;constructor(){if(this._stationsService.loadAllCurrentUserStations(),this._stationsService.loadAllStationsSharedWithCurrentUser(),this._stationcodesService.loadAllStationCodes(),this._contactsService.loadCurrentUserProfile(),this._contactsService.loadAllCurrentUserContacts(),this._contactRequestsService.loadAllCurrentUserRecievedRequests(),this._contactRequestsService.loadAllCurrentUserSentRequests(),this._authService.currentUserProfile())this._alertsService.loadAllCurrentUserAlerts();else{let t=W(()=>{this._authService.currentUserProfile()&&(this._alertsService.loadAllCurrentUserAlerts(),t.destroy())},{manualCleanup:!0})}}ngOnInit(){}toggleCollapsed(){this.isCollapsed=!this.isCollapsed}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=g({type:n,selectors:[["app-base-screen"]],decls:18,vars:6,consts:[["navbar",""],[1,"app-header"],[1,"header-logo"],["src","favicon.ico","alt","logo",3,"routerLink"],[1,"header-logo-text",3,"routerLink"],[1,"header-user-profile"],[3,"routerLink"],["src","images/account_profile_circle.png","alt","logo",1,"profile-image"],["class","navbar-container","nzWidth","256px","nzTheme","light",4,"ngIf"],["nzWidth","256px","nzTheme","light","class","nz-sider-navbar",4,"ngIf"],[1,"content"],["class","display-navbar-button",4,"ngIf"],["nzWidth","256px","nzTheme","light",1,"navbar-container"],[4,"ngTemplateOutlet"],["nzWidth","256px","nzTheme","light",1,"nz-sider-navbar"],[1,"display-navbar-button"],["nz-button","","nzType","primary",3,"click"],[3,"nzType"],[4,"ngIf"],["nz-menu","","nzMode","inline","nzTheme","light"],["nz-menu-item","","nz-tooltip","","nzTooltipPlacement","right",3,"routerLink"],["nzType","block","nzTheme","outline"],["nzType","barcode","nzTheme","outline"],["nzType","bar-chart","nzTheme","outline"],["nzType","alert","nzTheme","outline"],["nzType","contacts","nzTheme","outline"],["src","favicon.ico","alt","logo"]],template:function(e,i){e&1&&(r(0,"nz-layout")(1,"nz-header")(2,"div",1)(3,"div",2),c(4,"img",3),r(5,"span",4),d(6," Mi Estacion Meteorologica "),p()(),r(7,"div",5)(8,"a",6),c(9,"img",7),p()()()(),r(10,"nz-layout"),h(11,Ge,2,1,"nz-sider",8)(12,Ze,2,1,"nz-sider",9),r(13,"nz-content",10),c(14,"router-outlet"),p()(),h(15,Xe,3,1,"div",11),p(),h(16,Ke,23,6,"ng-template",null,0,H)),e&2&&(s(4),l("routerLink",i.routesAccessService.STATIONS_ROUTES_PATHS.base_stations),s(),l("routerLink",i.routesAccessService.STATIONS_ROUTES_PATHS.base_stations),s(3),l("routerLink",i.routesAccessService.USER_ROUTES_PATHS.base_user),s(3),l("ngIf",!i.screenInfoService.isMobile),s(),l("ngIf",i.screenInfoService.isMobile&&!i.isCollapsed),s(3),l("ngIf",i.screenInfoService.isMobile))},dependencies:[Q,Z,q,G,S,le,ae,Te,Ae,ye,_e,Ce,ve,Se,ge,te,ue,me,ce,de,fe,he],styles:["[_nghost-%COMP%]{display:flex;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}nz-layout[_ngcontent-%COMP%]{height:100vh;width:100%}nz-header[_ngcontent-%COMP%]{padding:0;width:100%;z-index:99;height:48px;box-shadow:0 1px 1px #00152914}.app-header[_ngcontent-%COMP%]{justify-content:space-between;display:flex;position:relative;height:48px;padding:0;background:#fff}.header-user-profile[_ngcontent-%COMP%]{position:relative;height:48px;width:48px;overflow:hidden;line-height:48px;background:#fff;transition:all .3s;display:flex;align-items:center;justify-content:center}.profile-image[_ngcontent-%COMP%]{width:85%;height:85%}.header-logo[_ngcontent-%COMP%]{float:right;position:relative;height:48px;width:256px;padding-left:12px;overflow:hidden;line-height:48px;background:#fff;transition:all .3s}.header-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:inline-block;height:32px;width:32px;vertical-align:middle}.header-logo-text[_ngcontent-%COMP%]{margin:0 0 0 10px;color:#000;font-weight:600;font-size:14px;font-family:Avenir,Helvetica Neue,Arial,Helvetica,sans-serif;vertical-align:middle}.navbar-container[_ngcontent-%COMP%]{box-shadow:1px 0 1px #00152914}.display-navbar-button[_ngcontent-%COMP%]{position:fixed;bottom:0;right:0;padding-right:12px;padding-bottom:12px;max-width:128px;z-index:98}.nz-sider-navbar[_ngcontent-%COMP%]{position:fixed;top:0;left:0;max-width:256px;width:256px;min-height:100vh;z-index:98}.all-screen[_ngcontent-%COMP%]{min-height:100%;min-width:100%}.content[_ngcontent-%COMP%]{overflow:auto}@media (max-width: 710px){.header-logo[_ngcontent-%COMP%]{height:48px;width:60px;padding-left:12px}}"]})};var Ue=()=>a(v),we=()=>a(_),Fe=()=>a(y),De=()=>T(void 0,null,function*(){let n=Ue(),t=Fe(),{data:e}=yield we().getSession();return e.session||n.navigateByUrl(t.AUTH_ROUTES_PATHS.login),!!e.session}),ke=()=>T(void 0,null,function*(){let n=Ue(),t=Fe(),{data:e}=yield we().getSession();return e.session&&n.navigateByUrl(t.DEFAULT_ROUTE),!e.session});var Le=[{path:"auth",canActivate:[ke],loadChildren:()=>import("./chunk-ZLWDXAAJ.js").then(n=>n.AUTH_ROUTES)},{path:"",canActivate:[De],component:C,children:[{path:"",pathMatch:"full",redirectTo:"/stations"},{path:"alerts",loadChildren:()=>import("./chunk-5MVBRBRY.js").then(n=>n.ALERTS_ROUTES)},{path:"stations",loadChildren:()=>import("./chunk-V3EPFZXF.js").then(n=>n.STATIONS_ROUTES)},{path:"measurements",loadChildren:()=>import("./chunk-EPDYHPQY.js").then(n=>n.MEASUREMENTS_ROUTES)},{path:"contacts",loadChildren:()=>import("./chunk-QSBXAXYH.js").then(n=>n.CONTACTS_ROUTES)},{path:"user",loadChildren:()=>import("./chunk-ODLZA65G.js").then(n=>n.USER_ROUTES)},{path:"codes",loadChildren:()=>import("./chunk-5QB34FC3.js").then(n=>n.CODES_ROUTES)}]},{path:"v1",loadChildren:()=>import("./chunk-QBCY5JBL.js").then(n=>n.V1_ROUTES)},{path:"**",redirectTo:""}];var Be=[oe,re,ne,ie];function Qe(n){let t=n,e=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length;return e===1&&i===0?1:5}var He=["en",[["a","p"],["AM","PM"],void 0],[["AM","PM"],void 0,void 0],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],void 0,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],void 0,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",void 0,"{1} 'at' {0}",void 0],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",Qe];var et="@",tt=(()=>{class n{doc;delegate;zone;animationType;moduleImpl;_rendererFactoryPromise=null;scheduler=a(I,{optional:!0});loadingSchedulerFn=a(nt,{optional:!0});_engine;constructor(e,i,o,m,u){this.doc=e,this.delegate=i,this.zone=o,this.animationType=m,this.moduleImpl=u}ngOnDestroy(){this._engine?.flush()}loadImpl(){let e=()=>this.moduleImpl??import("./chunk-3ZUCWHX4.js").then(o=>o),i;return this.loadingSchedulerFn?i=this.loadingSchedulerFn(e):i=e(),i.catch(o=>{throw new M(5300,!1)}).then(({\u0275createEngine:o,\u0275AnimationRendererFactory:m})=>{this._engine=o(this.animationType,this.doc);let u=new m(this.delegate,this._engine,this.zone);return this.delegate=u,u})}createRenderer(e,i){let o=this.delegate.createRenderer(e,i);if(o.\u0275type===0)return o;typeof o.throwOnSyntheticProps=="boolean"&&(o.throwOnSyntheticProps=!1);let m=new z(o);return i?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(u=>{let Je=u.createRenderer(e,i);m.use(Je),this.scheduler?.notify(11)}).catch(u=>{m.use(o)}),m}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}static \u0275fac=function(i){D()};static \u0275prov=b({token:n,factory:n.\u0275fac})}return n})(),z=class{delegate;replay=[];\u0275type=1;constructor(t){this.delegate=t}use(t){if(this.delegate=t,this.replay!==null){for(let e of this.replay)e(t);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}get destroyNode(){return this.delegate.destroyNode}appendChild(t,e){this.delegate.appendChild(t,e)}insertBefore(t,e,i,o){this.delegate.insertBefore(t,e,i,o)}removeChild(t,e,i){this.delegate.removeChild(t,e,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,o){this.delegate.setAttribute(t,e,i,o)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,o){this.delegate.setStyle(t,e,i,o)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){this.shouldReplay(e)&&this.replay.push(o=>o.setProperty(t,e,i)),this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.shouldReplay(e)&&this.replay.push(o=>o.listen(t,e,i)),this.delegate.listen(t,e,i)}shouldReplay(t){return this.replay!==null&&t.startsWith(et)}},nt=new O("");function je(n="animations"){return F("NgAsyncAnimations"),E([{provide:k,useFactory:(t,e,i)=>new tt(t,e,i,n),deps:[J,$,U]},{provide:w,useValue:n==="noop"?"NoopAnimations":"BrowserAnimations"}])}V(He);var We={providers:[j({eventCoalescing:!0}),ee(Le),se(Be),be(Me),je(),X(),R(ze),pe(),Y]};var A=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=g({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(e,i){e&1&&c(0,"router-outlet")},dependencies:[S],encapsulation:2})};K(A,We).catch(n=>console.error(n));
