import{$ as Xl,A as Vl,B as Hl,C as wa,D as Lo,E as jl,Ea as me,F as qr,G as Ji,Ga as J,H as Gr,Ha as Ni,I as Qr,Ia as sc,J as Ll,Ja as Pa,K as Ul,Ka as Uo,L as $l,La as $o,Ma as fo,N as Wl,Na as Me,O as Da,Oa as ke,P as ql,Pa as Pe,Q as Gl,Qa as De,R as ho,Ra as lc,S as Ma,T as Ql,Ta as cc,U as Oi,Ua as Ia,V as Xr,Va as Wo,W as Kl,Wa as qo,X as Zl,Xa as Oa,Y as es,Z as Xi,_ as Jl,a as uo,aa as ts,b as Vo,ba as ns,bb as to,c as Mi,ca as is,d as ki,da as ec,db as be,e as Ho,ea as tc,eb as wt,f as Sa,fa as eo,fb as Ot,g as Ki,ga as Qt,gb as ai,h as Ee,ha as nt,hb as hc,i as Ol,ia as _e,ib as yn,j as ya,jb as tt,k as jo,ka as Jn,kb as ut,l as xa,la as je,lb as Ge,m as hi,ma as Re,mb as $e,n as ba,na as os,nb as ct,o as Nl,oa as fi,ob as at,p as Pi,pa as as,pb as Dt,q as Ii,qb as _o,r as Fl,ra as nc,rb as go,s as Ln,sa as ic,sb as Co,t as Zi,ta as oc,tb as an,u as El,ua as Ct,ub as rn,v as Al,va as _i,w as Ta,wa as ac,x as Rl,xa as rc,y as Yl,ya as rs,yb as yc,z as Zn,za as ka}from"./chunk-YUSHJQB3.js";import{b as fc,c as _c,e as gc,f as Cc,g as vc,h as zc,j as Sc,k as Aa}from"./chunk-WARMN3J2.js";import{a as Xn,b as dc,c as mc,d as vt,e as le,f as Na,g as Oe,h as Kt,i as pc,l as zt,m as Zt,n as Fa,o as Jt,p as It,r as uc,s as on,t as Ea,u as ot,v as Ue,w as Fi}from"./chunk-4GTIQUAS.js";import{b as kl,c as va,h as Pl,i as za,j as jn,k as Di,l as bt,m as Pt,o as Il}from"./chunk-SRCE6WJ2.js";import{$a as _a,$b as r,$c as kt,A as tl,Aa as Q,B as nl,Ba as g,Bc as ze,Bd as Ml,C as mi,Ca as C,Cb as D,Cc as Se,D as il,Da as ua,Db as Ce,Dc as ye,E as da,Ea as cl,Eb as Ve,Ec as Le,F as gt,Fb as mo,Fc as xe,Ga as ln,Gb as bi,Gc as Ie,H as Xe,Ha as dl,Hb as Ti,Hc as Kn,Hd as Bl,I as ma,Ib as u,Id as Kr,J as ol,Ka as F,Kc as cn,Kd as Bo,La as et,Lc as ui,Ld as Zr,M as al,Mc as wi,N as jr,Na as ha,Nd as Jr,Oa as pe,Ob as He,Oc as V,P as yi,Pb as m,Qb as pt,R as lo,Ra as yt,Rb as B,Rc as Sl,S as Nn,Sa as Br,Sb as ve,Sc as yl,Tb as Qn,Tc as se,U as Lr,Ub as fl,Vb as _l,Wa as ml,Wb as z,Wc as O,Xa as fa,Xb as _n,Xc as pn,Yb as Ne,Yc as de,Zb as j,Zc as xl,_b as L,a as Sn,aa as rl,ac as s,ba as rt,bc as h,ca as St,cc as te,d as Hr,da as P,dc as ne,ec as lt,fa as xi,fc as M,fd as Qi,g as H,gc as gl,h as Ae,ha as sl,hc as Yo,i as dt,ic as y,j as el,ja as mn,jc as Ur,k as la,ka as Ye,kc as l,kd as bl,l as Si,la as ge,lb as co,lc as fe,ld as Tl,m as he,mb as ga,mc as re,md as wl,n as U,na as tn,nc as Gi,o as st,ob as c,oc as it,p as we,pa as pi,pc as G,qa as _,qb as mt,qc as R,qd as Ca,rc as Y,sb as pl,sc as Cl,t as ca,ta as ll,tb as xt,tc as vl,ub as T,uc as $r,ud as ie,v as ae,vc as E,vd as Wr,w as fn,wb as Fn,wc as p,wd as po,x as so,xb as ul,xc as K,xd as Dl,yb as hl,yc as W,za as pa,zc as zl,zd as Be}from"./chunk-2L27LJAK.js";import{a as ee,b as Fe,c as sa,i as oe}from"./chunk-ODN5LVDJ.js";function Nm(t,i){if(t&1&&h(0,"nz-icon",0),t&2){let e=l();m("nzType",e.iconType)}}var En=(()=>{class t{constructor(){this.formStatusChanges=new dt(1)}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=Ye({token:t,factory:t.\u0275fac})}}return t})(),vo=(()=>{class t{constructor(){this.noFormStatus=new Ae(!1)}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=Ye({token:t,factory:t.\u0275fac})}}return t})(),Fm={error:"close-circle-fill",validating:"loading",success:"check-circle-fill",warning:"exclamation-circle-fill"},Go=(()=>{class t{constructor(e){this.cdr=e,this.status="",this.iconType=null}ngOnChanges(e){this.updateIcon()}updateIcon(){this.iconType=this.status?Fm[this.status]:null,this.cdr.markForCheck()}static{this.\u0275fac=function(n){return new(n||t)(T(se))}}static{this.\u0275cmp=D({type:t,selectors:[["nz-form-item-feedback-icon"]],hostAttrs:[1,"ant-form-item-feedback-icon"],hostVars:8,hostBindings:function(n,o){n&2&&B("ant-form-item-feedback-icon-error",o.status==="error")("ant-form-item-feedback-icon-warning",o.status==="warning")("ant-form-item-feedback-icon-success",o.status==="success")("ant-form-item-feedback-icon-validating",o.status==="validating")},inputs:{status:"status"},exportAs:["nzFormFeedbackIcon"],features:[Q],decls:1,vars:1,consts:[[3,"nzType"]],template:function(n,o){n&1&&u(0,Nm,1,1,"nz-icon",0),n&2&&z(o.iconType?0:-1)},dependencies:[J,me],encapsulation:2,changeDetection:0})}}return t})();var ss=["*"],Am=["inputElement"],Rm=["nz-checkbox",""],Ym=(t,i)=>i.value;function Vm(t,i){if(t&1&&(r(0,"label",0),p(1),s()),t&2){let e=i.$implicit,n=l(2);m("nzValue",e.value)("nzName",n.nzName())("nzDisabled",e.disabled||n.finalDisabled()),c(),W(" ",e.label," ")}}function Hm(t,i){if(t&1&&j(0,Vm,2,4,"label",0,Ym),t&2){let e=l();L(e.normalizedOptions())}}var jm=(()=>{class t{constructor(){this.nzOnChange=new F,this.checkboxList=[]}addCheckbox(e){this.checkboxList.push(e)}removeCheckbox(e){this.checkboxList.splice(this.checkboxList.indexOf(e),1)}onChange(){let e=this.checkboxList.filter(n=>n.nzChecked).map(n=>n.nzValue);this.nzOnChange.emit(e)}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=D({type:t,selectors:[["nz-checkbox-wrapper"]],hostAttrs:[1,"ant-checkbox-group"],outputs:{nzOnChange:"nzOnChange"},exportAs:["nzCheckboxWrapper"],ngContentSelectors:ss,decls:1,vars:0,template:function(n,o){n&1&&(fe(),re(0))},encapsulation:2,changeDetection:0})}}return t})(),xc=new tn("NZ_CHECKBOX_GROUP"),zo=(()=>{class t{innerCheckedChange(e){!this.nzDisabled&&!this.checkboxGroupComponent?.finalDisabled()&&(this.setValue(e),this.nzCheckboxWrapperComponent?.onChange(),this.checkboxGroupComponent?.onCheckedChange(this.nzValue,e))}writeValue(e){this.nzChecked=e,this.cdr.markForCheck()}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.nzDisabled=this.isNzDisableFirstChange&&this.nzDisabled||e,this.isNzDisableFirstChange=!1,this.cdr.markForCheck()}focus(){this.focusMonitor.focusVia(this.inputElement,"keyboard")}blur(){this.inputElement.nativeElement.blur()}constructor(e,n,o,a,d){this.ngZone=e,this.elementRef=n,this.cdr=o,this.focusMonitor=a,this.directionality=d,this.dir="ltr",this.destroy$=new H,this.isNzDisableFirstChange=!0,this.onChange=()=>{},this.onTouched=()=>{},this.nzCheckedChange=new F,this.nzValue=null,this.nzAutoFocus=!1,this.nzDisabled=!1,this.nzIndeterminate=!1,this.nzChecked=!1,this.nzId=null,this.nzName=null,this.nzCheckboxWrapperComponent=_(jm,{optional:!0}),this.checkboxGroupComponent=_(xc,{optional:!0}),this.nzFormStatusService=_(En,{optional:!0}),this.checkboxGroupComponent&&kt(()=>{let f=this.checkboxGroupComponent.value()||[];this.setValue(f.includes(this.nzValue)),this.cdr.markForCheck()})}ngOnInit(){this.focusMonitor.monitor(this.elementRef,!0).pipe(P(this.destroy$)).subscribe(e=>{e||Promise.resolve().then(()=>this.onTouched())}),this.nzCheckboxWrapperComponent?.addCheckbox(this),this.directionality.change.pipe(P(this.destroy$)).subscribe(e=>{this.dir=e,this.cdr.detectChanges()}),this.dir=this.directionality.value,Qt(this.elementRef.nativeElement,"click").pipe(P(this.destroy$)).subscribe(e=>{e.preventDefault(),this.focus(),!this.nzDisabled&&this.ngZone.run(()=>{this.innerCheckedChange(!this.nzChecked),this.cdr.markForCheck()})}),Qt(this.inputElement.nativeElement,"click").pipe(P(this.destroy$)).subscribe(e=>e.stopPropagation())}ngAfterViewInit(){this.nzAutoFocus&&this.focus()}ngOnDestroy(){this.focusMonitor.stopMonitoring(this.elementRef),this.nzCheckboxWrapperComponent?.removeCheckbox(this),this.destroy$.next(),this.destroy$.complete()}setValue(e){this.nzChecked=e,this.onChange(e),this.nzCheckedChange.emit(e)}static{this.\u0275fac=function(n){return new(n||t)(T(et),T(pe),T(se),T(Zn),T(Ee))}}static{this.\u0275cmp=D({type:t,selectors:[["","nz-checkbox",""]],viewQuery:function(n,o){if(n&1&&G(Am,7),n&2){let a;R(a=Y())&&(o.inputElement=a.first)}},hostAttrs:[1,"ant-checkbox-wrapper"],hostVars:10,hostBindings:function(n,o){n&2&&B("ant-checkbox-group-item",!!o.checkboxGroupComponent)("ant-checkbox-wrapper-in-form-item",!!o.nzFormStatusService)("ant-checkbox-wrapper-checked",o.nzChecked)("ant-checkbox-wrapper-disabled",o.nzDisabled||(o.checkboxGroupComponent==null?null:o.checkboxGroupComponent.finalDisabled()))("ant-checkbox-rtl",o.dir==="rtl")},inputs:{nzValue:"nzValue",nzAutoFocus:[2,"nzAutoFocus","nzAutoFocus",O],nzDisabled:[2,"nzDisabled","nzDisabled",O],nzIndeterminate:[2,"nzIndeterminate","nzIndeterminate",O],nzChecked:[2,"nzChecked","nzChecked",O],nzId:"nzId",nzName:"nzName"},outputs:{nzCheckedChange:"nzCheckedChange"},exportAs:["nzCheckbox"],features:[Le([{provide:Xn,useExisting:mn(()=>t),multi:!0}])],attrs:Rm,ngContentSelectors:ss,decls:6,vars:12,consts:[["inputElement",""],[1,"ant-checkbox"],["type","checkbox",1,"ant-checkbox-input",3,"ngModelChange","checked","ngModel","disabled"],[1,"ant-checkbox-inner"]],template:function(n,o){if(n&1){let a=M();fe(),r(0,"span",1)(1,"input",2,0),y("ngModelChange",function(f){return g(a),C(o.innerCheckedChange(f))}),s(),h(3,"span",3),s(),r(4,"span"),re(5),s()}if(n&2){let a;B("ant-checkbox-checked",o.nzChecked&&!o.nzIndeterminate)("ant-checkbox-disabled",o.nzDisabled||(o.checkboxGroupComponent==null?null:o.checkboxGroupComponent.finalDisabled()))("ant-checkbox-indeterminate",o.nzIndeterminate),c(),m("checked",o.nzChecked)("ngModel",o.nzChecked)("disabled",o.nzDisabled||((a=o.checkboxGroupComponent==null?null:o.checkboxGroupComponent.finalDisabled())!==null&&a!==void 0?a:!1)),He("autofocus",o.nzAutoFocus?"autofocus":null)("id",o.nzId)("name",o.nzName||(o.checkboxGroupComponent==null?null:o.checkboxGroupComponent.nzName()))}},dependencies:[ot,dc,Oe,zt],encapsulation:2,changeDetection:0})}}return t})(),Lm=(()=>{class t{constructor(){this.onChange=()=>{},this.onTouched=()=>{},this.isDisabledFirstChange=!0,this.directionality=_(Ee),this.nzName=ha(null),this.nzDisabled=ha(!1,{transform:O}),this.nzOptions=ha([]),this.value=yt(null),this.finalDisabled=xl(()=>this.nzDisabled()),this.dir=sc(this.directionality.change,{initialValue:this.directionality.value}),this.normalizedOptions=de(()=>Bm(this.nzOptions()));let e=_(pe),n=_(Zn),o=_(dl);_a(()=>{n.monitor(e,!0).pipe(Ni(o)).subscribe(a=>{a||this.onTouched()}),o.onDestroy(()=>{n.stopMonitoring(e)})})}writeValue(e){this.value.set(e)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.isDisabledFirstChange||this.finalDisabled.set(e),this.isDisabledFirstChange=!1}onCheckedChange(e,n){this.finalDisabled()||(this.value.update(o=>n?o?.concat(e)||[e]:o?.filter(a=>a!==e)||[]),this.onChange(this.value()))}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=D({type:t,selectors:[["nz-checkbox-group"]],hostAttrs:[1,"ant-checkbox-group"],hostVars:2,hostBindings:function(n,o){n&2&&B("ant-checkbox-group-rtl",o.dir()==="rtl")},inputs:{nzName:[1,"nzName"],nzDisabled:[1,"nzDisabled"],nzOptions:[1,"nzOptions"]},exportAs:["nzCheckboxGroup"],features:[Le([{provide:Xn,useExisting:mn(()=>t),multi:!0},{provide:xc,useExisting:mn(()=>t)}])],ngContentSelectors:ss,decls:2,vars:0,consts:[["nz-checkbox","",3,"nzValue","nzName","nzDisabled"]],template:function(n,o){n&1&&(fe(),re(0,0,null,Hm,2,0))},dependencies:[zo],encapsulation:2,changeDetection:0})}}return t})();function Bm(t){return t.map(i=>typeof i=="string"||typeof i=="number"?{label:`${i}`,value:i}:i)}var Bn=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=Ce({type:t})}static{this.\u0275inj=ge({imports:[zo,Lm]})}}return t})();var bc=[["Y",1e3*60*60*24*365],["M",1e3*60*60*24*30],["D",1e3*60*60*24],["H",1e3*60*60],["m",1e3*60],["s",1e3],["S",1]];var $m={locale:"en",Pagination:{items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"},DatePicker:{lang:{placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"],locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"Ok",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"},timePickerLocale:{placeholder:"Select time",rangePlaceholder:["Start time","End time"]}},TimePicker:{placeholder:"Select time",rangePlaceholder:["Start time","End time"]},Calendar:{lang:{placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"],locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"Ok",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"},timePickerLocale:{placeholder:"Select time",rangePlaceholder:["Start time","End time"]}},global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting",filterCheckall:"Select all items",filterSearchPlaceholder:"Search in filters",selectNone:"Clear all data"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No Data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand"},PageHeader:{back:"Back"},Image:{preview:"Preview"},CronExpression:{cronError:"Invalid cron expression",second:"second",minute:"minute",hour:"hour",day:"day",month:"month",week:"week"},QRCode:{expired:"QR code expired",refresh:"Refresh",scanned:"Scanned"}},Wm={locale:"zh-cn",Pagination:{items_per_page:"\u6761/\u9875",jump_to:"\u8DF3\u81F3",jump_to_confirm:"\u786E\u5B9A",page:"\u9875",prev_page:"\u4E0A\u4E00\u9875",next_page:"\u4E0B\u4E00\u9875",prev_5:"\u5411\u524D 5 \u9875",next_5:"\u5411\u540E 5 \u9875",prev_3:"\u5411\u524D 3 \u9875",next_3:"\u5411\u540E 3 \u9875",page_size:"\u9875\u7801"},DatePicker:{lang:{placeholder:"\u8BF7\u9009\u62E9\u65E5\u671F",yearPlaceholder:"\u8BF7\u9009\u62E9\u5E74\u4EFD",quarterPlaceholder:"\u8BF7\u9009\u62E9\u5B63\u5EA6",monthPlaceholder:"\u8BF7\u9009\u62E9\u6708\u4EFD",weekPlaceholder:"\u8BF7\u9009\u62E9\u5468",rangePlaceholder:["\u5F00\u59CB\u65E5\u671F","\u7ED3\u675F\u65E5\u671F"],rangeYearPlaceholder:["\u5F00\u59CB\u5E74\u4EFD","\u7ED3\u675F\u5E74\u4EFD"],rangeQuarterPlaceholder:["\u5F00\u59CB\u5B63\u5EA6","\u7ED3\u675F\u5B63\u5EA6"],rangeMonthPlaceholder:["\u5F00\u59CB\u6708\u4EFD","\u7ED3\u675F\u6708\u4EFD"],rangeWeekPlaceholder:["\u5F00\u59CB\u5468","\u7ED3\u675F\u5468"],locale:"zh_CN",today:"\u4ECA\u5929",now:"\u6B64\u523B",backToToday:"\u8FD4\u56DE\u4ECA\u5929",ok:"\u786E\u5B9A",timeSelect:"\u9009\u62E9\u65F6\u95F4",dateSelect:"\u9009\u62E9\u65E5\u671F",weekSelect:"\u9009\u62E9\u5468",clear:"\u6E05\u9664",month:"\u6708",year:"\u5E74",previousMonth:"\u4E0A\u4E2A\u6708 (\u7FFB\u9875\u4E0A\u952E)",nextMonth:"\u4E0B\u4E2A\u6708 (\u7FFB\u9875\u4E0B\u952E)",monthSelect:"\u9009\u62E9\u6708\u4EFD",yearSelect:"\u9009\u62E9\u5E74\u4EFD",decadeSelect:"\u9009\u62E9\u5E74\u4EE3",yearFormat:"YYYY\u5E74",dayFormat:"D\u65E5",dateFormat:"YYYY\u5E74M\u6708D\u65E5",dateTimeFormat:"YYYY\u5E74M\u6708D\u65E5 HH\u65F6mm\u5206ss\u79D2",previousYear:"\u4E0A\u4E00\u5E74 (Control\u952E\u52A0\u5DE6\u65B9\u5411\u952E)",nextYear:"\u4E0B\u4E00\u5E74 (Control\u952E\u52A0\u53F3\u65B9\u5411\u952E)",previousDecade:"\u4E0A\u4E00\u5E74\u4EE3",nextDecade:"\u4E0B\u4E00\u5E74\u4EE3",previousCentury:"\u4E0A\u4E00\u4E16\u7EAA",nextCentury:"\u4E0B\u4E00\u4E16\u7EAA"},timePickerLocale:{placeholder:"\u8BF7\u9009\u62E9\u65F6\u95F4",rangePlaceholder:["\u5F00\u59CB\u65F6\u95F4","\u7ED3\u675F\u65F6\u95F4"]}},TimePicker:{placeholder:"\u8BF7\u9009\u62E9\u65F6\u95F4",rangePlaceholder:["\u5F00\u59CB\u65F6\u95F4","\u7ED3\u675F\u65F6\u95F4"]},Calendar:{lang:{placeholder:"\u8BF7\u9009\u62E9\u65E5\u671F",yearPlaceholder:"\u8BF7\u9009\u62E9\u5E74\u4EFD",quarterPlaceholder:"\u8BF7\u9009\u62E9\u5B63\u5EA6",monthPlaceholder:"\u8BF7\u9009\u62E9\u6708\u4EFD",weekPlaceholder:"\u8BF7\u9009\u62E9\u5468",rangePlaceholder:["\u5F00\u59CB\u65E5\u671F","\u7ED3\u675F\u65E5\u671F"],rangeYearPlaceholder:["\u5F00\u59CB\u5E74\u4EFD","\u7ED3\u675F\u5E74\u4EFD"],rangeMonthPlaceholder:["\u5F00\u59CB\u6708\u4EFD","\u7ED3\u675F\u6708\u4EFD"],rangeWeekPlaceholder:["\u5F00\u59CB\u5468","\u7ED3\u675F\u5468"],locale:"zh_CN",today:"\u4ECA\u5929",now:"\u6B64\u523B",backToToday:"\u8FD4\u56DE\u4ECA\u5929",ok:"\u786E\u5B9A",timeSelect:"\u9009\u62E9\u65F6\u95F4",dateSelect:"\u9009\u62E9\u65E5\u671F",weekSelect:"\u9009\u62E9\u5468",clear:"\u6E05\u9664",month:"\u6708",year:"\u5E74",previousMonth:"\u4E0A\u4E2A\u6708 (\u7FFB\u9875\u4E0A\u952E)",nextMonth:"\u4E0B\u4E2A\u6708 (\u7FFB\u9875\u4E0B\u952E)",monthSelect:"\u9009\u62E9\u6708\u4EFD",yearSelect:"\u9009\u62E9\u5E74\u4EFD",decadeSelect:"\u9009\u62E9\u5E74\u4EE3",yearFormat:"YYYY\u5E74",dayFormat:"D\u65E5",dateFormat:"YYYY\u5E74M\u6708D\u65E5",dateTimeFormat:"YYYY\u5E74M\u6708D\u65E5 HH\u65F6mm\u5206ss\u79D2",previousYear:"\u4E0A\u4E00\u5E74 (Control\u952E\u52A0\u5DE6\u65B9\u5411\u952E)",nextYear:"\u4E0B\u4E00\u5E74 (Control\u952E\u52A0\u53F3\u65B9\u5411\u952E)",previousDecade:"\u4E0A\u4E00\u5E74\u4EE3",nextDecade:"\u4E0B\u4E00\u5E74\u4EE3",previousCentury:"\u4E0A\u4E00\u4E16\u7EAA",nextCentury:"\u4E0B\u4E00\u4E16\u7EAA"},timePickerLocale:{placeholder:"\u8BF7\u9009\u62E9\u65F6\u95F4",rangePlaceholder:["\u5F00\u59CB\u65F6\u95F4","\u7ED3\u675F\u65F6\u95F4"]}},global:{placeholder:"\u8BF7\u9009\u62E9"},Table:{filterTitle:"\u7B5B\u9009",filterConfirm:"\u786E\u5B9A",filterReset:"\u91CD\u7F6E",filterEmptyText:"\u65E0\u7B5B\u9009\u9879",selectAll:"\u5168\u9009\u5F53\u9875",selectInvert:"\u53CD\u9009\u5F53\u9875",selectionAll:"\u5168\u9009\u6240\u6709",sortTitle:"\u6392\u5E8F",expand:"\u5C55\u5F00\u884C",collapse:"\u5173\u95ED\u884C",triggerDesc:"\u70B9\u51FB\u964D\u5E8F",triggerAsc:"\u70B9\u51FB\u5347\u5E8F",cancelSort:"\u53D6\u6D88\u6392\u5E8F",filterCheckall:"\u5168\u9009",filterSearchPlaceholder:"\u5728\u7B5B\u9009\u9879\u4E2D\u641C\u7D22",selectNone:"\u6E05\u7A7A\u6240\u6709"},Modal:{okText:"\u786E\u5B9A",cancelText:"\u53D6\u6D88",justOkText:"\u77E5\u9053\u4E86"},Popconfirm:{cancelText:"\u53D6\u6D88",okText:"\u786E\u5B9A"},Transfer:{searchPlaceholder:"\u8BF7\u8F93\u5165\u641C\u7D22\u5185\u5BB9",itemUnit:"\u9879",itemsUnit:"\u9879",remove:"\u5220\u9664",selectCurrent:"\u5168\u9009\u5F53\u9875",removeCurrent:"\u5220\u9664\u5F53\u9875",selectAll:"\u5168\u9009\u6240\u6709",removeAll:"\u5220\u9664\u5168\u90E8",selectInvert:"\u53CD\u9009\u5F53\u9875"},Upload:{uploading:"\u6587\u4EF6\u4E0A\u4F20\u4E2D",removeFile:"\u5220\u9664\u6587\u4EF6",uploadError:"\u4E0A\u4F20\u9519\u8BEF",previewFile:"\u9884\u89C8\u6587\u4EF6",downloadFile:"\u4E0B\u8F7D\u6587\u4EF6"},Empty:{description:"\u6682\u65E0\u6570\u636E"},Icon:{icon:"\u56FE\u6807"},Text:{edit:"\u7F16\u8F91",copy:"\u590D\u5236",copied:"\u590D\u5236\u6210\u529F",expand:"\u5C55\u5F00"},PageHeader:{back:"\u8FD4\u56DE"},Image:{preview:"\u9884\u89C8"},CronExpression:{cronError:"cron \u8868\u8FBE\u5F0F\u4E0D\u5408\u6CD5",second:"\u79D2",minute:"\u5206\u949F",hour:"\u5C0F\u65F6",day:"\u65E5",month:"\u6708",week:"\u5468"},QRCode:{expired:"\u4E8C\u7EF4\u7801\u8FC7\u671F",refresh:"\u70B9\u51FB\u5237\u65B0",scanned:"\u5DF2\u626B\u63CF"}},Tc=new tn("nz-i18n");function tw(t){return ll([{provide:Tc,useValue:t}])}var qm=new tn("nz-date-locale"),Un=(()=>{class t{get localeChange(){return this._change.asObservable()}constructor(){this._change=new Ae(this._locale),this.setLocale(_(Tc,{optional:!0})||Wm),this.setDateLocale(_(qm,{optional:!0}))}translate(e,n){let o=this._getObjectPath(this._locale,e);return typeof o=="string"?(n&&Object.keys(n).forEach(a=>o=o.replace(new RegExp(`%${a}%`,"g"),n[a])),o):e}setLocale(e){this._locale&&this._locale.locale===e.locale||(this._locale=e,this._change.next(e))}getLocale(){return this._locale}getLocaleId(){return this._locale?this._locale.locale:""}setDateLocale(e){this.dateLocale=e}getDateLocale(){return this.dateLocale}getLocaleData(e,n){let o=e?this._getObjectPath(this._locale,e):this._locale;return!o&&!n&&Ma(`Missing translations for "${e}" in language "${this._locale.locale}".
You can use "NzI18nService.setLocale" as a temporary fix.
Welcome to submit a pull request to help us optimize the translations!
https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/CONTRIBUTING.md`),o||n||this._getObjectPath($m,e)||{}}_getObjectPath(e,n){let o=e,a=n.split("."),d=a.length,f=0;for(;o&&f<d;)o=o[a[f++]];return f===d?o:null}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=Ye({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var nw=new tn("date-config");var cs=["*"],Gm=t=>[t],Qm=t=>({$implicit:t});function Km(t,i){if(t&1&&(te(0),p(1),ne()),t&2){let e=l(2);c(),K(e.innerTip)}}function Zm(t,i){if(t&1&&(r(0,"div",2)(1,"div",4),u(2,Km,2,1,"ng-container",5),s()()),t&2){let e=l();m("@helpMotion",void 0),c(),Qn(Ie(5,Gm,"ant-form-item-explain-"+e.status)),c(),m("nzStringTemplateOutlet",e.innerTip)("nzStringTemplateOutletContext",Ie(7,Qm,e.validateControl))}}function Jm(t,i){if(t&1&&(te(0),p(1),ne()),t&2){let e=l(2);c(),K(e.nzExtra)}}function Xm(t,i){if(t&1&&(r(0,"div",3),u(1,Jm,2,1,"ng-container",6),s()),t&2){let e=l();c(),m("nzStringTemplateOutlet",e.nzExtra)}}function ep(t,i){if(t&1&&(te(0),h(1,"nz-icon",2),ne()),t&2){let e=i.$implicit,n=l(2);c(),m("nzType",e)("nzTheme",n.tooltipIcon.theme)}}function tp(t,i){if(t&1&&(r(0,"span",0),u(1,ep,2,2,"ng-container",1),s()),t&2){let e=l();m("nzTooltipTitle",e.nzTooltipTitle),c(),m("nzStringTemplateOutlet",e.tooltipIcon.type)}}var Bt=(()=>{class t{setWithHelpViaTips(e){this.withHelpClass=e,this.cdr.markForCheck()}setStatus(e){this.status=e,this.cdr.markForCheck()}setHasFeedback(e){this.hasFeedback=e,this.cdr.markForCheck()}constructor(e){this.cdr=e,this.status="",this.hasFeedback=!1,this.withHelpClass=!1,this.destroy$=new H}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}static{this.\u0275fac=function(n){return new(n||t)(T(se))}}static{this.\u0275cmp=D({type:t,selectors:[["nz-form-item"]],hostAttrs:[1,"ant-form-item"],hostVars:12,hostBindings:function(n,o){n&2&&B("ant-form-item-has-success",o.status==="success")("ant-form-item-has-warning",o.status==="warning")("ant-form-item-has-error",o.status==="error")("ant-form-item-is-validating",o.status==="validating")("ant-form-item-has-feedback",o.hasFeedback&&o.status)("ant-form-item-with-help",o.withHelpClass)},exportAs:["nzFormItem"],ngContentSelectors:cs,decls:1,vars:0,template:function(n,o){n&1&&(fe(),re(0))},encapsulation:2,changeDetection:0})}}return t})(),np="form",ds={type:"question-circle",theme:"outline"},Nt=(()=>{let t,i=[],e=[],n,o=[],a=[],d,f=[],x=[],k,N=[],I=[];return class ls{static{let b=typeof Symbol=="function"&&Symbol.metadata?Object.create(null):void 0;t=[_e()],n=[_e()],d=[_e()],k=[_e()],he(null,null,t,{kind:"field",name:"nzNoColon",static:!1,private:!1,access:{has:v=>"nzNoColon"in v,get:v=>v.nzNoColon,set:(v,S)=>{v.nzNoColon=S}},metadata:b},i,e),he(null,null,n,{kind:"field",name:"nzAutoTips",static:!1,private:!1,access:{has:v=>"nzAutoTips"in v,get:v=>v.nzAutoTips,set:(v,S)=>{v.nzAutoTips=S}},metadata:b},o,a),he(null,null,d,{kind:"field",name:"nzTooltipIcon",static:!1,private:!1,access:{has:v=>"nzTooltipIcon"in v,get:v=>v.nzTooltipIcon,set:(v,S)=>{v.nzTooltipIcon=S}},metadata:b},f,x),he(null,null,k,{kind:"field",name:"nzLabelWrap",static:!1,private:!1,access:{has:v=>"nzLabelWrap"in v,get:v=>v.nzLabelWrap,set:(v,S)=>{v.nzLabelWrap=S}},metadata:b},N,I),b&&Object.defineProperty(this,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:b})}getInputObservable(b){return this.inputChanges$.pipe(Xe(v=>b in v),ae(v=>v[b]))}constructor(b,v){this.nzConfigService=b,this.directionality=v,this._nzModuleName=np,this.nzLayout="horizontal",this.nzNoColon=U(this,i,!1),this.nzAutoTips=(U(this,e),U(this,o,{})),this.nzDisableAutoTips=(U(this,a),!1),this.nzTooltipIcon=U(this,f,ds),this.nzLabelAlign=(U(this,x),"right"),this.nzLabelWrap=U(this,N,!1),this.dir=(U(this,I),"ltr"),this.destroy$=new H,this.inputChanges$=new H,this.dir=this.directionality.value,this.directionality.change?.pipe(P(this.destroy$)).subscribe(S=>{this.dir=S})}ngOnChanges(b){this.inputChanges$.next(b)}ngOnDestroy(){this.inputChanges$.complete(),this.destroy$.next(!0),this.destroy$.complete()}static{this.\u0275fac=function(v){return new(v||ls)(T(nt),T(Ee))}}static{this.\u0275dir=Ve({type:ls,selectors:[["","nz-form",""]],hostAttrs:[1,"ant-form"],hostVars:8,hostBindings:function(v,S){v&2&&B("ant-form-horizontal",S.nzLayout==="horizontal")("ant-form-vertical",S.nzLayout==="vertical")("ant-form-inline",S.nzLayout==="inline")("ant-form-rtl",S.dir==="rtl")},inputs:{nzLayout:"nzLayout",nzNoColon:[2,"nzNoColon","nzNoColon",O],nzAutoTips:"nzAutoTips",nzDisableAutoTips:[2,"nzDisableAutoTips","nzDisableAutoTips",O],nzTooltipIcon:"nzTooltipIcon",nzLabelAlign:"nzLabelAlign",nzLabelWrap:[2,"nzLabelWrap","nzLabelWrap",O]},exportAs:["nzForm"],features:[Q]})}}})(),Ut=(()=>{class t{get disableAutoTips(){return this.nzDisableAutoTips!==void 0?Zl(this.nzDisableAutoTips):!!this.nzFormDirective?.nzDisableAutoTips}set nzHasFeedback(e){this._hasFeedback=e,this.nzFormStatusService.formStatusChanges.next({status:this.status,hasFeedback:this._hasFeedback}),this.nzFormItemComponent&&this.nzFormItemComponent.setHasFeedback(this._hasFeedback)}get nzHasFeedback(){return this._hasFeedback}set nzValidateStatus(e){e instanceof pc||e instanceof zt?(this.validateControl=e,this.validateString=null,this.watchControl()):e instanceof It?(this.validateControl=e.control,this.validateString=null,this.watchControl()):(this.validateString=e,this.validateControl=null,this.setStatus())}watchControl(){this.validateChanges.unsubscribe(),this.validateControl&&this.validateControl.statusChanges&&(this.validateChanges=this.validateControl.statusChanges.pipe(rt(null),P(this.destroyed$)).subscribe(()=>{this.disableAutoTips||this.updateAutoErrorTip(),this.setStatus(),this.cdr.markForCheck()}))}setStatus(){this.status=this.getControlStatus(this.validateString),this.innerTip=this.getInnerTip(this.status),this.nzFormStatusService.formStatusChanges.next({status:this.status,hasFeedback:this.nzHasFeedback}),this.nzFormItemComponent&&(this.nzFormItemComponent.setWithHelpViaTips(!!this.innerTip),this.nzFormItemComponent.setStatus(this.status))}getControlStatus(e){let n;return e==="warning"||this.validateControlStatus("INVALID","warning")?n="warning":e==="error"||this.validateControlStatus("INVALID")?n="error":e==="validating"||e==="pending"||this.validateControlStatus("PENDING")?n="validating":e==="success"||this.validateControlStatus("VALID")?n="success":n="",n}validateControlStatus(e,n){if(this.validateControl){let{dirty:o,touched:a,status:d}=this.validateControl;return(!!o||!!a)&&(n?this.validateControl.hasError(n):d===e)}else return!1}getInnerTip(e){switch(e){case"error":return!this.disableAutoTips&&this.autoErrorTip||this.nzErrorTip||null;case"validating":return this.nzValidatingTip||null;case"success":return this.nzSuccessTip||null;case"warning":return this.nzWarningTip||null;default:return null}}updateAutoErrorTip(){if(this.validateControl){let e=this.validateControl.errors||{},n="";for(let o in e)if(e.hasOwnProperty(o)&&(n=e[o]?.[this.localeId]??this.nzAutoTips?.[this.localeId]?.[o]??this.nzAutoTips.default?.[o]??this.nzFormDirective?.nzAutoTips?.[this.localeId]?.[o]??this.nzFormDirective?.nzAutoTips.default?.[o]),n)break;this.autoErrorTip=n}}subscribeAutoTips(e){e?.pipe(P(this.destroyed$)).subscribe(()=>{this.disableAutoTips||(this.updateAutoErrorTip(),this.setStatus(),this.cdr.markForCheck())})}constructor(e,n,o){this.cdr=e,this.nzFormStatusService=o,this._hasFeedback=!1,this.validateChanges=Sn.EMPTY,this.validateString=null,this.destroyed$=new H,this.status="",this.validateControl=null,this.innerTip=null,this.nzAutoTips={},this.nzFormItemComponent=_(Bt,{host:!0,optional:!0}),this.nzFormDirective=_(Nt,{optional:!0}),this.subscribeAutoTips(n.localeChange.pipe(xi(a=>this.localeId=a.locale))),this.subscribeAutoTips(this.nzFormDirective?.getInputObservable("nzAutoTips")),this.subscribeAutoTips(this.nzFormDirective?.getInputObservable("nzDisableAutoTips").pipe(Xe(()=>this.nzDisableAutoTips===void 0)))}ngOnChanges(e){let{nzDisableAutoTips:n,nzAutoTips:o,nzSuccessTip:a,nzWarningTip:d,nzErrorTip:f,nzValidatingTip:x}=e;n||o?(this.updateAutoErrorTip(),this.setStatus()):(a||d||f||x)&&this.setStatus()}ngOnInit(){this.setStatus()}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}ngAfterContentInit(){!this.validateControl&&!this.validateString&&(this.defaultValidateControl instanceof Fa?this.nzValidateStatus=this.defaultValidateControl.control:this.nzValidateStatus=this.defaultValidateControl)}static{this.\u0275fac=function(n){return new(n||t)(T(se),T(Un),T(En))}}static{this.\u0275cmp=D({type:t,selectors:[["nz-form-control"]],contentQueries:function(n,o,a){if(n&1&&it(a,Na,5),n&2){let d;R(d=Y())&&(o.defaultValidateControl=d.first)}},hostAttrs:[1,"ant-form-item-control"],inputs:{nzSuccessTip:"nzSuccessTip",nzWarningTip:"nzWarningTip",nzErrorTip:"nzErrorTip",nzValidatingTip:"nzValidatingTip",nzExtra:"nzExtra",nzAutoTips:"nzAutoTips",nzDisableAutoTips:[2,"nzDisableAutoTips","nzDisableAutoTips",O],nzHasFeedback:[2,"nzHasFeedback","nzHasFeedback",O],nzValidateStatus:"nzValidateStatus"},exportAs:["nzFormControl"],features:[Le([En]),Q],ngContentSelectors:cs,decls:5,vars:2,consts:[[1,"ant-form-item-control-input"],[1,"ant-form-item-control-input-content"],[1,"ant-form-item-explain","ant-form-item-explain-connected"],[1,"ant-form-item-extra"],["role","alert"],[4,"nzStringTemplateOutlet","nzStringTemplateOutletContext"],[4,"nzStringTemplateOutlet"]],template:function(n,o){n&1&&(fe(),r(0,"div",0)(1,"div",1),re(2),s()(),u(3,Zm,3,9,"div",2)(4,Xm,2,1,"div",3)),n&2&&(c(3),z(o.innerTip?3:-1),c(),z(o.nzExtra?4:-1))},dependencies:[Re,je],encapsulation:2,data:{animation:[Wl]},changeDetection:0})}}return t})();function wc(t){let i=typeof t=="string"?{type:t}:t;return ee(ee({},ds),i)}var Yn=(()=>{class t{set nzNoColon(e){this.noColon=e}get nzNoColon(){return this.noColon!=="default"?this.noColon:!!this.nzFormDirective?.nzNoColon}set nzTooltipIcon(e){this._tooltipIcon=wc(e)}get tooltipIcon(){return this._tooltipIcon!=="default"?this._tooltipIcon:wc(this.nzFormDirective?.nzTooltipIcon||ds)}set nzLabelAlign(e){this.labelAlign=e}get nzLabelAlign(){return this.labelAlign!=="default"?this.labelAlign:this.nzFormDirective?.nzLabelAlign||"right"}set nzLabelWrap(e){this.labelWrap=e}get nzLabelWrap(){return this.labelWrap!=="default"?this.labelWrap:!!this.nzFormDirective?.nzLabelWrap}constructor(e){this.cdr=e,this.nzRequired=!1,this.noColon="default",this._tooltipIcon="default",this.labelAlign="default",this.labelWrap="default",this.destroy$=new H,this.nzFormDirective=_(Nt,{skipSelf:!0,optional:!0}),this.nzFormDirective&&(this.nzFormDirective.getInputObservable("nzNoColon").pipe(Xe(()=>this.noColon==="default"),P(this.destroy$)).subscribe(()=>this.cdr.markForCheck()),this.nzFormDirective.getInputObservable("nzTooltipIcon").pipe(Xe(()=>this._tooltipIcon==="default"),P(this.destroy$)).subscribe(()=>this.cdr.markForCheck()),this.nzFormDirective.getInputObservable("nzLabelAlign").pipe(Xe(()=>this.labelAlign==="default"),P(this.destroy$)).subscribe(()=>this.cdr.markForCheck()),this.nzFormDirective.getInputObservable("nzLabelWrap").pipe(Xe(()=>this.labelWrap==="default"),P(this.destroy$)).subscribe(()=>this.cdr.markForCheck()))}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}static{this.\u0275fac=function(n){return new(n||t)(T(se))}}static{this.\u0275cmp=D({type:t,selectors:[["nz-form-label"]],hostAttrs:[1,"ant-form-item-label"],hostVars:4,hostBindings:function(n,o){n&2&&B("ant-form-item-label-left",o.nzLabelAlign==="left")("ant-form-item-label-wrap",o.nzLabelWrap)},inputs:{nzFor:"nzFor",nzRequired:[2,"nzRequired","nzRequired",O],nzNoColon:[2,"nzNoColon","nzNoColon",O],nzTooltipTitle:"nzTooltipTitle",nzTooltipIcon:"nzTooltipIcon",nzLabelAlign:"nzLabelAlign",nzLabelWrap:[2,"nzLabelWrap","nzLabelWrap",O]},exportAs:["nzFormLabel"],ngContentSelectors:cs,decls:3,vars:6,consts:[["nz-tooltip","",1,"ant-form-item-tooltip",3,"nzTooltipTitle"],[4,"nzStringTemplateOutlet"],[3,"nzType","nzTheme"]],template:function(n,o){n&1&&(fe(),r(0,"label"),re(1),u(2,tp,2,2,"span",0),s()),n&2&&(B("ant-form-item-no-colon",o.nzNoColon)("ant-form-item-required",o.nzRequired),He("for",o.nzFor),c(2),z(o.nzTooltipTitle?2:-1))},dependencies:[Re,je,lc,J,me],encapsulation:2,changeDetection:0})}}return t})();var Ft=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=Ce({type:t})}static{this.\u0275inj=ge({imports:[Yn,Ut,ai]})}}return t})();var ap=["nz-input-group-slot",""],Dc=["*"];function rp(t,i){if(t&1&&h(0,"nz-icon",0),t&2){let e=l();m("nzType",e.icon)}}function sp(t,i){if(t&1&&(te(0),p(1),ne()),t&2){let e=l();c(),K(e.template)}}function lp(t,i){if(t&1&&h(0,"span",3),t&2){let e=l(2);m("icon",e.nzAddOnBeforeIcon)("template",e.nzAddOnBefore)}}function cp(t,i){}function dp(t,i){if(t&1&&(r(0,"span",6),u(1,cp,0,0,"ng-template",5),s()),t&2){let e=l(2),n=E(3);Qn(e.affixInGroupStatusCls),B("ant-input-affix-wrapper-disabled",e.disabled)("ant-input-affix-wrapper-sm",e.isSmall)("ant-input-affix-wrapper-lg",e.isLarge)("ant-input-affix-wrapper-focused",e.focused),c(),m("ngTemplateOutlet",n)}}function mp(t,i){}function pp(t,i){if(t&1&&u(0,mp,0,0,"ng-template",5),t&2){l(2);let e=E(5);m("ngTemplateOutlet",e)}}function up(t,i){if(t&1&&h(0,"span",3),t&2){let e=l(2);m("icon",e.nzAddOnAfterIcon)("template",e.nzAddOnAfter)}}function hp(t,i){if(t&1&&(r(0,"span",2),u(1,lp,1,2,"span",3)(2,dp,2,11,"span",4)(3,pp,1,1,null,5)(4,up,1,2,"span",3),s()),t&2){let e=l();c(),z(e.nzAddOnBefore||e.nzAddOnBeforeIcon?1:-1),c(),z(e.isAffix||e.hasFeedback?2:3),c(2),z(e.nzAddOnAfter||e.nzAddOnAfterIcon?4:-1)}}function fp(t,i){}function _p(t,i){if(t&1&&u(0,fp,0,0,"ng-template",5),t&2){l(2);let e=E(3);m("ngTemplateOutlet",e)}}function gp(t,i){}function Cp(t,i){if(t&1&&u(0,gp,0,0,"ng-template",5),t&2){l(2);let e=E(5);m("ngTemplateOutlet",e)}}function vp(t,i){if(t&1&&u(0,_p,1,1,null,5)(1,Cp,1,1,null,5),t&2){let e=l();z(e.isAffix?0:1)}}function zp(t,i){if(t&1&&h(0,"span",7),t&2){let e=l(2);m("icon",e.nzPrefixIcon)("template",e.nzPrefix)}}function Sp(t,i){}function yp(t,i){if(t&1&&h(0,"nz-form-item-feedback-icon",9),t&2){let e=l(3);m("status",e.status)}}function xp(t,i){if(t&1&&(r(0,"span",8),u(1,yp,1,1,"nz-form-item-feedback-icon",9),s()),t&2){let e=l(2);m("icon",e.nzSuffixIcon)("template",e.nzSuffix),c(),z(e.isFeedback?1:-1)}}function bp(t,i){if(t&1&&u(0,zp,1,2,"span",7)(1,Sp,0,0,"ng-template",5)(2,xp,2,3,"span",8),t&2){let e=l(),n=E(5);z(e.nzPrefix||e.nzPrefixIcon?0:-1),c(),m("ngTemplateOutlet",n),c(),z(e.nzSuffix||e.nzSuffixIcon||e.isFeedback?2:-1)}}function Tp(t,i){if(t&1&&(r(0,"span",10),h(1,"nz-form-item-feedback-icon",9),s()),t&2){let e=l(2);c(),m("status",e.status)}}function wp(t,i){if(t&1&&(re(0),u(1,Tp,2,1,"span",10)),t&2){let e=l();c(),z(!e.isAddOn&&!e.isAffix&&e.isFeedback?1:-1)}}var Dp=["otpInput"];function Mp(t,i){if(t&1){let e=M();r(0,"input",2,0),y("input",function(o){let a=g(e).$index,d=l();return C(d.onInput(a,o))})("focus",function(o){g(e);let a=l();return C(a.onFocus(o))})("keydown",function(o){let a=g(e).$index,d=l();return C(d.onKeyDown(a,o))})("paste",function(o){let a=g(e).$index,d=l();return C(d.onPaste(a,o))}),s()}if(t&2){let e=i.$implicit,n=l();m("nzSize",n.nzSize)("formControl",e)("nzStatus",n.nzStatus)}}var kp=[[["textarea","nz-input",""]]],Pp=["textarea[nz-input]"];var Mc=(()=>{class t{constructor(){this.icon=null,this.type=null,this.template=null}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=D({type:t,selectors:[["","nz-input-group-slot",""]],hostVars:6,hostBindings:function(n,o){n&2&&B("ant-input-group-addon",o.type==="addon")("ant-input-prefix",o.type==="prefix")("ant-input-suffix",o.type==="suffix")},inputs:{icon:"icon",type:"type",template:"template"},attrs:ap,ngContentSelectors:Dc,decls:3,vars:2,consts:[[3,"nzType"],[4,"nzStringTemplateOutlet"]],template:function(n,o){n&1&&(fe(),u(0,rp,1,1,"nz-icon",0)(1,sp,2,1,"ng-container",1),re(2)),n&2&&(z(o.icon?0:-1),c(),m("nzStringTemplateOutlet",o.template))},dependencies:[J,me,Re,je],encapsulation:2,changeDetection:0})}}return t})(),Tt=(()=>{class t{get disabled(){return this.ngControl&&this.ngControl.disabled!==null?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=e}constructor(e,n,o,a){this.renderer=e,this.elementRef=n,this.hostView=o,this.directionality=a,this.nzBorderless=!1,this.nzSize="default",this.nzStepperless=!0,this.nzStatus="",this._disabled=!1,this.disabled$=new H,this.dir="ltr",this.prefixCls="ant-input",this.status="",this.statusCls={},this.hasFeedback=!1,this.feedbackRef=null,this.components=[],this.ngControl=_(Na,{self:!0,optional:!0}),this.finalSize=de(()=>this.compactSize?this.compactSize():this.size()),this.size=yt(this.nzSize),this.compactSize=_(Pa,{optional:!0}),this.destroy$=_(Ct),this.nzFormStatusService=_(En,{optional:!0}),this.nzFormNoStatusService=_(vo,{optional:!0})}ngOnInit(){this.nzFormStatusService?.formStatusChanges.pipe(Nn((e,n)=>e.status===n.status&&e.hasFeedback===n.hasFeedback),P(this.destroy$)).subscribe(({status:e,hasFeedback:n})=>{this.setStatusStyles(e,n)}),this.ngControl&&this.ngControl.statusChanges?.pipe(Xe(()=>this.ngControl.disabled!==null),P(this.destroy$)).subscribe(()=>{this.disabled$.next(this.ngControl.disabled)}),this.dir=this.directionality.value,this.directionality.change?.pipe(P(this.destroy$)).subscribe(e=>{this.dir=e})}ngOnChanges({disabled:e,nzStatus:n,nzSize:o}){e&&this.disabled$.next(this.disabled),n&&this.setStatusStyles(this.nzStatus,this.hasFeedback),o&&this.size.set(o.currentValue)}setStatusStyles(e,n){this.status=e,this.hasFeedback=n,this.renderFeedbackIcon(),this.statusCls=eo(this.prefixCls,e,n),Object.keys(this.statusCls).forEach(o=>{this.statusCls[o]?this.renderer.addClass(this.elementRef.nativeElement,o):this.renderer.removeClass(this.elementRef.nativeElement,o)})}renderFeedbackIcon(){if(!this.status||!this.hasFeedback||this.nzFormNoStatusService){this.hostView.clear(),this.feedbackRef=null;return}this.feedbackRef=this.feedbackRef||this.hostView.createComponent(Go),this.feedbackRef.location.nativeElement.classList.add("ant-input-suffix"),this.feedbackRef.instance.status=this.status,this.feedbackRef.instance.updateIcon()}static{this.\u0275fac=function(n){return new(n||t)(T(xt),T(pe),T(Fn),T(Ee))}}static{this.\u0275dir=Ve({type:t,selectors:[["input","nz-input",""],["textarea","nz-input",""]],hostAttrs:[1,"ant-input"],hostVars:13,hostBindings:function(n,o){n&2&&(He("disabled",o.disabled||null),B("ant-input-disabled",o.disabled)("ant-input-borderless",o.nzBorderless)("ant-input-lg",o.finalSize()==="large")("ant-input-sm",o.finalSize()==="small")("ant-input-rtl",o.dir==="rtl")("ant-input-stepperless",o.nzStepperless))},inputs:{nzBorderless:[2,"nzBorderless","nzBorderless",O],nzSize:"nzSize",nzStepperless:[2,"nzStepperless","nzStepperless",O],nzStatus:"nzStatus",disabled:[2,"disabled","disabled",O]},exportAs:["nzInput"],features:[Le([Ct,{provide:Uo,useValue:"input"}]),Ti([$o]),Q]})}}return t})();var ei=(()=>{class t{constructor(e,n,o,a,d){this.focusMonitor=e,this.elementRef=n,this.renderer=o,this.cdr=a,this.directionality=d,this.nzAddOnBeforeIcon=null,this.nzAddOnAfterIcon=null,this.nzPrefixIcon=null,this.nzSuffixIcon=null,this.nzStatus="",this.nzSize="default",this.nzSearch=!1,this.nzCompact=!1,this.isLarge=!1,this.isSmall=!1,this.isAffix=!1,this.isAddOn=!1,this.isFeedback=!1,this.focused=!1,this.disabled=!1,this.dir="ltr",this.prefixCls="ant-input",this.affixStatusCls={},this.groupStatusCls={},this.affixInGroupStatusCls={},this.status="",this.hasFeedback=!1,this.destroy$=new H,this.nzFormStatusService=_(En,{optional:!0}),this.nzFormNoStatusService=_(vo,{optional:!0})}updateChildrenInputSize(){this.listOfNzInputDirective&&this.listOfNzInputDirective.forEach(e=>e.size.set(this.nzSize))}ngOnInit(){this.nzFormStatusService?.formStatusChanges.pipe(Nn((e,n)=>e.status===n.status&&e.hasFeedback===n.hasFeedback),P(this.destroy$)).subscribe(({status:e,hasFeedback:n})=>{this.setStatusStyles(e,n)}),this.focusMonitor.monitor(this.elementRef,!0).pipe(P(this.destroy$)).subscribe(e=>{this.focused=!!e,this.cdr.markForCheck()}),this.dir=this.directionality.value,this.directionality.change?.pipe(P(this.destroy$)).subscribe(e=>{this.dir=e})}ngAfterContentInit(){this.updateChildrenInputSize();let e=this.listOfNzInputDirective.changes.pipe(rt(this.listOfNzInputDirective));e.pipe(St(n=>gt(e,...n.map(o=>o.disabled$))),so(()=>e),ae(n=>n.some(o=>o.disabled)),P(this.destroy$)).subscribe(n=>{this.disabled=n,this.cdr.markForCheck()})}ngOnChanges(e){let{nzSize:n,nzSuffix:o,nzPrefix:a,nzPrefixIcon:d,nzSuffixIcon:f,nzAddOnAfter:x,nzAddOnBefore:k,nzAddOnAfterIcon:N,nzAddOnBeforeIcon:I,nzStatus:$}=e;n&&(this.updateChildrenInputSize(),this.isLarge=this.nzSize==="large",this.isSmall=this.nzSize==="small"),(o||a||d||f)&&(this.isAffix=!!(this.nzSuffix||this.nzPrefix||this.nzPrefixIcon||this.nzSuffixIcon)),(x||k||N||I)&&(this.isAddOn=!!(this.nzAddOnAfter||this.nzAddOnBefore||this.nzAddOnAfterIcon||this.nzAddOnBeforeIcon),this.nzFormNoStatusService?.noFormStatus?.next(this.isAddOn)),$&&this.setStatusStyles(this.nzStatus,this.hasFeedback)}ngOnDestroy(){this.focusMonitor.stopMonitoring(this.elementRef),this.destroy$.next(),this.destroy$.complete()}setStatusStyles(e,n){this.status=e,this.hasFeedback=n,this.isFeedback=!!e&&n;let o=!!(this.nzSuffix||this.nzPrefix||this.nzPrefixIcon||this.nzSuffixIcon);this.isAffix=o||!this.isAddOn&&n,this.affixInGroupStatusCls=this.isAffix||this.isFeedback?this.affixStatusCls=eo(`${this.prefixCls}-affix-wrapper`,e,n):{},this.cdr.markForCheck(),this.affixStatusCls=eo(`${this.prefixCls}-affix-wrapper`,this.isAddOn?"":e,this.isAddOn?!1:n),this.groupStatusCls=eo(`${this.prefixCls}-group-wrapper`,this.isAddOn?e:"",this.isAddOn?n:!1);let a=ee(ee({},this.affixStatusCls),this.groupStatusCls);Object.keys(a).forEach(d=>{a[d]?this.renderer.addClass(this.elementRef.nativeElement,d):this.renderer.removeClass(this.elementRef.nativeElement,d)})}static{this.\u0275fac=function(n){return new(n||t)(T(Zn),T(pe),T(xt),T(se),T(Ee))}}static{this.\u0275cmp=D({type:t,selectors:[["nz-input-group"]],contentQueries:function(n,o,a){if(n&1&&it(a,Tt,4),n&2){let d;R(d=Y())&&(o.listOfNzInputDirective=d)}},hostVars:40,hostBindings:function(n,o){n&2&&B("ant-input-group-compact",o.nzCompact)("ant-input-search-enter-button",o.nzSearch)("ant-input-search",o.nzSearch)("ant-input-search-rtl",o.dir==="rtl")("ant-input-search-sm",o.nzSearch&&o.isSmall)("ant-input-search-large",o.nzSearch&&o.isLarge)("ant-input-group-wrapper",o.isAddOn)("ant-input-group-wrapper-rtl",o.dir==="rtl")("ant-input-group-wrapper-lg",o.isAddOn&&o.isLarge)("ant-input-group-wrapper-sm",o.isAddOn&&o.isSmall)("ant-input-affix-wrapper",o.isAffix&&!o.isAddOn)("ant-input-affix-wrapper-rtl",o.dir==="rtl")("ant-input-affix-wrapper-focused",o.isAffix&&o.focused)("ant-input-affix-wrapper-disabled",o.isAffix&&o.disabled)("ant-input-affix-wrapper-lg",o.isAffix&&!o.isAddOn&&o.isLarge)("ant-input-affix-wrapper-sm",o.isAffix&&!o.isAddOn&&o.isSmall)("ant-input-group",!o.isAffix&&!o.isAddOn)("ant-input-group-rtl",o.dir==="rtl")("ant-input-group-lg",!o.isAffix&&!o.isAddOn&&o.isLarge)("ant-input-group-sm",!o.isAffix&&!o.isAddOn&&o.isSmall)},inputs:{nzAddOnBeforeIcon:"nzAddOnBeforeIcon",nzAddOnAfterIcon:"nzAddOnAfterIcon",nzPrefixIcon:"nzPrefixIcon",nzSuffixIcon:"nzSuffixIcon",nzAddOnBefore:"nzAddOnBefore",nzAddOnAfter:"nzAddOnAfter",nzPrefix:"nzPrefix",nzStatus:"nzStatus",nzSuffix:"nzSuffix",nzSize:"nzSize",nzSearch:[2,"nzSearch","nzSearch",O],nzCompact:[2,"nzCompact","nzCompact",O]},exportAs:["nzInputGroup"],features:[Le([vo,{provide:Uo,useValue:"input"}]),Ti([$o]),Q],ngContentSelectors:Dc,decls:6,vars:1,consts:[["affixTemplate",""],["contentTemplate",""],[1,"ant-input-wrapper","ant-input-group"],["nz-input-group-slot","","type","addon",3,"icon","template"],[1,"ant-input-affix-wrapper",3,"ant-input-affix-wrapper-disabled","ant-input-affix-wrapper-sm","ant-input-affix-wrapper-lg","ant-input-affix-wrapper-focused","class"],[3,"ngTemplateOutlet"],[1,"ant-input-affix-wrapper"],["nz-input-group-slot","","type","prefix",3,"icon","template"],["nz-input-group-slot","","type","suffix",3,"icon","template"],[3,"status"],["nz-input-group-slot","","type","suffix"]],template:function(n,o){n&1&&(fe(),u(0,hp,5,3,"span",2)(1,vp,2,1)(2,bp,3,3,"ng-template",null,0,V)(4,wp,2,1,"ng-template",null,1,V)),n&2&&z(o.isAddOn?0:1)},dependencies:[Mc,ie,Go],encapsulation:2,changeDetection:0})}}return t})(),Ip=(()=>{class t{constructor(e,n){this.formBuilder=e,this.nzDestroyService=n,this.nzLength=6,this.nzSize="default",this.disabled=!1,this.nzStatus="",this.nzFormatter=o=>o,this.nzMask=null,this.internalValue=[],this.onTouched=()=>{},this.createFormArray()}ngOnChanges(e){e.nzLength?.currentValue&&this.createFormArray(),e.disabled&&this.setDisabledState(this.disabled)}onInput(e,n){let o=n.target,a=this.otpInputs.toArray()[e+1];o.value&&a?a.nativeElement.focus():a||this.selectInputBox(e)}onFocus(e){e.target.select()}onKeyDown(e,n){let o=this.otpInputs.toArray()[e-1];n.keyCode===8&&(n.preventDefault(),this.internalValue[e]="",this.otpArray.at(e).setValue("",{emitEvent:!1}),o&&this.selectInputBox(e-1),this.emitValue())}writeValue(e){if(!e){this.otpArray.reset();return}let n=e.split("");this.internalValue=n,n.forEach((o,a)=>{let d=this.nzFormatter(o),f=this.nzMask?this.nzMask:d;this.otpArray.at(a).setValue(f,{emitEvent:!1})})}registerOnChange(e){this.onChangeCallback=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){e?this.otpArray.disable():this.otpArray.enable()}onPaste(e,n){let o=n.clipboardData?.getData("text")||"";if(!o)return;let a=e;for(let d of o.split(""))if(a<this.nzLength){let f=this.nzFormatter(d);this.internalValue[a]=d;let x=this.nzMask?this.nzMask:f;this.otpArray.at(a).setValue(x,{emitEvent:!1}),a++}else break;n.preventDefault(),this.selectInputBox(a),this.emitValue()}createFormArray(){this.otpArray=this.formBuilder.array([]),this.internalValue=new Array(this.nzLength).fill("");for(let e=0;e<this.nzLength;e++){let n=this.formBuilder.nonNullable.control("",[le.required]);n.valueChanges.pipe(xi(o=>{let a=this.nzFormatter(o);this.internalValue[e]=a,n.setValue(this.nzMask??a,{emitEvent:!1}),this.emitValue()}),P(this.nzDestroyService)).subscribe(),this.otpArray.push(n)}}emitValue(){let e=this.internalValue.join("");this.onChangeCallback&&this.onChangeCallback(e)}selectInputBox(e){let n=this.otpInputs.toArray();e>=n.length&&(e=n.length-1),n[e].nativeElement.select()}static{this.\u0275fac=function(n){return new(n||t)(T(on),T(Ct))}}static{this.\u0275cmp=D({type:t,selectors:[["nz-input-otp"]],viewQuery:function(n,o){if(n&1&&G(Dp,5),n&2){let a;R(a=Y())&&(o.otpInputs=a)}},hostAttrs:[1,"ant-otp"],inputs:{nzLength:[2,"nzLength","nzLength",pn],nzSize:"nzSize",disabled:[2,"disabled","disabled",O],nzStatus:"nzStatus",nzFormatter:"nzFormatter",nzMask:"nzMask"},exportAs:["nzInputOtp"],features:[Le([{provide:Xn,useExisting:mn(()=>t),multi:!0},Ct]),Q],decls:2,vars:0,consts:[["otpInput",""],["nz-input","","type","text","maxlength","1","size","1",1,"ant-otp-input",3,"nzSize","formControl","nzStatus"],["nz-input","","type","text","maxlength","1","size","1",1,"ant-otp-input",3,"input","focus","keydown","paste","nzSize","formControl","nzStatus"]],template:function(n,o){n&1&&j(0,Mp,2,3,"input",1,_n),n&2&&L(o.otpArray.controls)},dependencies:[Tt,Ue,vt,Oe,uc,Fa],encapsulation:2,changeDetection:0})}}return t})(),kc=(()=>{class t{constructor(e,n){this.renderer=e,this.elementRef=n,this.nzMaxCharacterCount=0,this.nzComputeCharacterCount=o=>o.length,this.nzFormatter=(o,a)=>`${o}${a>0?`/${a}`:""}`,this.configChange$=new H,this.destroy$=new H}ngAfterContentInit(){if(!this.nzInputDirective&&yl())throw new Error("[nz-textarea-count]: Could not find matching textarea[nz-input] child.");if(this.nzInputDirective.ngControl){let e=this.nzInputDirective.ngControl.valueChanges||Si;gt(e,this.configChange$).pipe(P(this.destroy$),ae(()=>this.nzInputDirective.ngControl.value),rt(this.nzInputDirective.ngControl.value)).subscribe(n=>{this.setDataCount(n)})}}setDataCount(e){let n=Oi(e)?String(e):"",o=this.nzComputeCharacterCount(n),a=this.nzFormatter(o,this.nzMaxCharacterCount);this.renderer.setAttribute(this.elementRef.nativeElement,"data-count",a)}ngOnDestroy(){this.configChange$.complete(),this.destroy$.next(!0),this.destroy$.complete()}static{this.\u0275fac=function(n){return new(n||t)(T(xt),T(pe))}}static{this.\u0275cmp=D({type:t,selectors:[["nz-textarea-count"]],contentQueries:function(n,o,a){if(n&1&&it(a,Tt,7),n&2){let d;R(d=Y())&&(o.nzInputDirective=d.first)}},hostAttrs:[1,"ant-input-textarea-show-count"],inputs:{nzMaxCharacterCount:[2,"nzMaxCharacterCount","nzMaxCharacterCount",pn],nzComputeCharacterCount:"nzComputeCharacterCount",nzFormatter:"nzFormatter"},ngContentSelectors:Pp,decls:1,vars:0,template:function(n,o){n&1&&(fe(kp),re(0))},encapsulation:2,changeDetection:0})}}return t})(),ht=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=Ce({type:t})}static{this.\u0275inj=ge({imports:[ei,Mc,Ip]})}}return t})();var Pc=class t{static{this.formats={B:{max:1024},kB:{max:Math.pow(1024,2),prev:"B"},KB:{max:Math.pow(1024,2),prev:"B"},MB:{max:Math.pow(1024,3),prev:"kB"},GB:{max:Math.pow(1024,4),prev:"MB"},TB:{max:Number.MAX_SAFE_INTEGER,prev:"GB"}}}transform(i,e=0,n="B",o){if(!(ns(i)&&ns(e)&&e%1===0&&e>=0))return i;let a=i,d=n;for(;d!=="B";)a*=1024,d=t.formats[d].prev;if(o){let f=t.formats[o],x=is(t.calculateResult(f,a),e);return t.formatResult(x,o)}for(let f in t.formats)if(t.formats.hasOwnProperty(f)){let x=t.formats[f];if(a<x.max){let k=is(t.calculateResult(x,a),e);return t.formatResult(k,f)}}}static formatResult(i,e){return`${i} ${e}`}static calculateResult(i,e){let n=i.prev?t.formats[i.prev]:void 0;return n?e/n.max:e}static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275pipe=mo({name:"nzBytes",type:t,pure:!0})}},ms=(()=>{class t{transform(e,n="px"){return typeof e=="number"?`${e}${n}`:e}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275pipe=mo({name:"nzToCssUnit",type:t,pure:!0})}}return t})();var ps=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=Ce({type:t})}static{this.\u0275inj=ge({})}}return t})();function Wc(t){let i=t.cloneNode(!0),e=i.querySelectorAll("[id]"),n=t.nodeName.toLowerCase();i.removeAttribute("id");for(let o=0;o<e.length;o++)e[o].removeAttribute("id");return n==="canvas"?Nc(t,i):(n==="input"||n==="select"||n==="textarea")&&Oc(t,i),Ic("canvas",t,i,Nc),Ic("input, textarea, select",t,i,Oc),i}function Ic(t,i,e,n){let o=i.querySelectorAll(t);if(o.length){let a=e.querySelectorAll(t);for(let d=0;d<o.length;d++)n(o[d],a[d])}}var Np=0;function Oc(t,i){i.type!=="file"&&(i.value=t.value),i.type==="radio"&&i.name&&(i.name=`mat-clone-${i.name}-${Np++}`)}function Nc(t,i){let e=i.getContext("2d");if(e)try{e.drawImage(t,0,0)}catch{}}function zs(t){let i=t.getBoundingClientRect();return{top:i.top,right:i.right,bottom:i.bottom,left:i.left,width:i.width,height:i.height,x:i.x,y:i.y}}function hs(t,i,e){let{top:n,bottom:o,left:a,right:d}=t;return e>=n&&e<=o&&i>=a&&i<=d}function Jo(t,i,e){t.top+=i,t.bottom=t.top+t.height,t.left+=e,t.right=t.left+t.width}function Fc(t,i,e,n){let{top:o,right:a,bottom:d,left:f,width:x,height:k}=t,N=x*i,I=k*i;return n>o-I&&n<d+I&&e>f-N&&e<a+N}var Ha=class{_document;positions=new Map;constructor(i){this._document=i}clear(){this.positions.clear()}cache(i){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),i.forEach(e=>{this.positions.set(e,{scrollPosition:{top:e.scrollTop,left:e.scrollLeft},clientRect:zs(e)})})}handleScroll(i){let e=Ki(i),n=this.positions.get(e);if(!n)return null;let o=n.scrollPosition,a,d;if(e===this._document){let k=this.getViewportScrollPosition();a=k.top,d=k.left}else a=e.scrollTop,d=e.scrollLeft;let f=o.top-a,x=o.left-d;return this.positions.forEach((k,N)=>{k.clientRect&&e!==N&&e.contains(N)&&Jo(k.clientRect,f,x)}),o.top=a,o.left=d,{top:f,left:x}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}};function qc(t,i){let e=t.rootNodes;if(e.length===1&&e[0].nodeType===i.ELEMENT_NODE)return e[0];let n=i.createElement("div");return e.forEach(o=>n.appendChild(o)),n}function Ss(t,i,e){for(let n in i)if(i.hasOwnProperty(n)){let o=i[n];o?t.setProperty(n,o,e?.has(n)?"important":""):t.removeProperty(n)}return t}function So(t,i){let e=i?"":"none";Ss(t.style,{"touch-action":i?"":"none","-webkit-user-drag":i?"":"none","-webkit-tap-highlight-color":i?"":"transparent","user-select":e,"-ms-user-select":e,"-webkit-user-select":e,"-moz-user-select":e})}function Ec(t,i,e){Ss(t.style,{position:i?"":"fixed",top:i?"":"0",opacity:i?"":"0",left:i?"":"-999em"},e)}function ja(t,i){return i&&i!="none"?t+" "+i:t}function Ac(t,i){t.style.width=`${i.width}px`,t.style.height=`${i.height}px`,t.style.transform=La(i.left,i.top)}function La(t,i){return`translate3d(${Math.round(t)}px, ${Math.round(i)}px, 0)`}function Rc(t){let i=t.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(t)*i}function Fp(t){let i=getComputedStyle(t),e=us(i,"transition-property"),n=e.find(f=>f==="transform"||f==="all");if(!n)return 0;let o=e.indexOf(n),a=us(i,"transition-duration"),d=us(i,"transition-delay");return Rc(a[o])+Rc(d[o])}function us(t,i){return t.getPropertyValue(i).split(",").map(n=>n.trim())}var Ep=new Set(["position"]),fs=class{_document;_rootElement;_direction;_initialDomRect;_previewTemplate;_previewClass;_pickupPositionOnPage;_initialTransform;_zIndex;_renderer;_previewEmbeddedView;_preview;get element(){return this._preview}constructor(i,e,n,o,a,d,f,x,k,N){this._document=i,this._rootElement=e,this._direction=n,this._initialDomRect=o,this._previewTemplate=a,this._previewClass=d,this._pickupPositionOnPage=f,this._initialTransform=x,this._zIndex=k,this._renderer=N}attach(i){this._preview=this._createPreview(),i.appendChild(this._preview),Yc(this._preview)&&this._preview.showPopover()}destroy(){this._preview.remove(),this._previewEmbeddedView?.destroy(),this._preview=this._previewEmbeddedView=null}setTransform(i){this._preview.style.transform=i}getBoundingClientRect(){return this._preview.getBoundingClientRect()}addClass(i){this._preview.classList.add(i)}getTransitionDuration(){return Fp(this._preview)}addEventListener(i,e){return this._renderer.listen(this._preview,i,e)}_createPreview(){let i=this._previewTemplate,e=this._previewClass,n=i?i.template:null,o;if(n&&i){let a=i.matchSize?this._initialDomRect:null,d=i.viewContainer.createEmbeddedView(n,i.context);d.detectChanges(),o=qc(d,this._document),this._previewEmbeddedView=d,i.matchSize?Ac(o,a):o.style.transform=La(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else o=Wc(this._rootElement),Ac(o,this._initialDomRect),this._initialTransform&&(o.style.transform=this._initialTransform);return Ss(o.style,{"pointer-events":"none",margin:Yc(o)?"0 auto 0 0":"0",position:"fixed",top:"0",left:"0","z-index":this._zIndex+""},Ep),So(o,!1),o.classList.add("cdk-drag-preview"),o.setAttribute("popover","manual"),o.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(a=>o.classList.add(a)):o.classList.add(e)),o}};function Yc(t){return"showPopover"in t}var Vc=Ho({passive:!0}),Ya=Ho({passive:!1}),Hc=Ho({passive:!1,capture:!0}),Ap=800,jc=new Set(["position"]),_s=class{_config;_document;_ngZone;_viewportRuler;_dragDropRegistry;_renderer;_preview;_previewContainer;_placeholderRef;_placeholder;_pickupPositionInElement;_pickupPositionOnPage;_anchor;_passiveTransform={x:0,y:0};_activeTransform={x:0,y:0};_initialTransform;_hasStartedDragging=yt(!1);_hasMoved;_initialContainer;_initialIndex;_parentPositions;_moveEvents=new H;_pointerDirectionDelta;_pointerPositionAtLastDirectionChange;_lastKnownPointerPosition;_rootElement;_ownerSVGElement;_rootElementTapHighlight;_pointerMoveSubscription=Sn.EMPTY;_pointerUpSubscription=Sn.EMPTY;_scrollSubscription=Sn.EMPTY;_resizeSubscription=Sn.EMPTY;_lastTouchEventTime;_dragStartTime;_boundaryElement=null;_nativeInteractionsEnabled=!0;_initialDomRect;_previewRect;_boundaryRect;_previewTemplate;_placeholderTemplate;_handles=[];_disabledHandles=new Set;_dropContainer;_direction="ltr";_parentDragRef;_cachedShadowRoot;lockAxis;dragStartDelay=0;previewClass;scale=1;get disabled(){return this._disabled||!!(this._dropContainer&&this._dropContainer.disabled)}set disabled(i){i!==this._disabled&&(this._disabled=i,this._toggleNativeDragInteractions(),this._handles.forEach(e=>So(e,i)))}_disabled=!1;beforeStarted=new H;started=new H;released=new H;ended=new H;entered=new H;exited=new H;dropped=new H;moved=this._moveEvents;data;constrainPosition;constructor(i,e,n,o,a,d,f){this._config=e,this._document=n,this._ngZone=o,this._viewportRuler=a,this._dragDropRegistry=d,this._renderer=f,this.withRootElement(i).withParent(e.parentDragRef||null),this._parentPositions=new Ha(n),d.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(i){this._handles=i.map(n=>Mi(n)),this._handles.forEach(n=>So(n,this.disabled)),this._toggleNativeDragInteractions();let e=new Set;return this._disabledHandles.forEach(n=>{this._handles.indexOf(n)>-1&&e.add(n)}),this._disabledHandles=e,this}withPreviewTemplate(i){return this._previewTemplate=i,this}withPlaceholderTemplate(i){return this._placeholderTemplate=i,this}withRootElement(i){let e=Mi(i);return e!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{e.addEventListener("mousedown",this._pointerDown,Ya),e.addEventListener("touchstart",this._pointerDown,Vc),e.addEventListener("dragstart",this._nativeDragStart,Ya)}),this._initialTransform=void 0,this._rootElement=e),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(i){return this._boundaryElement=i?Mi(i):null,this._resizeSubscription.unsubscribe(),i&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(i){return this._parentDragRef=i,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeListeners(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging()&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(i){!this._disabledHandles.has(i)&&this._handles.indexOf(i)>-1&&(this._disabledHandles.add(i),So(i,!0))}enableHandle(i){this._disabledHandles.has(i)&&(this._disabledHandles.delete(i),So(i,this.disabled))}withDirection(i){return this._direction=i,this}_withDropContainer(i){this._dropContainer=i}getFreeDragPosition(){let i=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:i.x,y:i.y}}setFreeDragPosition(i){return this._activeTransform={x:0,y:0},this._passiveTransform.x=i.x,this._passiveTransform.y=i.y,this._dropContainer||this._applyRootElementTransform(i.x,i.y),this}withPreviewContainer(i){return this._previewContainer=i,this}_sortFromLastPointerPosition(){let i=this._lastKnownPointerPosition;i&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(i),i)}_removeListeners(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe(),this._getShadowRoot()?.removeEventListener("selectstart",Bc,Hc)}_destroyPreview(){this._preview?.destroy(),this._preview=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_pointerDown=i=>{if(this.beforeStarted.next(),this._handles.length){let e=this._getTargetHandle(i);e&&!this._disabledHandles.has(e)&&!this.disabled&&this._initializeDragSequence(e,i)}else this.disabled||this._initializeDragSequence(this._rootElement,i)};_pointerMove=i=>{let e=this._getPointerPositionOnPage(i);if(!this._hasStartedDragging()){let o=Math.abs(e.x-this._pickupPositionOnPage.x),a=Math.abs(e.y-this._pickupPositionOnPage.y);if(o+a>=this._config.dragStartThreshold){let f=Date.now()>=this._dragStartTime+this._getDragStartDelay(i),x=this._dropContainer;if(!f){this._endDragSequence(i);return}(!x||!x.isDragging()&&!x.isReceiving())&&(i.cancelable&&i.preventDefault(),this._hasStartedDragging.set(!0),this._ngZone.run(()=>this._startDragSequence(i)))}return}i.cancelable&&i.preventDefault();let n=this._getConstrainedPointerPosition(e);if(this._hasMoved=!0,this._lastKnownPointerPosition=e,this._updatePointerDirectionDelta(n),this._dropContainer)this._updateActiveDropContainer(n,e);else{let o=this.constrainPosition?this._initialDomRect:this._pickupPositionOnPage,a=this._activeTransform;a.x=n.x-o.x+this._passiveTransform.x,a.y=n.y-o.y+this._passiveTransform.y,this._applyRootElementTransform(a.x,a.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:n,event:i,distance:this._getDragDistance(n),delta:this._pointerDirectionDelta})})};_pointerUp=i=>{this._endDragSequence(i)};_endDragSequence(i){if(this._dragDropRegistry.isDragging(this)&&(this._removeListeners(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),!!this._hasStartedDragging()))if(this.released.next({source:this,event:i}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(i),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;let e=this._getPointerPositionOnPage(i);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(e),dropPoint:e,event:i})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(i){Zo(i)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();let e=this._getShadowRoot(),n=this._dropContainer;if(e&&this._ngZone.runOutsideAngular(()=>{e.addEventListener("selectstart",Bc,Hc)}),n){let o=this._rootElement,a=o.parentNode,d=this._placeholder=this._createPlaceholderElement(),f=this._anchor=this._anchor||this._document.createComment("");a.insertBefore(f,o),this._initialTransform=o.style.transform||"",this._preview=new fs(this._document,this._rootElement,this._direction,this._initialDomRect,this._previewTemplate||null,this.previewClass||null,this._pickupPositionOnPage,this._initialTransform,this._config.zIndex||1e3,this._renderer),this._preview.attach(this._getPreviewInsertionPoint(a,e)),Ec(o,!1,jc),this._document.body.appendChild(a.replaceChild(d,o)),this.started.next({source:this,event:i}),n.start(),this._initialContainer=n,this._initialIndex=n.getItemIndex(this)}else this.started.next({source:this,event:i}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(n?n.getScrollableParents():[])}_initializeDragSequence(i,e){this._parentDragRef&&e.stopPropagation();let n=this.isDragging(),o=Zo(e),a=!o&&e.button!==0,d=this._rootElement,f=Ki(e),x=!o&&this._lastTouchEventTime&&this._lastTouchEventTime+Ap>Date.now(),k=o?Yl(e):Rl(e);if(f&&f.draggable&&e.type==="mousedown"&&e.preventDefault(),n||a||x||k)return;if(this._handles.length){let $=d.style;this._rootElementTapHighlight=$.webkitTapHighlightColor||"",$.webkitTapHighlightColor="transparent"}this._hasMoved=!1,this._hasStartedDragging.set(this._hasMoved),this._removeListeners(),this._initialDomRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe($=>this._updateOnScroll($)),this._boundaryElement&&(this._boundaryRect=zs(this._boundaryElement));let N=this._previewTemplate;this._pickupPositionInElement=N&&N.template&&!N.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialDomRect,i,e);let I=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:I.x,y:I.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(i){Ec(this._rootElement,!0,jc),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialDomRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{let e=this._dropContainer,n=e.getItemIndex(this),o=this._getPointerPositionOnPage(i),a=this._getDragDistance(o),d=e._isOverContainer(o.x,o.y);this.ended.next({source:this,distance:a,dropPoint:o,event:i}),this.dropped.next({item:this,currentIndex:n,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:d,distance:a,dropPoint:o,event:i}),e.drop(this,n,this._initialIndex,this._initialContainer,d,a,o,i),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:i,y:e},{x:n,y:o}){let a=this._initialContainer._getSiblingContainerFromPosition(this,i,e);!a&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(i,e)&&(a=this._initialContainer),a&&a!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=a,this._dropContainer.enter(this,i,e,a===this._initialContainer&&a.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:a,currentIndex:a.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(n,o),this._dropContainer._sortItem(this,i,e,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(i,e):this._applyPreviewTransform(i-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y))}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();let i=this._placeholder.getBoundingClientRect();this._preview.addClass("cdk-drag-animating"),this._applyPreviewTransform(i.left,i.top);let e=this._preview.getTransitionDuration();return e===0?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(n=>{let o=f=>{(!f||this._preview&&Ki(f)===this._preview.element&&f.propertyName==="transform")&&(d(),n(),clearTimeout(a))},a=setTimeout(o,e*1.5),d=this._preview.addEventListener("transitionend",o)}))}_createPlaceholderElement(){let i=this._placeholderTemplate,e=i?i.template:null,n;return e?(this._placeholderRef=i.viewContainer.createEmbeddedView(e,i.context),this._placeholderRef.detectChanges(),n=qc(this._placeholderRef,this._document)):n=Wc(this._rootElement),n.style.pointerEvents="none",n.classList.add("cdk-drag-placeholder"),n}_getPointerPositionInElement(i,e,n){let o=e===this._rootElement?null:e,a=o?o.getBoundingClientRect():i,d=Zo(n)?n.targetTouches[0]:n,f=this._getViewportScrollPosition(),x=d.pageX-a.left-f.left,k=d.pageY-a.top-f.top;return{x:a.left-i.left+x,y:a.top-i.top+k}}_getPointerPositionOnPage(i){let e=this._getViewportScrollPosition(),n=Zo(i)?i.touches[0]||i.changedTouches[0]||{pageX:0,pageY:0}:i,o=n.pageX-e.left,a=n.pageY-e.top;if(this._ownerSVGElement){let d=this._ownerSVGElement.getScreenCTM();if(d){let f=this._ownerSVGElement.createSVGPoint();return f.x=o,f.y=a,f.matrixTransform(d.inverse())}}return{x:o,y:a}}_getConstrainedPointerPosition(i){let e=this._dropContainer?this._dropContainer.lockAxis:null,{x:n,y:o}=this.constrainPosition?this.constrainPosition(i,this,this._initialDomRect,this._pickupPositionInElement):i;if(this.lockAxis==="x"||e==="x"?o=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):(this.lockAxis==="y"||e==="y")&&(n=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){let{x:a,y:d}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,f=this._boundaryRect,{width:x,height:k}=this._getPreviewRect(),N=f.top+d,I=f.bottom-(k-d),$=f.left+a,b=f.right-(x-a);n=Lc(n,$,b),o=Lc(o,N,I)}return{x:n,y:o}}_updatePointerDirectionDelta(i){let{x:e,y:n}=i,o=this._pointerDirectionDelta,a=this._pointerPositionAtLastDirectionChange,d=Math.abs(e-a.x),f=Math.abs(n-a.y);return d>this._config.pointerDirectionChangeThreshold&&(o.x=e>a.x?1:-1,a.x=e),f>this._config.pointerDirectionChangeThreshold&&(o.y=n>a.y?1:-1,a.y=n),o}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;let i=this._handles.length>0||!this.isDragging();i!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=i,So(this._rootElement,i))}_removeRootElementListeners(i){i.removeEventListener("mousedown",this._pointerDown,Ya),i.removeEventListener("touchstart",this._pointerDown,Vc),i.removeEventListener("dragstart",this._nativeDragStart,Ya)}_applyRootElementTransform(i,e){let n=1/this.scale,o=La(i*n,e*n),a=this._rootElement.style;this._initialTransform==null&&(this._initialTransform=a.transform&&a.transform!="none"?a.transform:""),a.transform=ja(o,this._initialTransform)}_applyPreviewTransform(i,e){let n=this._previewTemplate?.template?void 0:this._initialTransform,o=La(i,e);this._preview.setTransform(ja(o,n))}_getDragDistance(i){let e=this._pickupPositionOnPage;return e?{x:i.x-e.x,y:i.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:i,y:e}=this._passiveTransform;if(i===0&&e===0||this.isDragging()||!this._boundaryElement)return;let n=this._rootElement.getBoundingClientRect(),o=this._boundaryElement.getBoundingClientRect();if(o.width===0&&o.height===0||n.width===0&&n.height===0)return;let a=o.left-n.left,d=n.right-o.right,f=o.top-n.top,x=n.bottom-o.bottom;o.width>n.width?(a>0&&(i+=a),d>0&&(i-=d)):i=0,o.height>n.height?(f>0&&(e+=f),x>0&&(e-=x)):e=0,(i!==this._passiveTransform.x||e!==this._passiveTransform.y)&&this.setFreeDragPosition({y:e,x:i})}_getDragStartDelay(i){let e=this.dragStartDelay;return typeof e=="number"?e:Zo(i)?e.touch:e?e.mouse:0}_updateOnScroll(i){let e=this._parentPositions.handleScroll(i);if(e){let n=Ki(i);this._boundaryRect&&n!==this._boundaryElement&&n.contains(this._boundaryElement)&&Jo(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return this._cachedShadowRoot===void 0&&(this._cachedShadowRoot=Sa(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(i,e){let n=this._previewContainer||"global";if(n==="parent")return i;if(n==="global"){let o=this._document;return e||o.fullscreenElement||o.webkitFullscreenElement||o.mozFullScreenElement||o.msFullscreenElement||o.body}return Mi(n)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialDomRect),this._previewRect}_nativeDragStart=i=>{if(this._handles.length){let e=this._getTargetHandle(i);e&&!this._disabledHandles.has(e)&&!this.disabled&&i.preventDefault()}else this.disabled||i.preventDefault()};_getTargetHandle(i){return this._handles.find(e=>i.target&&(i.target===e||e.contains(i.target)))}};function Lc(t,i,e){return Math.max(i,Math.min(e,t))}function Zo(t){return t.type[0]==="t"}function Bc(t){t.preventDefault()}function Gc(t,i,e){let n=Uc(i,t.length-1),o=Uc(e,t.length-1);if(n===o)return;let a=t[n],d=o<n?-1:1;for(let f=n;f!==o;f+=d)t[f]=t[f+d];t[o]=a}function Uc(t,i){return Math.max(0,Math.min(i,t))}var Ba=class{_dragDropRegistry;_element;_sortPredicate;_itemPositions=[];_activeDraggables;orientation="vertical";direction;constructor(i){this._dragDropRegistry=i}_previousSwap={drag:null,delta:0,overlaps:!1};start(i){this.withItems(i)}sort(i,e,n,o){let a=this._itemPositions,d=this._getItemIndexFromPointerPosition(i,e,n,o);if(d===-1&&a.length>0)return null;let f=this.orientation==="horizontal",x=a.findIndex(w=>w.drag===i),k=a[d],N=a[x].clientRect,I=k.clientRect,$=x>d?1:-1,b=this._getItemOffsetPx(N,I,$),v=this._getSiblingOffsetPx(x,a,$),S=a.slice();return Gc(a,x,d),a.forEach((w,A)=>{if(S[A]===w)return;let q=w.drag===i,ce=q?b:v,_t=q?i.getPlaceholderElement():w.drag.getRootElement();w.offset+=ce;let Ze=Math.round(w.offset*(1/w.drag.scale));f?(_t.style.transform=ja(`translate3d(${Ze}px, 0, 0)`,w.initialTransform),Jo(w.clientRect,0,ce)):(_t.style.transform=ja(`translate3d(0, ${Ze}px, 0)`,w.initialTransform),Jo(w.clientRect,ce,0))}),this._previousSwap.overlaps=hs(I,e,n),this._previousSwap.drag=k.drag,this._previousSwap.delta=f?o.x:o.y,{previousIndex:x,currentIndex:d}}enter(i,e,n,o){let a=o==null||o<0?this._getItemIndexFromPointerPosition(i,e,n):o,d=this._activeDraggables,f=d.indexOf(i),x=i.getPlaceholderElement(),k=d[a];if(k===i&&(k=d[a+1]),!k&&(a==null||a===-1||a<d.length-1)&&this._shouldEnterAsFirstChild(e,n)&&(k=d[0]),f>-1&&d.splice(f,1),k&&!this._dragDropRegistry.isDragging(k)){let N=k.getRootElement();N.parentElement.insertBefore(x,N),d.splice(a,0,i)}else this._element.appendChild(x),d.push(i);x.style.transform="",this._cacheItemPositions()}withItems(i){this._activeDraggables=i.slice(),this._cacheItemPositions()}withSortPredicate(i){this._sortPredicate=i}reset(){this._activeDraggables?.forEach(i=>{let e=i.getRootElement();if(e){let n=this._itemPositions.find(o=>o.drag===i)?.initialTransform;e.style.transform=n||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(i){return(this.orientation==="horizontal"&&this.direction==="rtl"?this._itemPositions.slice().reverse():this._itemPositions).findIndex(n=>n.drag===i)}updateOnScroll(i,e){this._itemPositions.forEach(({clientRect:n})=>{Jo(n,i,e)}),this._itemPositions.forEach(({drag:n})=>{this._dragDropRegistry.isDragging(n)&&n._sortFromLastPointerPosition()})}withElementContainer(i){this._element=i}_cacheItemPositions(){let i=this.orientation==="horizontal";this._itemPositions=this._activeDraggables.map(e=>{let n=e.getVisibleElement();return{drag:e,offset:0,initialTransform:n.style.transform||"",clientRect:zs(n)}}).sort((e,n)=>i?e.clientRect.left-n.clientRect.left:e.clientRect.top-n.clientRect.top)}_getItemOffsetPx(i,e,n){let o=this.orientation==="horizontal",a=o?e.left-i.left:e.top-i.top;return n===-1&&(a+=o?e.width-i.width:e.height-i.height),a}_getSiblingOffsetPx(i,e,n){let o=this.orientation==="horizontal",a=e[i].clientRect,d=e[i+n*-1],f=a[o?"width":"height"]*n;if(d){let x=o?"left":"top",k=o?"right":"bottom";n===-1?f-=d.clientRect[x]-a[k]:f+=a[x]-d.clientRect[k]}return f}_shouldEnterAsFirstChild(i,e){if(!this._activeDraggables.length)return!1;let n=this._itemPositions,o=this.orientation==="horizontal";if(n[0].drag!==this._activeDraggables[0]){let d=n[n.length-1].clientRect;return o?i>=d.right:e>=d.bottom}else{let d=n[0].clientRect;return o?i<=d.left:e<=d.top}}_getItemIndexFromPointerPosition(i,e,n,o){let a=this.orientation==="horizontal",d=this._itemPositions.findIndex(({drag:f,clientRect:x})=>{if(f===i)return!1;if(o){let k=a?o.x:o.y;if(f===this._previousSwap.drag&&this._previousSwap.overlaps&&k===this._previousSwap.delta)return!1}return a?e>=Math.floor(x.left)&&e<Math.floor(x.right):n>=Math.floor(x.top)&&n<Math.floor(x.bottom)});return d===-1||!this._sortPredicate(d,i)?-1:d}},gs=class{_document;_dragDropRegistry;_element;_sortPredicate;_rootNode;_activeItems;_previousSwap={drag:null,deltaX:0,deltaY:0,overlaps:!1};_relatedNodes=[];constructor(i,e){this._document=i,this._dragDropRegistry=e}start(i){let e=this._element.childNodes;this._relatedNodes=[];for(let n=0;n<e.length;n++){let o=e[n];this._relatedNodes.push([o,o.nextSibling])}this.withItems(i)}sort(i,e,n,o){let a=this._getItemIndexFromPointerPosition(i,e,n),d=this._previousSwap;if(a===-1||this._activeItems[a]===i)return null;let f=this._activeItems[a];if(d.drag===f&&d.overlaps&&d.deltaX===o.x&&d.deltaY===o.y)return null;let x=this.getItemIndex(i),k=i.getPlaceholderElement(),N=f.getRootElement();a>x?N.after(k):N.before(k),Gc(this._activeItems,x,a);let I=this._getRootNode().elementFromPoint(e,n);return d.deltaX=o.x,d.deltaY=o.y,d.drag=f,d.overlaps=N===I||N.contains(I),{previousIndex:x,currentIndex:a}}enter(i,e,n,o){let a=o==null||o<0?this._getItemIndexFromPointerPosition(i,e,n):o;a===-1&&(a=this._getClosestItemIndexToPointer(i,e,n));let d=this._activeItems[a],f=this._activeItems.indexOf(i);f>-1&&this._activeItems.splice(f,1),d&&!this._dragDropRegistry.isDragging(d)?(this._activeItems.splice(a,0,i),d.getRootElement().before(i.getPlaceholderElement())):(this._activeItems.push(i),this._element.appendChild(i.getPlaceholderElement()))}withItems(i){this._activeItems=i.slice()}withSortPredicate(i){this._sortPredicate=i}reset(){let i=this._element,e=this._previousSwap;for(let n=this._relatedNodes.length-1;n>-1;n--){let[o,a]=this._relatedNodes[n];o.parentNode===i&&o.nextSibling!==a&&(a===null?i.appendChild(o):a.parentNode===i&&i.insertBefore(o,a))}this._relatedNodes=[],this._activeItems=[],e.drag=null,e.deltaX=e.deltaY=0,e.overlaps=!1}getActiveItemsSnapshot(){return this._activeItems}getItemIndex(i){return this._activeItems.indexOf(i)}updateOnScroll(){this._activeItems.forEach(i=>{this._dragDropRegistry.isDragging(i)&&i._sortFromLastPointerPosition()})}withElementContainer(i){i!==this._element&&(this._element=i,this._rootNode=void 0)}_getItemIndexFromPointerPosition(i,e,n){let o=this._getRootNode().elementFromPoint(Math.floor(e),Math.floor(n)),a=o?this._activeItems.findIndex(d=>{let f=d.getRootElement();return o===f||f.contains(o)}):-1;return a===-1||!this._sortPredicate(a,i)?-1:a}_getRootNode(){return this._rootNode||(this._rootNode=Sa(this._element)||this._document),this._rootNode}_getClosestItemIndexToPointer(i,e,n){if(this._activeItems.length===0)return-1;if(this._activeItems.length===1)return 0;let o=1/0,a=-1;for(let d=0;d<this._activeItems.length;d++){let f=this._activeItems[d];if(f!==i){let{x,y:k}=f.getRootElement().getBoundingClientRect(),N=Math.hypot(e-x,n-k);N<o&&(o=N,a=d)}}return a}},$c=.05,Qc=.05,$n=function(t){return t[t.NONE=0]="NONE",t[t.UP=1]="UP",t[t.DOWN=2]="DOWN",t}($n||{}),Cn=function(t){return t[t.NONE=0]="NONE",t[t.LEFT=1]="LEFT",t[t.RIGHT=2]="RIGHT",t}(Cn||{}),Cs=class{_dragDropRegistry;_ngZone;_viewportRuler;element;disabled=!1;sortingDisabled=!1;lockAxis;autoScrollDisabled=!1;autoScrollStep=2;enterPredicate=()=>!0;sortPredicate=()=>!0;beforeStarted=new H;entered=new H;exited=new H;dropped=new H;sorted=new H;receivingStarted=new H;receivingStopped=new H;data;_container;_isDragging=!1;_parentPositions;_sortStrategy;_domRect;_draggables=[];_siblings=[];_activeSiblings=new Set;_viewportScrollSubscription=Sn.EMPTY;_verticalScrollDirection=$n.NONE;_horizontalScrollDirection=Cn.NONE;_scrollNode;_stopScrollTimers=new H;_cachedShadowRoot=null;_document;_scrollableElements=[];_initialScrollSnap;_direction="ltr";constructor(i,e,n,o,a){this._dragDropRegistry=e,this._ngZone=o,this._viewportRuler=a;let d=this.element=Mi(i);this._document=n,this.withOrientation("vertical").withElementContainer(d),e.registerDropContainer(this),this._parentPositions=new Ha(n)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(i,e,n,o){this._draggingStarted(),o==null&&this.sortingDisabled&&(o=this._draggables.indexOf(i)),this._sortStrategy.enter(i,e,n,o),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:i,container:this,currentIndex:this.getItemIndex(i)})}exit(i){this._reset(),this.exited.next({item:i,container:this})}drop(i,e,n,o,a,d,f,x={}){this._reset(),this.dropped.next({item:i,currentIndex:e,previousIndex:n,container:this,previousContainer:o,isPointerOverContainer:a,distance:d,dropPoint:f,event:x})}withItems(i){let e=this._draggables;return this._draggables=i,i.forEach(n=>n._withDropContainer(this)),this.isDragging()&&(e.filter(o=>o.isDragging()).every(o=>i.indexOf(o)===-1)?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(i){return this._direction=i,this._sortStrategy instanceof Ba&&(this._sortStrategy.direction=i),this}connectedTo(i){return this._siblings=i.slice(),this}withOrientation(i){if(i==="mixed")this._sortStrategy=new gs(this._document,this._dragDropRegistry);else{let e=new Ba(this._dragDropRegistry);e.direction=this._direction,e.orientation=i,this._sortStrategy=e}return this._sortStrategy.withElementContainer(this._container),this._sortStrategy.withSortPredicate((e,n)=>this.sortPredicate(e,n,this)),this}withScrollableParents(i){let e=this._container;return this._scrollableElements=i.indexOf(e)===-1?[e,...i]:i.slice(),this}withElementContainer(i){if(i===this._container)return this;let e=Mi(this.element),n=this._scrollableElements.indexOf(this._container),o=this._scrollableElements.indexOf(i);return n>-1&&this._scrollableElements.splice(n,1),o>-1&&this._scrollableElements.splice(o,1),this._sortStrategy&&this._sortStrategy.withElementContainer(i),this._cachedShadowRoot=null,this._scrollableElements.unshift(i),this._container=i,this}getScrollableParents(){return this._scrollableElements}getItemIndex(i){return this._isDragging?this._sortStrategy.getItemIndex(i):this._draggables.indexOf(i)}isReceiving(){return this._activeSiblings.size>0}_sortItem(i,e,n,o){if(this.sortingDisabled||!this._domRect||!Fc(this._domRect,$c,e,n))return;let a=this._sortStrategy.sort(i,e,n,o);a&&this.sorted.next({previousIndex:a.previousIndex,currentIndex:a.currentIndex,container:this,item:i})}_startScrollingIfNecessary(i,e){if(this.autoScrollDisabled)return;let n,o=$n.NONE,a=Cn.NONE;if(this._parentPositions.positions.forEach((d,f)=>{f===this._document||!d.clientRect||n||Fc(d.clientRect,$c,i,e)&&([o,a]=Rp(f,d.clientRect,this._direction,i,e),(o||a)&&(n=f))}),!o&&!a){let{width:d,height:f}=this._viewportRuler.getViewportSize(),x={width:d,height:f,top:0,right:d,bottom:f,left:0};o=Kc(x,e),a=Zc(x,i),n=window}n&&(o!==this._verticalScrollDirection||a!==this._horizontalScrollDirection||n!==this._scrollNode)&&(this._verticalScrollDirection=o,this._horizontalScrollDirection=a,this._scrollNode=n,(o||a)&&n?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){let i=this._container.style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=i.msScrollSnapType||i.scrollSnapType||"",i.scrollSnapType=i.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){this._parentPositions.cache(this._scrollableElements),this._domRect=this._parentPositions.positions.get(this._container).clientRect}_reset(){this._isDragging=!1;let i=this._container.style;i.scrollSnapType=i.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(e=>e._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_startScrollInterval=()=>{this._stopScrolling(),da(0,la).pipe(P(this._stopScrollTimers)).subscribe(()=>{let i=this._scrollNode,e=this.autoScrollStep;this._verticalScrollDirection===$n.UP?i.scrollBy(0,-e):this._verticalScrollDirection===$n.DOWN&&i.scrollBy(0,e),this._horizontalScrollDirection===Cn.LEFT?i.scrollBy(-e,0):this._horizontalScrollDirection===Cn.RIGHT&&i.scrollBy(e,0)})};_isOverContainer(i,e){return this._domRect!=null&&hs(this._domRect,i,e)}_getSiblingContainerFromPosition(i,e,n){return this._siblings.find(o=>o._canReceive(i,e,n))}_canReceive(i,e,n){if(!this._domRect||!hs(this._domRect,e,n)||!this.enterPredicate(i,this))return!1;let o=this._getShadowRoot().elementFromPoint(e,n);return o?o===this._container||this._container.contains(o):!1}_startReceiving(i,e){let n=this._activeSiblings;!n.has(i)&&e.every(o=>this.enterPredicate(o,this)||this._draggables.indexOf(o)>-1)&&(n.add(i),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:i,receiver:this,items:e}))}_stopReceiving(i){this._activeSiblings.delete(i),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:i,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(i=>{if(this.isDragging()){let e=this._parentPositions.handleScroll(i);e&&this._sortStrategy.updateOnScroll(e.top,e.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){let i=Sa(this._container);this._cachedShadowRoot=i||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){let i=this._sortStrategy.getActiveItemsSnapshot().filter(e=>e.isDragging());this._siblings.forEach(e=>e._startReceiving(this,i))}};function Kc(t,i){let{top:e,bottom:n,height:o}=t,a=o*Qc;return i>=e-a&&i<=e+a?$n.UP:i>=n-a&&i<=n+a?$n.DOWN:$n.NONE}function Zc(t,i){let{left:e,right:n,width:o}=t,a=o*Qc;return i>=e-a&&i<=e+a?Cn.LEFT:i>=n-a&&i<=n+a?Cn.RIGHT:Cn.NONE}function Rp(t,i,e,n,o){let a=Kc(i,o),d=Zc(i,n),f=$n.NONE,x=Cn.NONE;if(a){let k=t.scrollTop;a===$n.UP?k>0&&(f=$n.UP):t.scrollHeight-k>t.clientHeight&&(f=$n.DOWN)}if(d){let k=t.scrollLeft;e==="rtl"?d===Cn.RIGHT?k<0&&(x=Cn.RIGHT):t.scrollWidth+k>t.clientWidth&&(x=Cn.LEFT):d===Cn.LEFT?k>0&&(x=Cn.LEFT):t.scrollWidth-k>t.clientWidth&&(x=Cn.RIGHT)}return[f,x]}var Va=Ho({passive:!1,capture:!0}),Yp=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=D({type:t,selectors:[["ng-component"]],hostAttrs:["cdk-drag-resets-container",""],decls:0,vars:0,template:function(n,o){},styles:["@layer cdk-resets{.cdk-drag-preview{background:none;border:none;padding:0;color:inherit;inset:auto}}.cdk-drag-placeholder *,.cdk-drag-preview *{pointer-events:none !important}"],encapsulation:2,changeDetection:0})}return t})(),ys=(()=>{class t{_ngZone=_(et);_document=_(Qi);_styleLoader=_(El);_dropInstances=new Set;_dragInstances=new Set;_activeDragInstances=yt([]);_globalListeners=new Map;_draggingPredicate=e=>e.isDragging();_domNodesToDirectives=null;pointerMove=new H;pointerUp=new H;scroll=new H;constructor(){}registerDropContainer(e){this._dropInstances.has(e)||this._dropInstances.add(e)}registerDragItem(e){this._dragInstances.add(e),this._dragInstances.size===1&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,Va)})}removeDropContainer(e){this._dropInstances.delete(e)}removeDragItem(e){this._dragInstances.delete(e),this.stopDragging(e),this._dragInstances.size===0&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,Va)}startDragging(e,n){if(!(this._activeDragInstances().indexOf(e)>-1)&&(this._styleLoader.load(Yp),this._activeDragInstances.update(o=>[...o,e]),this._activeDragInstances().length===1)){let o=n.type.startsWith("touch"),a={handler:d=>this.pointerUp.next(d),options:!0};o?(this._globalListeners.set("touchend",a),this._globalListeners.set("touchcancel",a)):this._globalListeners.set("mouseup",a),this._globalListeners.set("scroll",{handler:d=>this.scroll.next(d),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:Va}),o||this._globalListeners.set("mousemove",{handler:d=>this.pointerMove.next(d),options:Va}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((d,f)=>{this._document.addEventListener(f,d.handler,d.options)})})}}stopDragging(e){this._activeDragInstances.update(n=>{let o=n.indexOf(e);return o>-1?(n.splice(o,1),[...n]):n}),this._activeDragInstances().length===0&&this._clearGlobalListeners()}isDragging(e){return this._activeDragInstances().indexOf(e)>-1}scrolled(e){let n=[this.scroll];return e&&e!==this._document&&n.push(new Hr(o=>this._ngZone.runOutsideAngular(()=>{let d=f=>{this._activeDragInstances().length&&o.next(f)};return e.addEventListener("scroll",d,!0),()=>{e.removeEventListener("scroll",d,!0)}}))),gt(...n)}registerDirectiveNode(e,n){this._domNodesToDirectives??=new WeakMap,this._domNodesToDirectives.set(e,n)}removeDirectiveNode(e){this._domNodesToDirectives?.delete(e)}getDragDirectiveForNode(e){return this._domNodesToDirectives?.get(e)||null}ngOnDestroy(){this._dragInstances.forEach(e=>this.removeDragItem(e)),this._dropInstances.forEach(e=>this.removeDropContainer(e)),this._domNodesToDirectives=null,this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_preventDefaultWhileDragging=e=>{this._activeDragInstances().length>0&&e.preventDefault()};_persistentTouchmoveListener=e=>{this._activeDragInstances().length>0&&(this._activeDragInstances().some(this._draggingPredicate)&&e.preventDefault(),this.pointerMove.next(e))};_clearGlobalListeners(){this._globalListeners.forEach((e,n)=>{this._document.removeEventListener(n,e.handler,e.options)}),this._globalListeners.clear()}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Ye({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Vp={dragStartThreshold:5,pointerDirectionChangeThreshold:5},Hp=(()=>{class t{_document=_(Qi);_ngZone=_(et);_viewportRuler=_(xa);_dragDropRegistry=_(ys);_renderer=_(pl).createRenderer(null,null);constructor(){}createDrag(e,n=Vp){return new _s(e,n,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry,this._renderer)}createDropList(e){return new Cs(e,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Ye({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),vs=new tn("CDK_DRAG_PARENT");var Jc=new tn("CdkDragHandle"),Xc=(()=>{class t{element=_(pe);_parentDrag=_(vs,{optional:!0,skipSelf:!0});_dragDropRegistry=_(ys);_stateChanges=new H;get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._stateChanges.next(this)}_disabled=!1;constructor(){this._parentDrag?._addHandle(this)}ngAfterViewInit(){if(!this._parentDrag){let e=this.element.nativeElement.parentElement;for(;e;){let n=this._dragDropRegistry.getDragDirectiveForNode(e);if(n){this._parentDrag=n,n._addHandle(this);break}e=e.parentElement}}}ngOnDestroy(){this._parentDrag?._removeHandle(this),this._stateChanges.complete()}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Ve({type:t,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:[2,"cdkDragHandleDisabled","disabled",O]},features:[Le([{provide:Jc,useExisting:t}])]})}return t})(),jp=new tn("CDK_DRAG_CONFIG"),Lp=new tn("CdkDropList"),ed=(()=>{class t{element=_(pe);dropContainer=_(Lp,{optional:!0,skipSelf:!0});_ngZone=_(et);_viewContainerRef=_(Fn);_dir=_(Ee,{optional:!0});_changeDetectorRef=_(se);_selfHandle=_(Jc,{optional:!0,self:!0});_parentDrag=_(vs,{optional:!0,skipSelf:!0});_dragDropRegistry=_(ys);_destroyed=new H;_handles=new Ae([]);_previewTemplate;_placeholderTemplate;_dragRef;data;lockAxis;rootElementSelector;boundaryElement;dragStartDelay;freeDragPosition;get disabled(){return this._disabled||!!(this.dropContainer&&this.dropContainer.disabled)}set disabled(e){this._disabled=e,this._dragRef.disabled=this._disabled}_disabled;constrainPosition;previewClass;previewContainer;scale=1;started=new F;released=new F;ended=new F;entered=new F;exited=new F;dropped=new F;moved=new Hr(e=>{let n=this._dragRef.moved.pipe(ae(o=>({source:this,pointerPosition:o.pointerPosition,event:o.event,delta:o.delta,distance:o.distance}))).subscribe(e);return()=>{n.unsubscribe()}});_injector=_(ln);constructor(){let e=this.dropContainer,n=_(jp,{optional:!0}),o=_(Hp);this._dragRef=o.createDrag(this.element,{dragStartThreshold:n&&n.dragStartThreshold!=null?n.dragStartThreshold:5,pointerDirectionChangeThreshold:n&&n.pointerDirectionChangeThreshold!=null?n.pointerDirectionChangeThreshold:5,zIndex:n?.zIndex}),this._dragRef.data=this,this._dragDropRegistry.registerDirectiveNode(this.element.nativeElement,this),n&&this._assignDefaults(n),e&&(this._dragRef._withDropContainer(e._dropListRef),e.addItem(this),e._dropListRef.beforeStarted.pipe(P(this._destroyed)).subscribe(()=>{this._dragRef.scale=this.scale})),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(e){this._dragRef.setFreeDragPosition(e)}ngAfterViewInit(){_a(()=>{this._updateRootElement(),this._setupHandlesListener(),this._dragRef.scale=this.scale,this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)},{injector:this._injector})}ngOnChanges(e){let n=e.rootElementSelector,o=e.freeDragPosition;n&&!n.firstChange&&this._updateRootElement(),this._dragRef.scale=this.scale,o&&!o.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this),this._dragDropRegistry.removeDirectiveNode(this.element.nativeElement),this._ngZone.runOutsideAngular(()=>{this._handles.complete(),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_addHandle(e){let n=this._handles.getValue();n.push(e),this._handles.next(n)}_removeHandle(e){let n=this._handles.getValue(),o=n.indexOf(e);o>-1&&(n.splice(o,1),this._handles.next(n))}_setPreviewTemplate(e){this._previewTemplate=e}_resetPreviewTemplate(e){e===this._previewTemplate&&(this._previewTemplate=null)}_setPlaceholderTemplate(e){this._placeholderTemplate=e}_resetPlaceholderTemplate(e){e===this._placeholderTemplate&&(this._placeholderTemplate=null)}_updateRootElement(){let e=this.element.nativeElement,n=e;this.rootElementSelector&&(n=e.closest!==void 0?e.closest(this.rootElementSelector):e.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(n||e)}_getBoundaryElement(){let e=this.boundaryElement;return e?typeof e=="string"?this.element.nativeElement.closest(e):Mi(e):null}_syncInputs(e){e.beforeStarted.subscribe(()=>{if(!e.isDragging()){let n=this._dir,o=this.dragStartDelay,a=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,d=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.scale=this.scale,e.dragStartDelay=typeof o=="object"&&o?o:Vo(o),e.constrainPosition=this.constrainPosition,e.previewClass=this.previewClass,e.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(a).withPreviewTemplate(d).withPreviewContainer(this.previewContainer||"global"),n&&e.withDirection(n.value)}}),e.beforeStarted.pipe(yi(1)).subscribe(()=>{if(this._parentDrag){e.withParent(this._parentDrag._dragRef);return}let n=this.element.nativeElement.parentElement;for(;n;){let o=this._dragDropRegistry.getDragDirectiveForNode(n);if(o){e.withParent(o._dragRef);break}n=n.parentElement}})}_handleEvents(e){e.started.subscribe(n=>{this.started.emit({source:this,event:n.event}),this._changeDetectorRef.markForCheck()}),e.released.subscribe(n=>{this.released.emit({source:this,event:n.event})}),e.ended.subscribe(n=>{this.ended.emit({source:this,distance:n.distance,dropPoint:n.dropPoint,event:n.event}),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(n=>{this.entered.emit({container:n.container.data,item:this,currentIndex:n.currentIndex})}),e.exited.subscribe(n=>{this.exited.emit({container:n.container.data,item:this})}),e.dropped.subscribe(n=>{this.dropped.emit({previousIndex:n.previousIndex,currentIndex:n.currentIndex,previousContainer:n.previousContainer.data,container:n.container.data,isPointerOverContainer:n.isPointerOverContainer,item:this,distance:n.distance,dropPoint:n.dropPoint,event:n.event})})}_assignDefaults(e){let{lockAxis:n,dragStartDelay:o,constrainPosition:a,previewClass:d,boundaryElement:f,draggingDisabled:x,rootElementSelector:k,previewContainer:N}=e;this.disabled=x??!1,this.dragStartDelay=o||0,n&&(this.lockAxis=n),a&&(this.constrainPosition=a),d&&(this.previewClass=d),f&&(this.boundaryElement=f),k&&(this.rootElementSelector=k),N&&(this.previewContainer=N)}_setupHandlesListener(){this._handles.pipe(xi(e=>{let n=e.map(o=>o.element);this._selfHandle&&this.rootElementSelector&&n.push(this.element),this._dragRef.withHandles(n)}),St(e=>gt(...e.map(n=>n._stateChanges.pipe(rt(n))))),P(this._destroyed)).subscribe(e=>{let n=this._dragRef,o=e.element.nativeElement;e.disabled?n.disableHandle(o):n.enableHandle(o)})}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Ve({type:t,selectors:[["","cdkDrag",""]],hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(n,o){n&2&&B("cdk-drag-disabled",o.disabled)("cdk-drag-dragging",o._dragRef.isDragging())},inputs:{data:[0,"cdkDragData","data"],lockAxis:[0,"cdkDragLockAxis","lockAxis"],rootElementSelector:[0,"cdkDragRootElement","rootElementSelector"],boundaryElement:[0,"cdkDragBoundary","boundaryElement"],dragStartDelay:[0,"cdkDragStartDelay","dragStartDelay"],freeDragPosition:[0,"cdkDragFreeDragPosition","freeDragPosition"],disabled:[2,"cdkDragDisabled","disabled",O],constrainPosition:[0,"cdkDragConstrainPosition","constrainPosition"],previewClass:[0,"cdkDragPreviewClass","previewClass"],previewContainer:[0,"cdkDragPreviewContainer","previewContainer"],scale:[2,"cdkDragScale","scale",pn]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[Le([{provide:vs,useExisting:t}]),Q]})}return t})();var Bp=["nz-modal-close",""];function Up(t,i){if(t&1&&(te(0),h(1,"nz-icon",2),ne()),t&2){let e=i.$implicit;c(),m("nzType",e)}}var ad=["modalElement"];function $p(t,i){if(t&1){let e=M();r(0,"button",16),y("click",function(){g(e);let o=l();return C(o.onCloseClick())}),s()}}function Wp(t,i){if(t&1&&(te(0),h(1,"span",12),ne()),t&2){let e=l();c(),m("innerHTML",e.config.nzTitle,co)}}function qp(t,i){}function Gp(t,i){if(t&1&&h(0,"div",12),t&2){let e=l();m("innerHTML",e.config.nzContent,co)}}function Qp(t,i){if(t&1){let e=M();r(0,"button",17),y("click",function(){g(e);let o=l();return C(o.onCancel())}),p(1),s()}if(t&2){let e=l();m("nzLoading",e.config.nzCancelLoading)("disabled",e.config.nzCancelDisabled),He("cdkFocusInitial",e.config.nzAutofocus==="cancel"||null),c(),W(" ",e.config.nzCancelText||e.locale.cancelText," ")}}function Kp(t,i){if(t&1){let e=M();r(0,"button",18),y("click",function(){g(e);let o=l();return C(o.onOk())}),p(1),s()}if(t&2){let e=l();m("nzType",e.config.nzOkType)("nzLoading",e.config.nzOkLoading)("disabled",e.config.nzOkDisabled)("nzDanger",e.config.nzOkDanger),He("cdkFocusInitial",e.config.nzAutofocus==="ok"||null),c(),W(" ",e.config.nzOkText||e.locale.okText," ")}}var Zp=["nz-modal-footer",""],Jp=(t,i)=>({$implicit:t,modalRef:i});function Xp(t,i){if(t&1){let e=M();r(0,"button",3),y("click",function(){let o=g(e).$implicit,a=l(4);return C(a.onButtonClick(o))}),p(1),s()}if(t&2){let e=i.$implicit,n=l(4);m("hidden",!n.getButtonCallableProp(e,"show"))("nzLoading",n.getButtonCallableProp(e,"loading"))("disabled",n.getButtonCallableProp(e,"disabled"))("nzType",e.type)("nzDanger",e.danger)("nzShape",e.shape)("nzSize",e.size)("nzGhost",e.ghost),c(),W(" ",e.label," ")}}function eu(t,i){if(t&1&&j(0,Xp,2,9,"button",2,Ne),t&2){let e=l(3);L(e.buttons)}}function tu(t,i){if(t&1&&h(0,"div",1),t&2){let e=l(3);m("innerHTML",e.config.nzFooter,co)}}function nu(t,i){if(t&1&&(te(0),u(1,eu,2,0)(2,tu,1,1,"div",1),ne()),t&2){let e=l(2);c(),z(e.buttonsFooter?1:2)}}function iu(t,i){if(t&1&&u(0,nu,3,1,"ng-container",0),t&2){let e=l();m("nzStringTemplateOutlet",e.config.nzFooter)("nzStringTemplateOutletContext",Kn(2,Jp,e.config.nzData,e.modalRef))}}function ou(t,i){if(t&1){let e=M();r(0,"button",6),y("click",function(){g(e);let o=l(2);return C(o.onCancel())}),p(1),s()}if(t&2){let e=l(2);m("nzLoading",e.config.nzCancelLoading)("disabled",e.config.nzCancelDisabled),He("cdkFocusInitial",e.config.nzAutofocus==="cancel"||null),c(),W(" ",e.config.nzCancelText||e.locale.cancelText," ")}}function au(t,i){if(t&1){let e=M();r(0,"button",7),y("click",function(){g(e);let o=l(2);return C(o.onOk())}),p(1),s()}if(t&2){let e=l(2);m("nzType",e.config.nzOkType)("nzDanger",e.config.nzOkDanger)("nzLoading",e.config.nzOkLoading)("disabled",e.config.nzOkDisabled),He("cdkFocusInitial",e.config.nzAutofocus==="ok"||null),c(),W(" ",e.config.nzOkText||e.locale.okText," ")}}function ru(t,i){if(t&1&&u(0,ou,2,4,"button",4)(1,au,2,6,"button",5),t&2){let e=l();z(e.config.nzCancelText!==null?0:-1),c(),z(e.config.nzOkText!==null?1:-1)}}var su=["nz-modal-title",""];function lu(t,i){if(t&1&&(te(0),h(1,"div",2),ne()),t&2){let e=l();c(),m("innerHTML",e.config.nzTitle,co)}}function cu(t,i){if(t&1){let e=M();r(0,"button",9),y("click",function(){g(e);let o=l();return C(o.onCloseClick())}),s()}}function du(t,i){if(t&1&&h(0,"div",10),t&2){let e=l();pt("cursor",e.config.nzDraggable?"move":"auto")}}function mu(t,i){}function pu(t,i){if(t&1&&h(0,"div",7),t&2){let e=l();m("innerHTML",e.config.nzContent,co)}}function uu(t,i){if(t&1){let e=M();r(0,"div",11),y("cancelTriggered",function(){g(e);let o=l();return C(o.onCloseClick())})("okTriggered",function(){g(e);let o=l();return C(o.onOkClick())}),s()}if(t&2){let e=l();m("modalRef",e.modalRef)}}var td=()=>{},Ai=class{constructor(){this.nzCentered=!1,this.nzClosable=!0,this.nzOkLoading=!1,this.nzOkDisabled=!1,this.nzCancelDisabled=!1,this.nzCancelLoading=!1,this.nzDraggable=!1,this.nzNoAnimation=!1,this.nzAutofocus="auto",this.nzKeyboard=!0,this.nzZIndex=1e3,this.nzWidth=520,this.nzCloseIcon="close",this.nzOkType="primary",this.nzOkDanger=!1,this.nzModalType="default",this.nzOnCancel=td,this.nzOnOk=td,this.nzIconType="question-circle"}},Ei={enter:"ant-zoom-enter",enterActive:"ant-zoom-enter-active",leave:"ant-zoom-leave",leaveActive:"ant-zoom-leave-active"},yo={enter:"ant-fade-enter",enterActive:"ant-fade-enter-active",leave:"ant-fade-leave",leaveActive:"ant-fade-leave-active"},Ua="ant-modal-mask",$a="modal",hu=new tn("NZ_MODAL_DATA"),rd={modalContainer:Bl("modalContainer",[Zr("void, exit",Bo({})),Zr("enter",Bo({})),Jr("* => enter",Kr(".24s",Bo({}))),Jr("* => void, * => exit",Kr(".2s",Bo({})))])},bs=(()=>{class t{constructor(e){this.config=e}static{this.\u0275fac=function(n){return new(n||t)(T(Ai))}}static{this.\u0275cmp=D({type:t,selectors:[["button","nz-modal-close",""]],hostAttrs:["aria-label","Close",1,"ant-modal-close"],exportAs:["NzModalCloseBuiltin"],attrs:Bp,decls:2,vars:1,consts:[[1,"ant-modal-close-x"],[4,"nzStringTemplateOutlet"],[1,"ant-modal-close-icon",3,"nzType"]],template:function(n,o){n&1&&(r(0,"span",0),u(1,Up,2,1,"ng-container",1),s()),n&2&&(c(),m("nzStringTemplateOutlet",o.config.nzCloseIcon))},dependencies:[J,me,Re,je],encapsulation:2,changeDetection:0})}}return t})();function fu(t,i){return ee(ee({},i),t)}function Xo(t,i,e){return typeof t>"u"?typeof i>"u"?e:i:t}function nd(t){let{nzCentered:i,nzMask:e,nzMaskClosable:n,nzClosable:o,nzOkLoading:a,nzOkDisabled:d,nzCancelDisabled:f,nzCancelLoading:x,nzKeyboard:k,nzNoAnimation:N,nzDraggable:I,nzContent:$,nzFooter:b,nzZIndex:v,nzWidth:S,nzWrapClassName:w,nzClassName:A,nzStyle:q,nzTitle:ce,nzCloseIcon:_t,nzMaskStyle:Ze,nzBodyStyle:Je,nzOkText:X,nzCancelText:ue,nzOkType:On,nzOkDanger:oi,nzIconType:$i,nzModalType:Wi,nzOnOk:qi,nzOnCancel:Eo,nzAfterOpen:Ao,nzAfterClose:Vr,nzCloseOnNavigation:qe,nzAutofocus:Ro}=t;return{nzCentered:i,nzMask:e,nzMaskClosable:n,nzDraggable:I,nzClosable:o,nzOkLoading:a,nzOkDisabled:d,nzCancelDisabled:f,nzCancelLoading:x,nzKeyboard:k,nzNoAnimation:N,nzContent:$,nzFooter:b,nzZIndex:v,nzWidth:S,nzWrapClassName:w,nzClassName:A,nzStyle:q,nzTitle:ce,nzCloseIcon:_t,nzMaskStyle:Ze,nzBodyStyle:Je,nzOkText:X,nzCancelText:ue,nzOkType:On,nzOkDanger:oi,nzIconType:$i,nzModalType:Wi,nzOnOk:qi,nzOnCancel:Eo,nzAfterOpen:Ao,nzAfterClose:Vr,nzCloseOnNavigation:qe,nzAutofocus:Ro}}function id(){throw Error("Attempting to attach modal content after content is already attached")}var sd=(()=>{class t extends Fl{get showMask(){let e=this.nzConfigService.getConfigForComponent($a)||{};return!!Xo(this.config.nzMask,e.nzMask,!0)}get maskClosable(){let e=this.nzConfigService.getConfigForComponent($a)||{};return!!Xo(this.config.nzMaskClosable,e.nzMaskClosable,!0)}constructor(){super(),this.animationStateChanged=new F,this.containerClick=new F,this.cancelTriggered=new F,this.okTriggered=new F,this.state="enter",this.document=_(Qi),this.isStringContent=!1,this.dir="ltr",this.elementFocusedBeforeModalWasOpened=null,this.mouseDown=!1,this.oldMaskStyle=null,this.cdr=_(se),this.config=_(Ai),this.destroy$=new H,this.ngZone=_(et),this.host=_(pe),this.focusTrapFactory=_(Ta),this.render=_(xt),this.overlayRef=_(qr),this.nzConfigService=_(nt),this.animationType=_(fa,{optional:!0}),this.dir=this.overlayRef.getDirection(),this.isStringContent=typeof this.config.nzContent=="string",this.nzConfigService.getConfigChangeEventForComponent($a).pipe(P(this.destroy$)).subscribe(()=>{this.updateMaskClassname()})}onContainerClick(e){e.target===e.currentTarget&&!this.mouseDown&&this.showMask&&this.maskClosable&&this.containerClick.emit()}onCloseClick(){this.cancelTriggered.emit()}onOkClick(){this.okTriggered.emit()}attachComponentPortal(e){return this.portalOutlet.hasAttached()&&id(),this.savePreviouslyFocusedElement(),this.setZIndexForBackdrop(),this.portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this.portalOutlet.hasAttached()&&id(),this.savePreviouslyFocusedElement(),this.setZIndexForBackdrop(),this.portalOutlet.attachTemplatePortal(e)}attachStringContent(){this.savePreviouslyFocusedElement(),this.setZIndexForBackdrop()}getNativeElement(){return this.host.nativeElement}animationDisabled(){return this.config.nzNoAnimation||this.animationType==="NoopAnimations"}setModalTransformOrigin(){let e=this.modalElementRef.nativeElement;if(this.elementFocusedBeforeModalWasOpened){let n=this.elementFocusedBeforeModalWasOpened.getBoundingClientRect(),o=Jl(this.elementFocusedBeforeModalWasOpened),a=o.left+n.width/2,d=o.top+n.height/2,f=`${a-e.offsetLeft}px ${d-e.offsetTop}px 0px`;this.render.setStyle(e,"transform-origin",f)}}savePreviouslyFocusedElement(){this.focusTrap||(this.focusTrap=this.focusTrapFactory.create(this.host.nativeElement)),this.document&&(this.elementFocusedBeforeModalWasOpened=this.document.activeElement,this.host.nativeElement.focus&&this.ngZone.runOutsideAngular(()=>fi(()=>this.host.nativeElement.focus())))}trapFocus(){let e=this.host.nativeElement;if(this.config.nzAutofocus)this.focusTrap.focusInitialElementWhenReady();else{let n=this.document.activeElement;n!==e&&!e.contains(n)&&e.focus()}}restoreFocus(){let e=this.elementFocusedBeforeModalWasOpened;if(e&&typeof e.focus=="function"){let n=this.document.activeElement,o=this.host.nativeElement;(!n||n===this.document.body||n===o||o.contains(n))&&e.focus()}this.focusTrap&&this.focusTrap.destroy()}setEnterAnimationClass(){if(this.animationDisabled())return;this.setModalTransformOrigin();let e=this.modalElementRef.nativeElement,n=this.overlayRef.backdropElement;e.classList.add(Ei.enter),e.classList.add(Ei.enterActive),n&&(n.classList.add(yo.enter),n.classList.add(yo.enterActive))}setExitAnimationClass(){let e=this.modalElementRef.nativeElement;e.classList.add(Ei.leave),e.classList.add(Ei.leaveActive),this.setMaskExitAnimationClass()}setMaskExitAnimationClass(e=!1){let n=this.overlayRef.backdropElement;if(n){if(this.animationDisabled()||e){n.classList.remove(Ua);return}n.classList.add(yo.leave),n.classList.add(yo.leaveActive)}}cleanAnimationClass(){if(this.animationDisabled())return;let e=this.overlayRef.backdropElement,n=this.modalElementRef.nativeElement;e&&(e.classList.remove(yo.enter),e.classList.remove(yo.enterActive)),n.classList.remove(Ei.enter),n.classList.remove(Ei.enterActive),n.classList.remove(Ei.leave),n.classList.remove(Ei.leaveActive)}setZIndexForBackdrop(){let e=this.overlayRef.backdropElement;e&&Oi(this.config.nzZIndex)&&this.render.setStyle(e,"z-index",this.config.nzZIndex)}bindBackdropStyle(){let e=this.overlayRef.backdropElement;if(e){if(this.oldMaskStyle){let n=this.oldMaskStyle;Object.keys(n).forEach(o=>{this.render.removeStyle(e,o)}),this.oldMaskStyle=null}if(this.setZIndexForBackdrop(),typeof this.config.nzMaskStyle=="object"&&Object.keys(this.config.nzMaskStyle).length){let n=ee({},this.config.nzMaskStyle);Object.keys(n).forEach(o=>{this.render.setStyle(e,o,n[o])}),this.oldMaskStyle=n}}}updateMaskClassname(){let e=this.overlayRef.backdropElement;e&&(this.showMask?e.classList.add(Ua):e.classList.remove(Ua))}onAnimationDone(e){e.toState==="enter"?this.trapFocus():e.toState==="exit"&&this.restoreFocus(),this.cleanAnimationClass(),this.animationStateChanged.emit(e)}onAnimationStart(e){e.toState==="enter"?(this.setEnterAnimationClass(),this.bindBackdropStyle()):e.toState==="exit"&&this.setExitAnimationClass(),this.animationStateChanged.emit(e)}startExitAnimation(){this.state="exit",this.cdr.markForCheck()}ngOnDestroy(){this.setMaskExitAnimationClass(!0),this.destroy$.next(!0),this.destroy$.complete()}setupMouseListeners(e){Qt(this.host.nativeElement,"mouseup").pipe(P(this.destroy$)).subscribe(()=>{this.mouseDown&&setTimeout(()=>{this.mouseDown=!1})}),Qt(e.nativeElement,"mousedown").pipe(P(this.destroy$)).subscribe(()=>{this.mouseDown=!0})}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275dir=Ve({type:t,features:[bi]})}}return t})(),ld=(()=>{class t extends sd{constructor(){super(),this.cancelTriggered=new F,this.okTriggered=new F,this.i18n=_(Un),this.i18n.localeChange.pipe(P(this.destroy$)).subscribe(()=>{this.locale=this.i18n.getLocaleData("Modal")})}ngOnInit(){this.setupMouseListeners(this.modalElementRef)}onCancel(){this.cancelTriggered.emit()}onOk(){this.okTriggered.emit()}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=D({type:t,selectors:[["nz-modal-confirm-container"]],viewQuery:function(n,o){if(n&1&&(G(Ln,7),G(ad,7)),n&2){let a;R(a=Y())&&(o.portalOutlet=a.first),R(a=Y())&&(o.modalElementRef=a.first)}},hostAttrs:["tabindex","-1","role","dialog"],hostVars:10,hostBindings:function(n,o){n&1&&(Ur("@modalContainer.start",function(d){return o.onAnimationStart(d)})("@modalContainer.done",function(d){return o.onAnimationDone(d)}),y("click",function(d){return o.onContainerClick(d)})),n&2&&(Yo("@.disabled",o.config.nzNoAnimation)("@modalContainer",o.state),Qn(o.config.nzWrapClassName?"ant-modal-wrap "+o.config.nzWrapClassName:"ant-modal-wrap"),pt("z-index",o.config.nzZIndex),B("ant-modal-wrap-rtl",o.dir==="rtl")("ant-modal-centered",o.config.nzCentered))},outputs:{cancelTriggered:"cancelTriggered",okTriggered:"okTriggered"},exportAs:["nzModalConfirmContainer"],features:[Ti([jo]),bi],decls:17,vars:16,consts:[["modalElement",""],["role","document",1,"ant-modal"],[1,"ant-modal-content"],["nz-modal-close",""],[1,"ant-modal-body"],[1,"ant-modal-confirm-body-wrapper"],[1,"ant-modal-confirm-body"],[3,"nzType"],[1,"ant-modal-confirm-title"],[4,"nzStringTemplateOutlet"],[1,"ant-modal-confirm-content"],["cdkPortalOutlet",""],[3,"innerHTML"],[1,"ant-modal-confirm-btns"],["nz-button","",3,"nzLoading","disabled"],["nz-button","",3,"nzType","nzLoading","disabled","nzDanger"],["nz-modal-close","",3,"click"],["nz-button","",3,"click","nzLoading","disabled"],["nz-button","",3,"click","nzType","nzLoading","disabled","nzDanger"]],template:function(n,o){n&1&&(r(0,"div",1,0),cn(2,"nzToCssUnit"),r(3,"div",2),u(4,$p,1,0,"button",3),r(5,"div",4)(6,"div",5)(7,"div",6),h(8,"nz-icon",7),r(9,"span",8),u(10,Wp,2,1,"ng-container",9),s(),r(11,"div",10),u(12,qp,0,0,"ng-template",11)(13,Gp,1,1,"div",12),s()(),r(14,"div",13),u(15,Qp,2,4,"button",14)(16,Kp,2,6,"button",15),s()()()()()),n&2&&(ve(o.config.nzStyle),Qn(o.config.nzClassName),pt("width",ui(2,14,o.config==null?null:o.config.nzWidth)),c(4),z(o.config.nzClosable?4:-1),c(),ve(o.config.nzBodyStyle),c(3),m("nzType",o.config.nzIconType),c(2),m("nzStringTemplateOutlet",o.config.nzTitle),c(3),z(o.isStringContent?13:-1),c(2),z(o.config.nzCancelText!==null?15:-1),c(),z(o.config.nzOkText!==null?16:-1))},dependencies:[ps,ms,J,me,bs,Re,je,Zi,Ln,De,Pe,Me,ke],encapsulation:2,data:{animation:[rd.modalContainer]}})}}return t})(),cd=(()=>{class t{constructor(e,n){this.i18n=e,this.config=n,this.buttonsFooter=!1,this.buttons=[],this.cancelTriggered=new F,this.okTriggered=new F,this.destroy$=new H,Array.isArray(n.nzFooter)&&(this.buttonsFooter=!0,this.buttons=n.nzFooter.map(_u)),this.i18n.localeChange.pipe(P(this.destroy$)).subscribe(()=>{this.locale=this.i18n.getLocaleData("Modal")})}onCancel(){this.cancelTriggered.emit()}onOk(){this.okTriggered.emit()}getButtonCallableProp(e,n){let o=e[n],a=this.modalRef.getContentComponent();return typeof o=="function"?o.apply(e,a&&[a]):o}onButtonClick(e){if(!this.getButtonCallableProp(e,"loading")){let o=this.getButtonCallableProp(e,"onClick");e.autoLoading&&ts(o)&&(e.loading=!0,o.then(()=>e.loading=!1).catch(a=>{throw e.loading=!1,a}))}}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static{this.\u0275fac=function(n){return new(n||t)(T(Un),T(Ai))}}static{this.\u0275cmp=D({type:t,selectors:[["div","nz-modal-footer",""]],hostAttrs:[1,"ant-modal-footer"],inputs:{modalRef:"modalRef"},outputs:{cancelTriggered:"cancelTriggered",okTriggered:"okTriggered"},exportAs:["NzModalFooterBuiltin"],attrs:Zp,decls:2,vars:1,consts:[[4,"nzStringTemplateOutlet","nzStringTemplateOutletContext"],[3,"innerHTML"],["nz-button","",3,"hidden","nzLoading","disabled","nzType","nzDanger","nzShape","nzSize","nzGhost"],["nz-button","",3,"click","hidden","nzLoading","disabled","nzType","nzDanger","nzShape","nzSize","nzGhost"],["nz-button","",3,"nzLoading","disabled"],["nz-button","",3,"nzType","nzDanger","nzLoading","disabled"],["nz-button","",3,"click","nzLoading","disabled"],["nz-button","",3,"click","nzType","nzDanger","nzLoading","disabled"]],template:function(n,o){n&1&&u(0,iu,1,5,"ng-container")(1,ru,2,2),n&2&&z(o.config.nzFooter?0:1)},dependencies:[Re,je,De,Pe,Me,ke],encapsulation:2})}}return t})();function _u(t){return ee({type:null,size:"default",autoLoading:!0,show:!0,loading:!1,disabled:!1},t)}var dd=(()=>{class t{constructor(e){this.config=e}static{this.\u0275fac=function(n){return new(n||t)(T(Ai))}}static{this.\u0275cmp=D({type:t,selectors:[["div","nz-modal-title",""]],hostAttrs:[1,"ant-modal-header"],exportAs:["NzModalTitleBuiltin"],attrs:su,decls:2,vars:1,consts:[[1,"ant-modal-title"],[4,"nzStringTemplateOutlet"],[3,"innerHTML"]],template:function(n,o){n&1&&(r(0,"div",0),u(1,lu,2,1,"ng-container",1),s()),n&2&&(c(),m("nzStringTemplateOutlet",o.config.nzTitle))},dependencies:[Re,je],encapsulation:2,changeDetection:0})}}return t})(),md=(()=>{class t extends sd{ngOnInit(){this.setupMouseListeners(this.modalElementRef)}static{this.\u0275fac=(()=>{let e;return function(o){return(e||(e=cl(t)))(o||t)}})()}static{this.\u0275cmp=D({type:t,selectors:[["nz-modal-container"]],viewQuery:function(n,o){if(n&1&&(G(Ln,7),G(ad,7)),n&2){let a;R(a=Y())&&(o.portalOutlet=a.first),R(a=Y())&&(o.modalElementRef=a.first)}},hostAttrs:["tabindex","-1","role","dialog"],hostVars:10,hostBindings:function(n,o){n&1&&(Ur("@modalContainer.start",function(d){return o.onAnimationStart(d)})("@modalContainer.done",function(d){return o.onAnimationDone(d)}),y("click",function(d){return o.onContainerClick(d)})),n&2&&(Yo("@.disabled",o.config.nzNoAnimation)("@modalContainer",o.state),Qn(o.config.nzWrapClassName?"ant-modal-wrap "+o.config.nzWrapClassName:"ant-modal-wrap"),pt("z-index",o.config.nzZIndex),B("ant-modal-wrap-rtl",o.dir==="rtl")("ant-modal-centered",o.config.nzCentered))},exportAs:["nzModalContainer"],features:[Ti([jo]),bi],decls:10,vars:15,consts:[["modalElement",""],["cdkDrag","","cdkDragBoundary",".cdk-overlay-container","role","document",1,"ant-modal",3,"cdkDragDisabled"],[1,"ant-modal-content"],["nz-modal-close",""],["nz-modal-title","","cdkDragHandle","",3,"cursor"],[1,"ant-modal-body"],["cdkPortalOutlet",""],[3,"innerHTML"],["nz-modal-footer","",3,"modalRef"],["nz-modal-close","",3,"click"],["nz-modal-title","","cdkDragHandle",""],["nz-modal-footer","",3,"cancelTriggered","okTriggered","modalRef"]],template:function(n,o){n&1&&(r(0,"div",1,0),cn(2,"nzToCssUnit"),r(3,"div",2),u(4,cu,1,0,"button",3)(5,du,1,2,"div",4),r(6,"div",5),u(7,mu,0,0,"ng-template",6)(8,pu,1,1,"div",7),s(),u(9,uu,1,1,"div",8),s()()),n&2&&(ve(o.config.nzStyle),Qn(o.config.nzClassName),pt("width",ui(2,13,o.config==null?null:o.config.nzWidth)),m("cdkDragDisabled",!o.config.nzDraggable),c(4),z(o.config.nzClosable?4:-1),c(),z(o.config.nzTitle?5:-1),c(),ve(o.config.nzBodyStyle),c(2),z(o.isStringContent?8:-1),c(),z(o.config.nzFooter!==null?9:-1))},dependencies:[bs,dd,Zi,Ln,cd,ps,ms,ed,Xc],encapsulation:2,data:{animation:[rd.modalContainer]}})}}return t})(),xo=class{constructor(i,e,n){this.overlayRef=i,this.config=e,this.containerInstance=n,this.componentInstance=null,this.componentRef=null,this.state=0,this.afterClose=new H,this.afterOpen=new H,this.destroy$=new H,n.animationStateChanged.pipe(Xe(o=>o.phaseName==="done"&&o.toState==="enter"),yi(1)).subscribe(()=>{this.afterOpen.next(),this.afterOpen.complete(),e.nzAfterOpen instanceof F&&e.nzAfterOpen.emit()}),n.animationStateChanged.pipe(Xe(o=>o.phaseName==="done"&&o.toState==="exit"),yi(1)).subscribe(()=>{clearTimeout(this.closeTimeout),this._finishDialogClose()}),n.containerClick.pipe(P(this.destroy$)).subscribe(()=>{!this.config.nzCancelLoading&&!this.config.nzOkLoading&&this.trigger("cancel")}),i.keydownEvents().pipe(Xe(o=>this.config.nzKeyboard&&!this.config.nzCancelLoading&&!this.config.nzOkLoading&&o.keyCode===27&&!uo(o))).subscribe(o=>{o.preventDefault(),this.trigger("cancel")}),n.cancelTriggered.pipe(P(this.destroy$)).subscribe(()=>this.trigger("cancel")),n.okTriggered.pipe(P(this.destroy$)).subscribe(()=>this.trigger("ok")),i.detachments().subscribe(()=>{this.afterClose.next(this.result),this.afterClose.complete(),e.nzAfterClose instanceof F&&e.nzAfterClose.emit(this.result),this.componentInstance=null,this.componentRef=null,this.overlayRef.dispose()})}getContentComponent(){return this.componentInstance}getContentComponentRef(){return this.componentRef}getElement(){return this.containerInstance.getNativeElement()}destroy(i){this.close(i)}triggerOk(){return this.trigger("ok")}triggerCancel(){return this.trigger("cancel")}close(i){this.state===0&&(this.result=i,this.containerInstance.animationStateChanged.pipe(Xe(e=>e.phaseName==="start"),yi(1)).subscribe(e=>{this.overlayRef.detachBackdrop(),this.closeTimeout=setTimeout(()=>{this._finishDialogClose()},e.totalTime+100)}),this.containerInstance.startExitAnimation(),this.state=1)}updateConfig(i){Object.assign(this.config,i),this.containerInstance.bindBackdropStyle(),this.containerInstance.cdr.markForCheck()}getState(){return this.state}getConfig(){return this.config}getBackdropElement(){return this.overlayRef.backdropElement}trigger(i){return oe(this,null,function*(){if(this.state===1)return;let e={ok:this.config.nzOnOk,cancel:this.config.nzOnCancel}[i],n={ok:"nzOkLoading",cancel:"nzCancelLoading"}[i];if(!this.config[n]){if(e instanceof F)e.emit(this.getContentComponent());else if(typeof e=="function"){let a=e(this.getContentComponent());if(ts(a)){this.config[n]=!0;let d=!1;try{d=yield a}finally{this.config[n]=!1,this.closeWhitResult(d)}}else this.closeWhitResult(a)}}})}closeWhitResult(i){i!==!1&&this.close(i)}_finishDialogClose(){this.state=2,this.overlayRef.dispose(),this.destroy$.next()}},Wn=(()=>{class t{get openModals(){return this.parentModal?this.parentModal.openModals:this.openModalsAtThisLevel}get _afterAllClosed(){let e=this.parentModal;return e?e._afterAllClosed:this.afterAllClosedAtThisLevel}constructor(e,n,o,a){this.overlay=e,this.injector=n,this.nzConfigService=o,this.directionality=a,this.openModalsAtThisLevel=[],this.afterAllClosedAtThisLevel=new H,this.afterAllClose=tl(()=>this.openModals.length?this._afterAllClosed:this._afterAllClosed.pipe(rt(void 0))),this.parentModal=_(t,{skipSelf:!0,optional:!0})}create(e){return this.open(e.nzContent,e)}closeAll(){this.closeModals(this.openModals)}confirm(e={},n="confirm"){return"nzFooter"in e&&Ma(`The Confirm-Modal doesn't support "nzFooter", this property will be ignored.`),"nzWidth"in e||(e.nzWidth=416),"nzMaskClosable"in e||(e.nzMaskClosable=!1),e.nzModalType="confirm",e.nzClassName=`ant-modal-confirm ant-modal-confirm-${n} ${e.nzClassName||""}`,this.create(e)}info(e={}){return this.confirmFactory(e,"info")}success(e={}){return this.confirmFactory(e,"success")}error(e={}){return this.confirmFactory(e,"error")}warning(e={}){return this.confirmFactory(e,"warning")}open(e,n){let o=fu(n||{},new Ai),a=this.createOverlay(o),d=this.attachModalContainer(a,o),f=this.attachModalContent(e,d,a,o);return d.modalRef=f,ka(a,n?.nzZIndex),this.openModals.push(f),f.afterClose.subscribe(()=>this.removeOpenModal(f)),f}removeOpenModal(e){let n=this.openModals.indexOf(e);n>-1&&(this.openModals.splice(n,1),this.openModals.length||this._afterAllClosed.next())}closeModals(e){let n=e.length;for(;n--;)e[n].close(),this.openModals.length||this._afterAllClosed.next()}createOverlay(e){let n=this.nzConfigService.getConfigForComponent($a)||{},o=new wa({hasBackdrop:!0,scrollStrategy:this.overlay.scrollStrategies.block(),backdropClass:Xo(e.nzMask,n.nzMask,!0)?Ua:"",positionStrategy:this.overlay.position().global(),disposeOnNavigation:Xo(e.nzCloseOnNavigation,n.nzCloseOnNavigation,!0),direction:Xo(e.nzDirection,n.nzDirection,this.directionality.value)});return this.overlay.create(o)}attachModalContainer(e,n){let o=n&&n.nzViewContainerRef&&n.nzViewContainerRef.injector,a=ln.create({parent:o||this.injector,providers:[{provide:qr,useValue:e},{provide:Ai,useValue:n}]}),d=n.nzModalType==="confirm"?ld:md,f=new Pi(d,n.nzViewContainerRef,a);return e.attach(f).instance}attachModalContent(e,n,o,a){let d=new xo(o,a,n);if(e instanceof mt)n.attachTemplatePortal(new Ii(e,null,{$implicit:a.nzData,modalRef:d}));else if(Oi(e)&&typeof e!="string"){let f=this.createInjector(d,a),x=n.attachComponentPortal(new Pi(e,a.nzViewContainerRef,f));d.componentRef=x,d.componentInstance=x.instance}else n.attachStringContent();return d}createInjector(e,n){let o=n&&n.nzViewContainerRef&&n.nzViewContainerRef.injector;return ln.create({parent:o||this.injector,providers:[{provide:xo,useValue:e},{provide:hu,useValue:n.nzData}]})}confirmFactory(e={},n){let o={info:"info-circle",success:"check-circle",error:"close-circle",warning:"exclamation-circle"};return"nzIconType"in e||(e.nzIconType=o[n]),"nzCancelText"in e||(e.nzCancelText=null),this.confirm(e,n)}ngOnDestroy(){this.closeModals(this.openModalsAtThisLevel),this.afterAllClosedAtThisLevel.complete()}static{this.\u0275fac=function(n){return new(n||t)(pi(Ji),pi(ln),pi(nt),pi(Ee))}}static{this.\u0275prov=Ye({token:t,factory:t.\u0275fac})}}return t})(),ni=(()=>{class t{constructor(e){this.templateRef=e}static{this.\u0275fac=function(n){return new(n||t)(T(mt))}}static{this.\u0275dir=Ve({type:t,selectors:[["","nzModalContent",""]],exportAs:["nzModalContent"]})}}return t})(),gu=(()=>{class t{constructor(e){this.templateRef=e,this.nzModalRef=_(xo,{optional:!0}),this.nzModalRef&&this.nzModalRef.updateConfig({nzFooter:this.templateRef})}static{this.\u0275fac=function(n){return new(n||t)(T(mt))}}static{this.\u0275dir=Ve({type:t,selectors:[["","nzModalFooter",""]],exportAs:["nzModalFooter"]})}}return t})(),Cu=(()=>{class t{constructor(e){this.templateRef=e,this.nzModalRef=_(xo,{optional:!0}),this.nzModalRef&&this.nzModalRef.updateConfig({nzTitle:this.templateRef})}static{this.\u0275fac=function(n){return new(n||t)(T(mt))}}static{this.\u0275dir=Ve({type:t,selectors:[["","nzModalTitle",""]],exportAs:["nzModalTitle"]})}}return t})(),si=(()=>{class t{set modalTitle(e){e&&this.setTitleWithTemplate(e)}set modalFooter(e){e&&this.setFooterWithTemplate(e)}get afterOpen(){return this.nzAfterOpen.asObservable()}get afterClose(){return this.nzAfterClose.asObservable()}constructor(e,n,o){this.cdr=e,this.modal=n,this.viewContainerRef=o,this.nzVisible=!1,this.nzClosable=!0,this.nzOkLoading=!1,this.nzOkDisabled=!1,this.nzCancelDisabled=!1,this.nzCancelLoading=!1,this.nzKeyboard=!0,this.nzNoAnimation=!1,this.nzCentered=!1,this.nzDraggable=!1,this.nzZIndex=1e3,this.nzWidth=520,this.nzCloseIcon="close",this.nzOkType="primary",this.nzOkDanger=!1,this.nzIconType="question-circle",this.nzModalType="default",this.nzAutofocus="auto",this.nzOnOk=new F,this.nzOnCancel=new F,this.nzAfterOpen=new F,this.nzAfterClose=new F,this.nzVisibleChange=new F,this.modalRef=null,this.destroy$=new H}open(){if(this.nzVisible||(this.nzVisible=!0,this.nzVisibleChange.emit(!0)),!this.modalRef){let e=this.getConfig();this.modalRef=this.modal.create(e),this.modalRef.afterClose.asObservable().pipe(P(this.destroy$)).subscribe(()=>{this.close()})}}close(e){this.nzVisible&&(this.nzVisible=!1,this.nzVisibleChange.emit(!1)),this.modalRef&&(this.modalRef.close(e),this.modalRef=null)}destroy(e){this.close(e)}triggerOk(){this.modalRef?.triggerOk()}triggerCancel(){this.modalRef?.triggerCancel()}getContentComponent(){return this.modalRef?.getContentComponent()}getElement(){return this.modalRef?.getElement()}getModalRef(){return this.modalRef}setTitleWithTemplate(e){this.nzTitle=e,this.modalRef&&Promise.resolve().then(()=>{this.modalRef.updateConfig({nzTitle:this.nzTitle})})}setFooterWithTemplate(e){this.nzFooter=e,this.modalRef&&Promise.resolve().then(()=>{this.modalRef.updateConfig({nzFooter:this.nzFooter})}),this.cdr.markForCheck()}getConfig(){let e=nd(this);return e.nzViewContainerRef=this.viewContainerRef,e.nzContent=this.nzContent||this.contentFromContentChild,e}ngOnChanges(e){let a=e,{nzVisible:n}=a,o=sa(a,["nzVisible"]);Object.keys(o).length&&this.modalRef&&this.modalRef.updateConfig(nd(this)),n&&(this.nzVisible?this.open():this.close())}ngOnDestroy(){this.modalRef?._finishDialogClose(),this.destroy$.next(),this.destroy$.complete()}static{this.\u0275fac=function(n){return new(n||t)(T(se),T(Wn),T(Fn))}}static{this.\u0275cmp=D({type:t,selectors:[["nz-modal"]],contentQueries:function(n,o,a){if(n&1&&(it(a,Cu,7,mt),it(a,ni,7,mt),it(a,gu,7,mt)),n&2){let d;R(d=Y())&&(o.modalTitle=d.first),R(d=Y())&&(o.contentFromContentChild=d.first),R(d=Y())&&(o.modalFooter=d.first)}},inputs:{nzMask:[2,"nzMask","nzMask",O],nzMaskClosable:[2,"nzMaskClosable","nzMaskClosable",O],nzCloseOnNavigation:[2,"nzCloseOnNavigation","nzCloseOnNavigation",O],nzVisible:[2,"nzVisible","nzVisible",O],nzClosable:[2,"nzClosable","nzClosable",O],nzOkLoading:[2,"nzOkLoading","nzOkLoading",O],nzOkDisabled:[2,"nzOkDisabled","nzOkDisabled",O],nzCancelDisabled:[2,"nzCancelDisabled","nzCancelDisabled",O],nzCancelLoading:[2,"nzCancelLoading","nzCancelLoading",O],nzKeyboard:[2,"nzKeyboard","nzKeyboard",O],nzNoAnimation:[2,"nzNoAnimation","nzNoAnimation",O],nzCentered:[2,"nzCentered","nzCentered",O],nzDraggable:[2,"nzDraggable","nzDraggable",O],nzContent:"nzContent",nzFooter:"nzFooter",nzZIndex:[2,"nzZIndex","nzZIndex",pn],nzWidth:"nzWidth",nzWrapClassName:"nzWrapClassName",nzClassName:"nzClassName",nzStyle:"nzStyle",nzTitle:"nzTitle",nzCloseIcon:"nzCloseIcon",nzMaskStyle:"nzMaskStyle",nzBodyStyle:"nzBodyStyle",nzOkText:"nzOkText",nzCancelText:"nzCancelText",nzOkType:"nzOkType",nzOkDanger:[2,"nzOkDanger","nzOkDanger",O],nzIconType:"nzIconType",nzModalType:"nzModalType",nzAutofocus:"nzAutofocus",nzOnOk:"nzOnOk",nzOnCancel:"nzOnCancel"},outputs:{nzOnOk:"nzOnOk",nzOnCancel:"nzOnCancel",nzAfterOpen:"nzAfterOpen",nzAfterClose:"nzAfterClose",nzVisibleChange:"nzVisibleChange"},exportAs:["nzModal"],features:[Q],decls:0,vars:0,template:function(n,o){},encapsulation:2,changeDetection:0})}}return t})(),sn=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=Ce({type:t})}static{this.\u0275inj=ge({providers:[Wn],imports:[bs,cd,dd,md,ld]})}}return t})();var vu=["*"];function zu(t,i){t&1&&(te(0),re(1),ne())}var ta=class t{modalTitle;isModalVisible=!1;showModal(){this.isModalVisible=!0}handleModalOk(){this.isModalVisible=!1}handleModalCancel(){this.isModalVisible=!1}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=D({type:t,selectors:[["app-generic-modal"]],inputs:{modalTitle:"modalTitle"},ngContentSelectors:vu,decls:2,vars:2,consts:[["nzOkText","Ok","nzCancelText","Cancelar",3,"nzVisibleChange","nzOnCancel","nzOnOk","nzVisible","nzTitle"],[4,"nzModalContent"]],template:function(e,n){e&1&&(fe(),r(0,"nz-modal",0),ye("nzVisibleChange",function(a){return Se(n.isModalVisible,a)||(n.isModalVisible=a),a}),y("nzOnCancel",function(){return n.handleModalCancel()})("nzOnOk",function(){return n.handleModalOk()}),u(1,zu,2,0,"ng-container",1),s()),e&2&&(ze("nzVisible",n.isModalVisible),m("nzTitle",n.modalTitle))},dependencies:[sn,si,ni],encapsulation:2})};var hd=["*"],Su=["collapseHeader"];function yu(t,i){if(t&1&&(te(0),h(1,"span",7),ne()),t&2){let e=i.$implicit,n=l(2);c(),m("nzType",e||"right")("nzRotate",n.nzActive?90:0)}}function xu(t,i){if(t&1&&(r(0,"div"),u(1,yu,2,2,"ng-container",3),s()),t&2){let e=l();c(),m("nzStringTemplateOutlet",e.nzExpandedIcon)}}function bu(t,i){if(t&1&&(te(0),p(1),ne()),t&2){let e=l();c(),K(e.nzHeader)}}function Tu(t,i){if(t&1&&(te(0),p(1),ne()),t&2){let e=l(2);c(),K(e.nzExtra)}}function wu(t,i){if(t&1&&(r(0,"div",4),u(1,Tu,2,1,"ng-container",3),s()),t&2){let e=l();c(),m("nzStringTemplateOutlet",e.nzExtra)}}var pd="collapse",vn=(()=>{let t,i=[],e=[],n,o=[],a=[],d,f=[],x=[];return class Ts{static{let N=typeof Symbol=="function"&&Symbol.metadata?Object.create(null):void 0;t=[_e()],n=[_e()],d=[_e()],he(null,null,t,{kind:"field",name:"nzAccordion",static:!1,private:!1,access:{has:I=>"nzAccordion"in I,get:I=>I.nzAccordion,set:(I,$)=>{I.nzAccordion=$}},metadata:N},i,e),he(null,null,n,{kind:"field",name:"nzBordered",static:!1,private:!1,access:{has:I=>"nzBordered"in I,get:I=>I.nzBordered,set:(I,$)=>{I.nzBordered=$}},metadata:N},o,a),he(null,null,d,{kind:"field",name:"nzGhost",static:!1,private:!1,access:{has:I=>"nzGhost"in I,get:I=>I.nzGhost,set:(I,$)=>{I.nzGhost=$}},metadata:N},f,x),N&&Object.defineProperty(this,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:N})}constructor(N,I,$,b){this.nzConfigService=N,this.cdr=I,this.directionality=$,this.destroy$=b,this._nzModuleName=pd,this.nzAccordion=U(this,i,!1),this.nzBordered=(U(this,e),U(this,o,!0)),this.nzGhost=(U(this,a),U(this,f,!1)),this.nzExpandIconPosition=(U(this,x),"start"),this.dir="ltr",this.listOfNzCollapsePanelComponent=[],this.nzConfigService.getConfigChangeEventForComponent(pd).pipe(P(this.destroy$)).subscribe(()=>{this.cdr.markForCheck()})}ngOnInit(){this.directionality.change?.pipe(P(this.destroy$)).subscribe(N=>{this.dir=N,this.cdr.detectChanges()}),this.dir=this.directionality.value}addPanel(N){this.listOfNzCollapsePanelComponent.push(N)}removePanel(N){this.listOfNzCollapsePanelComponent.splice(this.listOfNzCollapsePanelComponent.indexOf(N),1)}click(N){this.nzAccordion&&!N.nzActive&&this.listOfNzCollapsePanelComponent.filter(I=>I!==N).forEach(I=>{I.nzActive&&(I.nzActive=!1,I.nzActiveChange.emit(I.nzActive),I.markForCheck())}),N.nzActive=!N.nzActive,N.nzActiveChange.emit(N.nzActive)}static{this.\u0275fac=function(I){return new(I||Ts)(T(nt),T(se),T(Ee),T(Ct))}}static{this.\u0275cmp=D({type:Ts,selectors:[["nz-collapse"]],hostAttrs:[1,"ant-collapse"],hostVars:10,hostBindings:function(I,$){I&2&&B("ant-collapse-icon-position-start",$.nzExpandIconPosition==="start")("ant-collapse-icon-position-end",$.nzExpandIconPosition==="end")("ant-collapse-ghost",$.nzGhost)("ant-collapse-borderless",!$.nzBordered)("ant-collapse-rtl",$.dir==="rtl")},inputs:{nzAccordion:[2,"nzAccordion","nzAccordion",O],nzBordered:[2,"nzBordered","nzBordered",O],nzGhost:[2,"nzGhost","nzGhost",O],nzExpandIconPosition:"nzExpandIconPosition"},exportAs:["nzCollapse"],features:[Le([Ct])],ngContentSelectors:hd,decls:1,vars:0,template:function(I,$){I&1&&(fe(),re(0))},encapsulation:2,changeDetection:0})}}})(),ud="collapsePanel",zn=(()=>{let t,i=[],e=[];return class ws{static{let o=typeof Symbol=="function"&&Symbol.metadata?Object.create(null):void 0;t=[_e()],he(null,null,t,{kind:"field",name:"nzShowArrow",static:!1,private:!1,access:{has:a=>"nzShowArrow"in a,get:a=>a.nzShowArrow,set:(a,d)=>{a.nzShowArrow=d}},metadata:o},i,e),o&&Object.defineProperty(this,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o})}markForCheck(){this.cdr.markForCheck()}constructor(o,a,d,f){this.nzConfigService=o,this.ngZone=a,this.cdr=d,this.destroy$=f,this._nzModuleName=ud,this.nzActive=!1,this.nzDisabled=!1,this.nzShowArrow=U(this,i,!0),this.nzExtra=U(this,e),this.nzActiveChange=new F,this.nzCollapseComponent=_(vn,{host:!0}),this.noAnimation=_(Jn,{optional:!0}),this.nzConfigService.getConfigChangeEventForComponent(ud).pipe(P(this.destroy$)).subscribe(()=>{this.cdr.markForCheck()})}ngOnInit(){this.nzCollapseComponent.addPanel(this),Qt(this.collapseHeader.nativeElement,"click").pipe(Xe(()=>!this.nzDisabled),P(this.destroy$)).subscribe(()=>{this.ngZone.run(()=>{this.nzCollapseComponent.click(this),this.cdr.markForCheck()})})}ngOnDestroy(){this.nzCollapseComponent.removePanel(this)}static{this.\u0275fac=function(a){return new(a||ws)(T(nt),T(et),T(se),T(Ct))}}static{this.\u0275cmp=D({type:ws,selectors:[["nz-collapse-panel"]],viewQuery:function(a,d){if(a&1&&G(Su,7),a&2){let f;R(f=Y())&&(d.collapseHeader=f.first)}},hostAttrs:[1,"ant-collapse-item"],hostVars:6,hostBindings:function(a,d){a&2&&B("ant-collapse-no-arrow",!d.nzShowArrow)("ant-collapse-item-active",d.nzActive)("ant-collapse-item-disabled",d.nzDisabled)},inputs:{nzActive:[2,"nzActive","nzActive",O],nzDisabled:[2,"nzDisabled","nzDisabled",O],nzShowArrow:[2,"nzShowArrow","nzShowArrow",O],nzExtra:"nzExtra",nzHeader:"nzHeader",nzExpandedIcon:"nzExpandedIcon"},outputs:{nzActiveChange:"nzActiveChange"},exportAs:["nzCollapsePanel"],features:[Le([Ct])],ngContentSelectors:hd,decls:9,vars:8,consts:[["collapseHeader",""],["role","button",1,"ant-collapse-header"],[1,"ant-collapse-header-text"],[4,"nzStringTemplateOutlet"],[1,"ant-collapse-extra"],[1,"ant-collapse-content"],[1,"ant-collapse-content-box"],["nz-icon","",1,"ant-collapse-arrow",3,"nzType","nzRotate"]],template:function(a,d){a&1&&(fe(),r(0,"div",1,0),u(2,xu,2,1,"div"),r(3,"span",2),u(4,bu,2,1,"ng-container",3),s(),u(5,wu,2,1,"div",4),s(),r(6,"div",5)(7,"div",6),re(8),s()()),a&2&&(He("aria-expanded",d.nzActive),c(2),z(d.nzShowArrow?2:-1),c(2),m("nzStringTemplateOutlet",d.nzHeader),c(),z(d.nzExtra?5:-1),c(),B("ant-collapse-content-active",d.nzActive),m("@.disabled",!!(d.noAnimation!=null&&d.noAnimation.nzNoAnimation))("@collapseMotion",d.nzActive?"expanded":"hidden"))},dependencies:[Re,je,J,me],encapsulation:2,data:{animation:[Ul]},changeDetection:0})}}})(),xn=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=Ce({type:t})}static{this.\u0275inj=ge({imports:[zn]})}}return t})();var Du=["*"];function Mu(t,i){if(t&1){let e=M();r(0,"div",0),y("@slideMotion.done",function(o){g(e);let a=l();return C(a.onAnimationEvent(o))})("mouseenter",function(){g(e);let o=l();return C(o.setMouseState(!0))})("mouseleave",function(){g(e);let o=l();return C(o.setMouseState(!1))}),re(1),s()}if(t&2){let e=l();ve(e.nzOverlayStyle),Qn(e.nzOverlayClassName),B("ant-dropdown-rtl",e.dir==="rtl"),m("@slideMotion",void 0)("@.disabled",!!(e.noAnimation!=null&&e.noAnimation.nzNoAnimation))("nzNoAnimation",e.noAnimation==null?null:e.noAnimation.nzNoAnimation)}}var ku="dropDown",Pu=[_i.bottomLeft,_i.bottomRight,_i.topRight,_i.topLeft],gi=(()=>{let t,i=[],e=[];return class Ds{static{let o=typeof Symbol=="function"&&Symbol.metadata?Object.create(null):void 0;t=[_e()],he(null,null,t,{kind:"field",name:"nzBackdrop",static:!1,private:!1,access:{has:a=>"nzBackdrop"in a,get:a=>a.nzBackdrop,set:(a,d)=>{a.nzBackdrop=d}},metadata:o},i,e),o&&Object.defineProperty(this,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o})}setDropdownMenuValue(o,a){this.nzDropdownMenu&&this.nzDropdownMenu.setValue(o,a)}constructor(o,a,d,f,x,k){this.nzConfigService=o,this.elementRef=a,this.overlay=d,this.renderer=f,this.viewContainerRef=x,this.platform=k,this._nzModuleName=ku,this.overlayRef=null,this.destroy$=new H,this.positionStrategy=this.overlay.position().flexibleConnectedTo(this.elementRef.nativeElement).withLockedPosition().withTransformOriginOn(".ant-dropdown"),this.inputVisible$=new Ae(!1),this.nzTrigger$=new Ae("hover"),this.overlayClose$=new H,this.nzDropdownMenu=null,this.nzTrigger="hover",this.nzMatchWidthElement=null,this.nzBackdrop=U(this,i,!1),this.nzClickHide=(U(this,e),!0),this.nzDisabled=!1,this.nzVisible=!1,this.nzOverlayClassName="",this.nzOverlayStyle={},this.nzPlacement="bottomLeft",this.nzVisibleChange=new F}ngAfterViewInit(){if(this.nzDropdownMenu){let o=this.elementRef.nativeElement,a=gt(mi(o,"mouseenter").pipe(ae(()=>!0)),mi(o,"mouseleave").pipe(ae(()=>!1))),d=this.nzDropdownMenu.mouseState$,f=gt(d,a),x=mi(o,"click").pipe(ae(()=>!this.nzVisible)),k=this.nzTrigger$.pipe(St(b=>b==="hover"?f:b==="click"?x:Si)),N=this.nzDropdownMenu.descendantMenuItemClick$.pipe(Xe(()=>this.nzClickHide),ae(()=>!1)),I=gt(k,N,this.overlayClose$).pipe(Xe(()=>!this.nzDisabled)),$=gt(this.inputVisible$,I);fn([$,this.nzDropdownMenu.isChildSubMenuOpen$]).pipe(ae(([b,v])=>b||v),ma(150),Nn(),Xe(()=>this.platform.isBrowser),P(this.destroy$)).subscribe(b=>{let S=(this.nzMatchWidthElement?this.nzMatchWidthElement.nativeElement:o).getBoundingClientRect().width;if(this.nzVisible!==b&&this.nzVisibleChange.emit(b),this.nzVisible=b,b){if(!this.overlayRef)this.overlayRef=this.overlay.create({positionStrategy:this.positionStrategy,minWidth:S,disposeOnNavigation:!0,hasBackdrop:this.nzBackdrop&&this.nzTrigger==="click",scrollStrategy:this.overlay.scrollStrategies.reposition()}),gt(this.overlayRef.backdropClick(),this.overlayRef.detachments(),this.overlayRef.outsidePointerEvents().pipe(Xe(w=>!this.elementRef.nativeElement.contains(w.target))),this.overlayRef.keydownEvents().pipe(Xe(w=>w.keyCode===27&&!uo(w)))).pipe(P(this.destroy$)).subscribe(()=>{this.overlayClose$.next(!1)});else{let w=this.overlayRef.getConfig();w.minWidth=S}this.positionStrategy.withPositions([_i[this.nzPlacement],...Pu]),(!this.portal||this.portal.templateRef!==this.nzDropdownMenu.templateRef)&&(this.portal=new Ii(this.nzDropdownMenu.templateRef,this.viewContainerRef)),this.overlayRef.attach(this.portal)}else this.overlayRef&&this.overlayRef.detach()}),this.nzDropdownMenu.animationStateChange$.pipe(P(this.destroy$)).subscribe(b=>{b.toState==="void"&&(this.overlayRef&&this.overlayRef.dispose(),this.overlayRef=null)})}}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete(),this.overlayRef&&(this.overlayRef.dispose(),this.overlayRef=null)}ngOnChanges(o){let{nzVisible:a,nzDisabled:d,nzOverlayClassName:f,nzOverlayStyle:x,nzTrigger:k}=o;if(k&&this.nzTrigger$.next(this.nzTrigger),a&&this.inputVisible$.next(this.nzVisible),d){let N=this.elementRef.nativeElement;this.nzDisabled?(this.renderer.setAttribute(N,"disabled",""),this.inputVisible$.next(!1)):this.renderer.removeAttribute(N,"disabled")}f&&this.setDropdownMenuValue("nzOverlayClassName",this.nzOverlayClassName),x&&this.setDropdownMenuValue("nzOverlayStyle",this.nzOverlayStyle)}static{this.\u0275fac=function(a){return new(a||Ds)(T(nt),T(pe),T(Ji),T(xt),T(Fn),T(ki))}}static{this.\u0275dir=Ve({type:Ds,selectors:[["","nz-dropdown",""]],hostAttrs:[1,"ant-dropdown-trigger"],inputs:{nzDropdownMenu:"nzDropdownMenu",nzTrigger:"nzTrigger",nzMatchWidthElement:"nzMatchWidthElement",nzBackdrop:[2,"nzBackdrop","nzBackdrop",O],nzClickHide:[2,"nzClickHide","nzClickHide",O],nzDisabled:[2,"nzDisabled","nzDisabled",O],nzVisible:[2,"nzVisible","nzVisible",O],nzOverlayClassName:"nzOverlayClassName",nzOverlayStyle:"nzOverlayStyle",nzPlacement:"nzPlacement"},outputs:{nzVisibleChange:"nzVisibleChange"},exportAs:["nzDropdown"],features:[Q]})}}})(),Iu=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=Ce({type:t})}static{this.\u0275inj=ge({})}}return t})();var na=(()=>{class t{onAnimationEvent(e){this.animationStateChange$.emit(e)}setMouseState(e){this.mouseState$.next(e)}setValue(e,n){this[e]=n,this.cdr.markForCheck()}constructor(e,n,o,a,d,f){this.cdr=e,this.elementRef=n,this.renderer=o,this.viewContainerRef=a,this.nzMenuService=d,this.directionality=f,this.mouseState$=new Ae(!1),this.isChildSubMenuOpen$=this.nzMenuService.isChildSubMenuOpen$,this.descendantMenuItemClick$=this.nzMenuService.descendantMenuItemClick$,this.animationStateChange$=new F,this.nzOverlayClassName="",this.nzOverlayStyle={},this.dir="ltr",this.destroy$=new H,this.noAnimation=_(Jn,{host:!0,optional:!0})}ngOnInit(){this.directionality.change?.pipe(P(this.destroy$)).subscribe(e=>{this.dir=e,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngAfterContentInit(){this.renderer.removeChild(this.renderer.parentNode(this.elementRef.nativeElement),this.elementRef.nativeElement)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static{this.\u0275fac=function(n){return new(n||t)(T(se),T(pe),T(xt),T(Fn),T(Ia),T(Ee))}}static{this.\u0275cmp=D({type:t,selectors:[["nz-dropdown-menu"]],viewQuery:function(n,o){if(n&1&&G(mt,7),n&2){let a;R(a=Y())&&(o.templateRef=a.first)}},exportAs:["nzDropdownMenu"],features:[Le([Ia,{provide:cc,useValue:!0}])],ngContentSelectors:Du,decls:1,vars:0,consts:[[1,"ant-dropdown",3,"mouseenter","mouseleave","nzNoAnimation"]],template:function(n,o){n&1&&(fe(),u(0,Mu,2,9,"ng-template"))},dependencies:[Jn],encapsulation:2,data:{animation:[Da]},changeDetection:0})}}return t})(),To=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=Ce({type:t})}static{this.\u0275inj=ge({imports:[Iu,Oa]})}}return t})(),E2=[new Lo({originX:"start",originY:"top"},{overlayX:"start",overlayY:"top"}),new Lo({originX:"start",originY:"top"},{overlayX:"start",overlayY:"bottom"}),new Lo({originX:"start",originY:"top"},{overlayX:"end",overlayY:"bottom"}),new Lo({originX:"start",originY:"top"},{overlayX:"end",overlayY:"top"})];var Ou=["*"],Nu=["inputElement"],Fu=["nz-radio",""],Eu=(()=>{class t{constructor(){this.selected$=new dt(1),this.touched$=new H,this.disabled$=new dt(1),this.name$=new dt(1)}touch(){this.touched$.next()}select(e){this.selected$.next(e)}setDisabled(e){this.disabled$.next(e)}setName(e){this.name$.next(e)}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=Ye({token:t,factory:t.\u0275fac})}}return t})();var gd=(()=>{class t{focus(){this.focusMonitor.focusVia(this.inputElement,"keyboard")}blur(){this.inputElement.nativeElement.blur()}constructor(e,n,o,a){this.ngZone=e,this.elementRef=n,this.cdr=o,this.focusMonitor=a,this.isNgModel=!1,this.destroy$=new H,this.isNzDisableFirstChange=!0,this.directionality=_(Ee),this.nzRadioService=_(Eu,{optional:!0}),this.nzFormStatusService=_(En,{optional:!0}),this.isChecked=!1,this.name=null,this.onChange=()=>{},this.onTouched=()=>{},this.nzValue=null,this.nzDisabled=!1,this.nzAutoFocus=!1,this.isRadioButton=!1,this.dir="ltr"}setDisabledState(e){this.nzDisabled=this.isNzDisableFirstChange&&this.nzDisabled||e,this.isNzDisableFirstChange=!1,this.cdr.markForCheck()}writeValue(e){this.isChecked=e,this.cdr.markForCheck()}registerOnChange(e){this.isNgModel=!0,this.onChange=e}registerOnTouched(e){this.onTouched=e}ngOnInit(){this.nzRadioService&&(this.nzRadioService.name$.pipe(P(this.destroy$)).subscribe(e=>{this.name=e,this.cdr.markForCheck()}),this.nzRadioService.disabled$.pipe(P(this.destroy$)).subscribe(e=>{this.nzDisabled=this.isNzDisableFirstChange&&this.nzDisabled||e,this.isNzDisableFirstChange=!1,this.cdr.markForCheck()}),this.nzRadioService.selected$.pipe(P(this.destroy$)).subscribe(e=>{let n=this.isChecked;this.isChecked=this.nzValue===e,this.isNgModel&&n!==this.isChecked&&this.isChecked===!1&&this.onChange(!1),this.cdr.markForCheck()})),this.focusMonitor.monitor(this.elementRef,!0).pipe(P(this.destroy$)).subscribe(e=>{e||(Promise.resolve().then(()=>this.onTouched()),this.nzRadioService&&this.nzRadioService.touch())}),this.directionality.change.pipe(P(this.destroy$)).subscribe(e=>{this.dir=e,this.cdr.detectChanges()}),this.dir=this.directionality.value,this.setupClickListener()}ngAfterViewInit(){this.nzAutoFocus&&this.focus()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.focusMonitor.stopMonitoring(this.elementRef)}setupClickListener(){Qt(this.elementRef.nativeElement,"click").pipe(P(this.destroy$)).subscribe(e=>{e.stopPropagation(),e.preventDefault(),!(this.nzDisabled||this.isChecked)&&this.ngZone.run(()=>{this.focus(),this.nzRadioService?.select(this.nzValue),this.isNgModel&&(this.isChecked=!0,this.onChange(!0)),this.cdr.markForCheck()})})}static{this.\u0275fac=function(n){return new(n||t)(T(et),T(pe),T(se),T(Zn))}}static{this.\u0275cmp=D({type:t,selectors:[["","nz-radio",""],["","nz-radio-button",""]],viewQuery:function(n,o){if(n&1&&G(Nu,7),n&2){let a;R(a=Y())&&(o.inputElement=a.first)}},hostVars:18,hostBindings:function(n,o){n&2&&B("ant-radio-wrapper-in-form-item",!!o.nzFormStatusService)("ant-radio-wrapper",!o.isRadioButton)("ant-radio-button-wrapper",o.isRadioButton)("ant-radio-wrapper-checked",o.isChecked&&!o.isRadioButton)("ant-radio-button-wrapper-checked",o.isChecked&&o.isRadioButton)("ant-radio-wrapper-disabled",o.nzDisabled&&!o.isRadioButton)("ant-radio-button-wrapper-disabled",o.nzDisabled&&o.isRadioButton)("ant-radio-wrapper-rtl",!o.isRadioButton&&o.dir==="rtl")("ant-radio-button-wrapper-rtl",o.isRadioButton&&o.dir==="rtl")},inputs:{nzValue:"nzValue",nzDisabled:[2,"nzDisabled","nzDisabled",O],nzAutoFocus:[2,"nzAutoFocus","nzAutoFocus",O],isRadioButton:[2,"nz-radio-button","isRadioButton",O]},exportAs:["nzRadio"],features:[Le([{provide:Xn,useExisting:mn(()=>t),multi:!0}])],attrs:Fu,ngContentSelectors:Ou,decls:6,vars:24,consts:[["inputElement",""],["type","radio",3,"disabled","checked"]],template:function(n,o){n&1&&(fe(),r(0,"span"),h(1,"input",1,0)(3,"span"),s(),r(4,"span"),re(5),s()),n&2&&(B("ant-radio",!o.isRadioButton)("ant-radio-checked",o.isChecked&&!o.isRadioButton)("ant-radio-disabled",o.nzDisabled&&!o.isRadioButton)("ant-radio-button",o.isRadioButton)("ant-radio-button-checked",o.isChecked&&o.isRadioButton)("ant-radio-button-disabled",o.nzDisabled&&o.isRadioButton),c(),B("ant-radio-input",!o.isRadioButton)("ant-radio-button-input",o.isRadioButton),m("disabled",o.nzDisabled)("checked",o.isChecked),He("autofocus",o.nzAutoFocus?"autofocus":null)("name",o.name),c(2),B("ant-radio-inner",!o.isRadioButton)("ant-radio-button-inner",o.isRadioButton))},encapsulation:2,changeDetection:0})}}return t})(),wo=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=Ce({type:t})}static{this.\u0275inj=ge({})}}return t})();function Au(t,i){if(t&1&&(te(0),h(1,"img",4),ne()),t&2){let e=l(2);c(),m("src",e.nzNotFoundImage,ga)("alt",e.isContentString?e.nzNotFoundContent:"empty")}}function Ru(t,i){if(t&1&&u(0,Au,2,2,"ng-container",3),t&2){let e=l();m("nzStringTemplateOutlet",e.nzNotFoundImage)}}function Yu(t,i){t&1&&h(0,"nz-empty-simple")}function Vu(t,i){t&1&&h(0,"nz-empty-default")}function Hu(t,i){if(t&1&&u(0,Yu,1,0,"nz-empty-simple")(1,Vu,1,0,"nz-empty-default"),t&2){let e=l();z(e.nzNotFoundImage==="simple"?0:1)}}function ju(t,i){if(t&1&&(te(0),p(1),ne()),t&2){let e=l(2);c(),W(" ",e.isContentString?e.nzNotFoundContent:e.locale.description," ")}}function Lu(t,i){if(t&1&&(r(0,"p",1),u(1,ju,2,1,"ng-container",3),s()),t&2){let e=l();c(),m("nzStringTemplateOutlet",e.nzNotFoundContent)}}function Bu(t,i){if(t&1&&(te(0),p(1),ne()),t&2){let e=l(2);c(),W(" ",e.nzNotFoundFooter," ")}}function Uu(t,i){if(t&1&&(r(0,"div",2),u(1,Bu,2,1,"ng-container",3),s()),t&2){let e=l();c(),m("nzStringTemplateOutlet",e.nzNotFoundFooter)}}function $u(t,i){if(t&1&&p(0),t&2){let e=l(2);W(" ",e.content," ")}}function Wu(t,i){}function qu(t,i){if(t&1&&u(0,Wu,0,0,"ng-template",0),t&2){let e=l(2);m("cdkPortalOutlet",e.contentPortal)}}function Gu(t,i){if(t&1&&u(0,$u,1,1)(1,qu,1,1,null,0),t&2){let e=l();z(e.contentType==="string"?0:1)}}function Qu(t,i){t&1&&h(0,"nz-empty",1)}function Ku(t,i){t&1&&h(0,"nz-empty",2)}function Zu(t,i){t&1&&h(0,"nz-empty")}function Ju(t,i){if(t&1&&u(0,Qu,1,0,"nz-empty",1)(1,Ku,1,0,"nz-empty",2)(2,Zu,1,0,"nz-empty"),t&2){let e,n=l(2);z((e=n.size)==="normal"?0:e==="small"?1:2)}}function Xu(t,i){if(t&1&&u(0,Ju,3,1),t&2){let e=l();z(e.specificContent!==null?0:-1)}}var eh=new tn("nz-empty-component-name"),th=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=D({type:t,selectors:[["nz-empty-default"]],exportAs:["nzEmptyDefault"],decls:12,vars:0,consts:[["width","184","height","152","viewBox","0 0 184 152","xmlns","http://www.w3.org/2000/svg",1,"ant-empty-img-default"],["fill","none","fill-rule","evenodd"],["transform","translate(24 31.67)"],["cx","67.797","cy","106.89","rx","67.797","ry","12.668",1,"ant-empty-img-default-ellipse"],["d","M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z",1,"ant-empty-img-default-path-1"],["d","M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z","transform","translate(13.56)",1,"ant-empty-img-default-path-2"],["d","M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z",1,"ant-empty-img-default-path-3"],["d","M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z",1,"ant-empty-img-default-path-4"],["d","M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z",1,"ant-empty-img-default-path-5"],["transform","translate(149.65 15.383)",1,"ant-empty-img-default-g"],["cx","20.654","cy","3.167","rx","2.849","ry","2.815"],["d","M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"]],template:function(n,o){n&1&&(ua(),r(0,"svg",0)(1,"g",1)(2,"g",2),h(3,"ellipse",3)(4,"path",4)(5,"path",5)(6,"path",6)(7,"path",7),s(),h(8,"path",8),r(9,"g",9),h(10,"ellipse",10)(11,"path",11),s()()())},encapsulation:2,changeDetection:0})}}return t})(),nh=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=D({type:t,selectors:[["nz-empty-simple"]],exportAs:["nzEmptySimple"],decls:6,vars:0,consts:[["width","64","height","41","viewBox","0 0 64 41","xmlns","http://www.w3.org/2000/svg",1,"ant-empty-img-simple"],["transform","translate(0 1)","fill","none","fill-rule","evenodd"],["cx","32","cy","33","rx","32","ry","7",1,"ant-empty-img-simple-ellipse"],["fill-rule","nonzero",1,"ant-empty-img-simple-g"],["d","M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"],["d","M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z",1,"ant-empty-img-simple-path"]],template:function(n,o){n&1&&(ua(),r(0,"svg",0)(1,"g",1),h(2,"ellipse",2),r(3,"g",3),h(4,"path",4)(5,"path",5),s()()())},encapsulation:2,changeDetection:0})}}return t})(),ih=["default","simple"],Cd=(()=>{class t{constructor(e,n){this.i18n=e,this.cdr=n,this.nzNotFoundImage="default",this.isContentString=!1,this.isImageBuildIn=!0,this.destroy$=new H}ngOnChanges(e){let{nzNotFoundContent:n,nzNotFoundImage:o}=e;if(n){let a=n.currentValue;this.isContentString=typeof a=="string"}if(o){let a=o.currentValue||"default";this.isImageBuildIn=ih.findIndex(d=>d===a)>-1}}ngOnInit(){this.i18n.localeChange.pipe(P(this.destroy$)).subscribe(()=>{this.locale=this.i18n.getLocaleData("Empty"),this.cdr.markForCheck()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static{this.\u0275fac=function(n){return new(n||t)(T(Un),T(se))}}static{this.\u0275cmp=D({type:t,selectors:[["nz-empty"]],hostAttrs:[1,"ant-empty"],inputs:{nzNotFoundImage:"nzNotFoundImage",nzNotFoundContent:"nzNotFoundContent",nzNotFoundFooter:"nzNotFoundFooter"},exportAs:["nzEmpty"],features:[Q],decls:5,vars:3,consts:[[1,"ant-empty-image"],[1,"ant-empty-description"],[1,"ant-empty-footer"],[4,"nzStringTemplateOutlet"],[3,"src","alt"]],template:function(n,o){n&1&&(r(0,"div",0),u(1,Ru,1,1,"ng-container")(2,Hu,2,1),s(),u(3,Lu,2,1,"p",1)(4,Uu,2,1,"div",2)),n&2&&(c(),z(o.isImageBuildIn?2:1),c(2),z(o.nzNotFoundContent!==null?3:-1),c(),z(o.nzNotFoundFooter?4:-1))},dependencies:[Re,je,th,nh],encapsulation:2,changeDetection:0})}}return t})();function oh(t){switch(t){case"table":case"list":return"normal";case"select":case"tree-select":case"cascader":case"transfer":return"small";default:return""}}var ia=(()=>{class t{constructor(e,n,o,a){this.configService=e,this.viewContainerRef=n,this.cdr=o,this.injector=a,this.contentType="string",this.size="",this.destroy$=new H}ngOnChanges(e){e.nzComponentName&&(this.size=oh(e.nzComponentName.currentValue)),e.specificContent&&!e.specificContent.isFirstChange()&&(this.content=e.specificContent.currentValue,this.renderEmpty())}ngOnInit(){this.subscribeDefaultEmptyContentChange()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}renderEmpty(){let e=this.content;if(typeof e=="string")this.contentType="string";else if(e instanceof mt){let n={$implicit:this.nzComponentName};this.contentType="template",this.contentPortal=new Ii(e,this.viewContainerRef,n)}else if(e instanceof pa){let n=ln.create({parent:this.injector,providers:[{provide:eh,useValue:this.nzComponentName}]});this.contentType="component",this.contentPortal=new Pi(e,this.viewContainerRef,n)}else this.contentType="string",this.contentPortal=void 0;this.cdr.detectChanges()}subscribeDefaultEmptyContentChange(){this.configService.getConfigChangeEventForComponent("empty").pipe(rt(!0),P(this.destroy$)).subscribe(()=>{this.content=this.specificContent||this.getUserDefaultEmptyContent(),this.renderEmpty()})}getUserDefaultEmptyContent(){return(this.configService.getConfigForComponent("empty")||{}).nzDefaultEmptyContent}static{this.\u0275fac=function(n){return new(n||t)(T(nt),T(Fn),T(se),T(ln))}}static{this.\u0275cmp=D({type:t,selectors:[["nz-embed-empty"]],inputs:{nzComponentName:"nzComponentName",specificContent:"specificContent"},exportAs:["nzEmbedEmpty"],features:[Q],decls:2,vars:1,consts:[[3,"cdkPortalOutlet"],["nzNotFoundImage","simple",1,"ant-empty-normal"],["nzNotFoundImage","simple",1,"ant-empty-small"]],template:function(n,o){n&1&&u(0,Gu,2,1)(1,Xu,1,1),n&2&&z(o.content?0:1)},dependencies:[Cd,Zi,Ln],encapsulation:2,changeDetection:0})}}return t})(),Wa=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=Ce({type:t})}static{this.\u0275inj=ge({imports:[Cd,ia]})}}return t})();var bd=["*"];function rh(t,i){if(t&1&&(te(0),p(1),ne()),t&2){let e=l();c(),K(e.nzLabel)}}function sh(t,i){}function lh(t,i){if(t&1&&u(0,sh,0,0,"ng-template",1),t&2){let e=l();m("ngTemplateOutlet",e.template)}}function ch(t,i){if(t&1&&p(0),t&2){let e=l();W(" ",e.label," ")}}function dh(t,i){t&1&&h(0,"nz-icon",3)}function mh(t,i){}function ph(t,i){if(t&1&&u(0,mh,0,0,"ng-template",1),t&2){let e=l(2);m("ngTemplateOutlet",e.icon)}}function uh(t,i){if(t&1&&(r(0,"div",2),u(1,dh,1,0,"nz-icon",3)(2,ph,1,1,null,1),s()),t&2){let e=l();c(),z(e.icon?2:1)}}function hh(t,i){if(t&1&&(r(0,"div",0),h(1,"nz-embed-empty",4),s()),t&2){let e=l();c(),m("specificContent",e.notFoundContent)}}function fh(t,i){if(t&1&&h(0,"nz-option-item-group",5),t&2){let e,n=l().$implicit;m("nzLabel",(e=n.groupLabel)!==null&&e!==void 0?e:null)}}function _h(t,i){if(t&1){let e=M();r(0,"nz-option-item",7),y("itemHover",function(o){g(e);let a=l(2);return C(a.onItemHover(o))})("itemClick",function(o){g(e);let a=l(2);return C(a.onItemClick(o))}),s()}if(t&2){let e,n=l().$implicit,o=l();m("icon",o.menuItemSelectedIcon)("customContent",n.nzCustomContent)("template",(e=n.template)!==null&&e!==void 0?e:null)("grouped",!!n.groupLabel)("disabled",n.nzDisabled||o.isMaxLimitReached&&!o.listOfSelectedValue.includes(n.nzValue))("showState",o.mode==="tags"||o.mode==="multiple")("title",n.nzTitle)("label",n.nzLabel)("compareWith",o.compareWith)("activatedValue",o.activatedValue)("listOfSelectedValue",o.listOfSelectedValue)("value",n.nzValue)}}function gh(t,i){if(t&1&&u(0,fh,1,1,"nz-option-item-group",5)(1,_h,1,12,"nz-option-item",6),t&2){let e,n=i.$implicit;z((e=n.type)==="group"?0:e==="item"?1:-1)}}function Ch(t,i){}function vh(t,i){t&1&&re(0)}function zh(t,i){if(t&1&&(r(0,"span"),p(1),s()),t&2){let e=l();c(),zl("",e.listOfValue.length," / ",e.nzMaxMultipleCount,"")}}function Sh(t,i){t&1&&h(0,"nz-icon",0)}function yh(t,i){t&1&&h(0,"nz-icon",2)}function xh(t,i){t&1&&h(0,"nz-icon",3)}function bh(t,i){if(t&1&&u(0,yh,1,0,"nz-icon",2)(1,xh,1,0,"nz-icon",3),t&2){let e=l(2);z(e.search?0:1)}}function Th(t,i){if(t&1&&h(0,"nz-icon",4),t&2){let e=l().$implicit;m("nzType",e)}}function wh(t,i){if(t&1&&(te(0),u(1,Th,1,1,"nz-icon",4),ne()),t&2){let e=i.$implicit;c(),z(e?1:-1)}}function Dh(t,i){if(t&1&&u(0,wh,2,1,"ng-container",1),t&2){let e=l(2);m("nzStringTemplateOutlet",e.suffixIcon)}}function Mh(t,i){if(t&1&&u(0,bh,2,1)(1,Dh,1,1,"ng-container"),t&2){let e=l();z(e.showArrow&&!e.suffixIcon?0:1)}}function kh(t,i){if(t&1&&(te(0),p(1),ne()),t&2){let e=l();c(),K(e.feedbackIcon)}}function Ph(t,i){}function Ih(t,i){if(t&1&&u(0,Ph,0,0,"ng-template",0),t&2){let e=l();m("ngTemplateOutlet",e.clearIcon)}}function Oh(t,i){t&1&&h(0,"nz-icon",1)}function Nh(t,i){if(t&1&&(r(0,"div",2),p(1),s()),t&2){let e=l(2);c(),K(e.label)}}function Fh(t,i){if(t&1&&p(0),t&2){let e=l(2);W(" ",e.label," ")}}function Eh(t,i){if(t&1&&(te(0),u(1,Nh,2,1,"div",2)(2,Fh,1,1),ne()),t&2){let e=l();c(),z(e.deletable?1:2)}}function Ah(t,i){t&1&&h(0,"nz-icon",4)}function Rh(t,i){}function Yh(t,i){if(t&1&&u(0,Rh,0,0,"ng-template",5),t&2){let e=l(2);m("ngTemplateOutlet",e.removeIcon)}}function Vh(t,i){if(t&1){let e=M();r(0,"span",3),y("click",function(o){g(e);let a=l();return C(a.onDelete(o))}),u(1,Ah,1,0,"nz-icon",4)(2,Yh,1,1,null,5),s()}if(t&2){let e=l();c(),z(e.removeIcon?2:1)}}function Hh(t,i){if(t&1&&(te(0),p(1),ne()),t&2){let e=l();c(),W(" ",e.placeholder," ")}}var jh=["inputElement"],Lh=["mirrorElement"];function Bh(t,i){t&1&&h(0,"span",3,1)}var Uh=(t,i)=>i.nzValue;function $h(t,i){if(t&1&&h(0,"nz-select-item",2),t&2){let e=l(2);m("deletable",!1)("disabled",!1)("removeIcon",e.removeIcon)("label",e.listOfTopItem[0].nzLabel)("contentTemplateOutlet",e.customTemplate)("contentTemplateOutletContext",e.listOfTopItem[0])}}function Wh(t,i){if(t&1){let e=M();r(0,"nz-select-search",1),y("isComposingChange",function(o){g(e);let a=l();return C(a.isComposingChange(o))})("valueChange",function(o){g(e);let a=l();return C(a.onInputValueChange(o))}),s(),u(1,$h,1,6,"nz-select-item",2)}if(t&2){let e=l();m("nzId",e.nzId)("disabled",e.disabled)("value",e.inputValue)("showInput",e.showSearch)("mirrorSync",!1)("autofocus",e.autofocus)("focusTrigger",e.open),c(),z(e.isShowSingleLabel?1:-1)}}function qh(t,i){if(t&1){let e=M();r(0,"nz-select-item",5),y("delete",function(){let o=g(e).$implicit,a=l(2);return C(a.onDeleteItem(o.contentTemplateOutletContext))}),s()}if(t&2){let e=i.$implicit,n=l(2);m("removeIcon",n.removeIcon)("label",e.nzLabel)("disabled",e.nzDisabled||n.disabled)("contentTemplateOutlet",e.contentTemplateOutlet)("deletable",!0)("contentTemplateOutletContext",e.contentTemplateOutletContext)}}function Gh(t,i){if(t&1){let e=M();j(0,qh,1,6,"nz-select-item",3,Uh),r(2,"nz-select-search",4),y("isComposingChange",function(o){g(e);let a=l();return C(a.isComposingChange(o))})("valueChange",function(o){g(e);let a=l();return C(a.onInputValueChange(o))}),s()}if(t&2){let e=l();L(e.listOfSlicedItem),c(2),m("nzId",e.nzId)("disabled",e.disabled)("value",e.inputValue)("autofocus",e.autofocus)("showInput",!0)("mirrorSync",!0)("focusTrigger",e.open)}}function Qh(t,i){if(t&1&&h(0,"nz-select-placeholder",0),t&2){let e=l();m("placeholder",e.placeHolder)}}function Kh(t,i){if(t&1&&h(0,"nz-form-item-feedback-icon",6),t&2){let e=l(3);m("status",e.status)}}function Zh(t,i){if(t&1&&u(0,Kh,1,1,"nz-form-item-feedback-icon",6),t&2){let e=l(2);z(e.hasFeedback&&e.status?0:-1)}}function Jh(t,i){if(t&1&&(r(0,"nz-select-arrow",3),u(1,Zh,1,1,"ng-template",null,1,V),s()),t&2){let e=E(2),n=l();m("showArrow",n.nzShowArrow)("loading",n.nzLoading)("search",n.nzOpen&&n.nzShowSearch)("suffixIcon",n.nzSuffixIcon)("feedbackIcon",e)("nzMaxMultipleCount",n.nzMaxMultipleCount)("listOfValue",n.listOfValue)("isMaxTagCountSet",n.isMaxTagCountSet)}}function Xh(t,i){if(t&1){let e=M();r(0,"nz-select-clear",7),y("clear",function(){g(e);let o=l();return C(o.onClearSelection())}),s()}if(t&2){let e=l();m("clearIcon",e.nzClearIcon)}}function ef(t,i){if(t&1){let e=M();r(0,"nz-option-container",8),y("keydown",function(o){g(e);let a=l();return C(a.onKeyDown(o))})("itemClick",function(o){g(e);let a=l();return C(a.onItemClick(o))})("scrollToBottom",function(){g(e);let o=l();return C(o.nzScrollToBottom.emit())}),s()}if(t&2){let e=l();ve(e.nzDropdownStyle),B("ant-select-dropdown-placement-bottomLeft",e.dropdownPosition==="bottomLeft")("ant-select-dropdown-placement-topLeft",e.dropdownPosition==="topLeft")("ant-select-dropdown-placement-bottomRight",e.dropdownPosition==="bottomRight")("ant-select-dropdown-placement-topRight",e.dropdownPosition==="topRight"),m("itemSize",e.nzOptionHeightPx)("maxItemLength",e.nzOptionOverflowSize)("matchWidth",e.nzDropdownMatchSelectWidth)("@slideMotion","enter")("@.disabled",!!(e.noAnimation!=null&&e.noAnimation.nzNoAnimation))("nzNoAnimation",e.noAnimation==null?null:e.noAnimation.nzNoAnimation)("listOfContainerItem",e.listOfContainerItem)("menuItemSelectedIcon",e.nzMenuItemSelectedIcon)("notFoundContent",e.nzNotFoundContent)("activatedValue",e.activatedValue)("listOfSelectedValue",e.listOfValue)("dropdownRender",e.nzDropdownRender)("compareWith",e.compareWith)("mode",e.nzMode)("isMaxLimitReached",e.isMaxLimitReached)}}var ks=(()=>{class t{constructor(){this.nzLabel=null,this.changes=new H}ngOnChanges(){this.changes.next()}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=D({type:t,selectors:[["nz-option-group"]],inputs:{nzLabel:"nzLabel"},exportAs:["nzOptionGroup"],features:[Q],ngContentSelectors:bd,decls:1,vars:0,template:function(n,o){n&1&&(fe(),re(0))},encapsulation:2,changeDetection:0})}}return t})(),Td=(()=>{class t{constructor(){this.nzLabel=null}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=D({type:t,selectors:[["nz-option-item-group"]],hostAttrs:[1,"ant-select-item","ant-select-item-group"],inputs:{nzLabel:"nzLabel"},decls:1,vars:1,consts:[[4,"nzStringTemplateOutlet"]],template:function(n,o){n&1&&u(0,rh,2,1,"ng-container",0),n&2&&m("nzStringTemplateOutlet",o.nzLabel)},dependencies:[Re,je],encapsulation:2,changeDetection:0})}}return t})(),wd=(()=>{class t{constructor(e,n,o){this.elementRef=e,this.ngZone=n,this.destroy$=o,this.selected=!1,this.activated=!1,this.grouped=!1,this.customContent=!1,this.template=null,this.disabled=!1,this.showState=!1,this.label=null,this.value=null,this.activatedValue=null,this.listOfSelectedValue=[],this.icon=null,this.itemClick=new F,this.itemHover=new F}ngOnChanges(e){let{value:n,activatedValue:o,listOfSelectedValue:a}=e;(n||a)&&(this.selected=this.listOfSelectedValue.some(d=>this.compareWith(d,this.value))),(n||o)&&(this.activated=this.compareWith(this.activatedValue,this.value))}ngOnInit(){Qt(this.elementRef.nativeElement,"click").pipe(P(this.destroy$)).subscribe(()=>{this.disabled||this.ngZone.run(()=>this.itemClick.emit(this.value))}),Qt(this.elementRef.nativeElement,"mouseenter").pipe(P(this.destroy$)).subscribe(()=>{this.disabled||this.ngZone.run(()=>this.itemHover.emit(this.value))})}static{this.\u0275fac=function(n){return new(n||t)(T(pe),T(et),T(Ct))}}static{this.\u0275cmp=D({type:t,selectors:[["nz-option-item"]],hostAttrs:[1,"ant-select-item","ant-select-item-option"],hostVars:9,hostBindings:function(n,o){n&2&&(He("title",o.title),B("ant-select-item-option-grouped",o.grouped)("ant-select-item-option-selected",o.selected&&!o.disabled)("ant-select-item-option-disabled",o.disabled)("ant-select-item-option-active",o.activated&&!o.disabled))},inputs:{grouped:"grouped",customContent:[2,"customContent","customContent",O],template:"template",disabled:"disabled",showState:"showState",title:"title",label:"label",value:"value",activatedValue:"activatedValue",listOfSelectedValue:"listOfSelectedValue",icon:"icon",compareWith:"compareWith"},outputs:{itemClick:"itemClick",itemHover:"itemHover"},features:[Le([Ct]),Q],decls:4,vars:2,consts:[[1,"ant-select-item-option-content"],[3,"ngTemplateOutlet"],["unselectable","on",1,"ant-select-item-option-state"],["nzType","check",1,"ant-select-selected-icon"]],template:function(n,o){n&1&&(r(0,"div",0),u(1,lh,1,1,null,1)(2,ch,1,1),s(),u(3,uh,3,1,"div",2)),n&2&&(c(),z(o.customContent?1:2),c(2),z(o.showState&&o.selected?3:-1))},dependencies:[ie,J,me],encapsulation:2,changeDetection:0})}}return t})(),Dd=(()=>{class t{constructor(){this.notFoundContent=void 0,this.menuItemSelectedIcon=null,this.dropdownRender=null,this.activatedValue=null,this.listOfSelectedValue=[],this.mode="default",this.matchWidth=!0,this.itemSize=32,this.maxItemLength=8,this.isMaxLimitReached=!1,this.listOfContainerItem=[],this.itemClick=new F,this.scrollToBottom=new F,this.scrolledIndex=0,this.ngZone=_(et),this.platformId=_(ml)}onItemClick(e){this.itemClick.emit(e)}onItemHover(e){this.activatedValue=e}trackValue(e,n){return n.key}onScrolledIndexChange(e){this.scrolledIndex=e,e===this.listOfContainerItem.length-this.maxItemLength-1&&this.scrollToBottom.emit()}scrollToActivatedValue(){let e=this.listOfContainerItem.findIndex(n=>this.compareWith(n.key,this.activatedValue));(e<this.scrolledIndex||e>=this.scrolledIndex+this.maxItemLength)&&this.cdkVirtualScrollViewport.scrollToIndex(e||0)}ngOnChanges(e){let{listOfContainerItem:n,activatedValue:o}=e;(n||o)&&this.scrollToActivatedValue()}ngAfterViewInit(){Ml(this.platformId)&&this.ngZone.runOutsideAngular(()=>setTimeout(()=>this.scrollToActivatedValue()))}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=D({type:t,selectors:[["nz-option-container"]],viewQuery:function(n,o){if(n&1&&G(hi,7),n&2){let a;R(a=Y())&&(o.cdkVirtualScrollViewport=a.first)}},hostAttrs:[1,"ant-select-dropdown"],inputs:{notFoundContent:"notFoundContent",menuItemSelectedIcon:"menuItemSelectedIcon",dropdownRender:"dropdownRender",activatedValue:"activatedValue",listOfSelectedValue:"listOfSelectedValue",compareWith:"compareWith",mode:"mode",matchWidth:"matchWidth",itemSize:"itemSize",maxItemLength:"maxItemLength",isMaxLimitReached:"isMaxLimitReached",listOfContainerItem:"listOfContainerItem"},outputs:{itemClick:"itemClick",scrollToBottom:"scrollToBottom"},exportAs:["nzOptionContainer"],features:[Q],decls:5,vars:14,consts:[[1,"ant-select-item-empty"],[3,"scrolledIndexChange","itemSize","maxBufferPx","minBufferPx"],["cdkVirtualFor","",3,"cdkVirtualForOf","cdkVirtualForTrackBy","cdkVirtualForTemplateCacheSize"],[3,"ngTemplateOutlet"],["nzComponentName","select",3,"specificContent"],[3,"nzLabel"],[3,"icon","customContent","template","grouped","disabled","showState","title","label","compareWith","activatedValue","listOfSelectedValue","value"],[3,"itemHover","itemClick","icon","customContent","template","grouped","disabled","showState","title","label","compareWith","activatedValue","listOfSelectedValue","value"]],template:function(n,o){n&1&&(r(0,"div"),u(1,hh,2,1,"div",0),r(2,"cdk-virtual-scroll-viewport",1),y("scrolledIndexChange",function(d){return o.onScrolledIndexChange(d)}),u(3,gh,2,1,"ng-template",2),s(),u(4,Ch,0,0,"ng-template",3),s()),n&2&&(c(),z(o.listOfContainerItem.length===0?1:-1),c(),pt("height",o.listOfContainerItem.length*o.itemSize,"px")("max-height",o.itemSize*o.maxItemLength,"px"),B("full-width",!o.matchWidth),m("itemSize",o.itemSize)("maxBufferPx",o.itemSize*o.maxItemLength)("minBufferPx",o.itemSize*o.maxItemLength),c(),m("cdkVirtualForOf",o.listOfContainerItem)("cdkVirtualForTrackBy",o.trackValue)("cdkVirtualForTemplateCacheSize",0),c(),m("ngTemplateOutlet",o.dropdownRender))},dependencies:[Wa,ia,Td,wd,ie,Ll,ya,ba,hi,rs],encapsulation:2,changeDetection:0})}}return t})(),nn=(()=>{class t{constructor(e){this.destroy$=e,this.changes=new H,this.groupLabel=null,this.nzLabel=null,this.nzValue=null,this.nzDisabled=!1,this.nzHide=!1,this.nzCustomContent=!1,this.nzOptionGroupComponent=_(ks,{optional:!0})}ngOnInit(){this.nzOptionGroupComponent&&this.nzOptionGroupComponent.changes.pipe(rt(!0),P(this.destroy$)).subscribe(()=>{this.groupLabel=this.nzOptionGroupComponent?.nzLabel})}ngOnChanges(){this.changes.next()}static{this.\u0275fac=function(n){return new(n||t)(T(Ct))}}static{this.\u0275cmp=D({type:t,selectors:[["nz-option"]],viewQuery:function(n,o){if(n&1&&G(mt,7),n&2){let a;R(a=Y())&&(o.template=a.first)}},inputs:{nzTitle:"nzTitle",nzLabel:"nzLabel",nzValue:"nzValue",nzKey:"nzKey",nzDisabled:[2,"nzDisabled","nzDisabled",O],nzHide:[2,"nzHide","nzHide",O],nzCustomContent:[2,"nzCustomContent","nzCustomContent",O]},exportAs:["nzOption"],features:[Le([Ct]),Q],ngContentSelectors:bd,decls:1,vars:0,template:function(n,o){n&1&&(fe(),u(0,vh,1,0,"ng-template"))},encapsulation:2,changeDetection:0})}}return t})(),Md=(()=>{class t{constructor(){this.listOfValue=[],this.loading=!1,this.search=!1,this.showArrow=!1,this.isMaxTagCountSet=!1,this.suffixIcon=null,this.feedbackIcon=null,this.nzMaxMultipleCount=1/0}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=D({type:t,selectors:[["nz-select-arrow"]],hostAttrs:[1,"ant-select-arrow"],hostVars:2,hostBindings:function(n,o){n&2&&B("ant-select-arrow-loading",o.loading)},inputs:{listOfValue:"listOfValue",loading:"loading",search:"search",showArrow:"showArrow",isMaxTagCountSet:"isMaxTagCountSet",suffixIcon:"suffixIcon",feedbackIcon:"feedbackIcon",nzMaxMultipleCount:[2,"nzMaxMultipleCount","nzMaxMultipleCount",pn]},decls:4,vars:3,consts:[["nzType","loading"],[4,"nzStringTemplateOutlet"],["nzType","search"],["nzType","down"],[3,"nzType"]],template:function(n,o){n&1&&u(0,zh,2,2,"span")(1,Sh,1,0,"nz-icon",0)(2,Mh,2,1)(3,kh,2,1,"ng-container",1),n&2&&(z(o.isMaxTagCountSet?0:-1),c(),z(o.loading?1:2),c(2),m("nzStringTemplateOutlet",o.feedbackIcon))},dependencies:[J,me,Re,je],encapsulation:2,changeDetection:0})}}return t})(),kd=(()=>{class t{constructor(){this.clearIcon=null,this.clear=new F}onClick(e){e.preventDefault(),e.stopPropagation(),this.clear.emit(e)}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=D({type:t,selectors:[["nz-select-clear"]],hostAttrs:[1,"ant-select-clear"],hostBindings:function(n,o){n&1&&y("click",function(d){return o.onClick(d)})},inputs:{clearIcon:"clearIcon"},outputs:{clear:"clear"},decls:2,vars:1,consts:[[3,"ngTemplateOutlet"],["nzType","close-circle","nzTheme","fill",1,"ant-select-close-icon"]],template:function(n,o){n&1&&u(0,Ih,1,1,null,0)(1,Oh,1,0,"nz-icon",1),n&2&&z(o.clearIcon?0:1)},dependencies:[ie,J,me],encapsulation:2,changeDetection:0})}}return t})(),Pd=(()=>{class t{constructor(){this.disabled=!1,this.label=null,this.deletable=!1,this.removeIcon=null,this.contentTemplateOutletContext=null,this.contentTemplateOutlet=null,this.delete=new F}get templateOutletContext(){return ee({$implicit:this.contentTemplateOutletContext},this.contentTemplateOutletContext)}onDelete(e){e.preventDefault(),e.stopPropagation(),this.disabled||this.delete.next(e)}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=D({type:t,selectors:[["nz-select-item"]],hostAttrs:[1,"ant-select-selection-item"],hostVars:3,hostBindings:function(n,o){n&2&&(He("title",o.label),B("ant-select-selection-item-disabled",o.disabled))},inputs:{disabled:"disabled",label:"label",deletable:"deletable",removeIcon:"removeIcon",contentTemplateOutletContext:"contentTemplateOutletContext",contentTemplateOutlet:"contentTemplateOutlet"},outputs:{delete:"delete"},decls:2,vars:3,consts:[[4,"nzStringTemplateOutlet","nzStringTemplateOutletContext"],[1,"ant-select-selection-item-remove"],[1,"ant-select-selection-item-content"],[1,"ant-select-selection-item-remove",3,"click"],["nzType","close"],[3,"ngTemplateOutlet"]],template:function(n,o){n&1&&u(0,Eh,3,1,"ng-container",0)(1,Vh,3,1,"span",1),n&2&&(m("nzStringTemplateOutlet",o.contentTemplateOutlet)("nzStringTemplateOutletContext",o.templateOutletContext),c(),z(o.deletable&&!o.disabled?1:-1))},dependencies:[ie,Re,je,J,me],encapsulation:2,changeDetection:0})}}return t})(),Id=(()=>{class t{constructor(){this.placeholder=null}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=D({type:t,selectors:[["nz-select-placeholder"]],hostAttrs:[1,"ant-select-selection-placeholder"],inputs:{placeholder:"placeholder"},decls:1,vars:1,consts:[[4,"nzStringTemplateOutlet"]],template:function(n,o){n&1&&u(0,Hh,2,1,"ng-container",0),n&2&&m("nzStringTemplateOutlet",o.placeholder)},dependencies:[Re,je],encapsulation:2,changeDetection:0})}}return t})(),Ps=(()=>{class t{setCompositionState(e){this.isComposingChange.next(e)}onValueChange(e){this.value=e,this.valueChange.next(e),this.mirrorSync&&this.syncMirrorWidth()}clearInputValue(){let e=this.inputElement.nativeElement;e.value="",this.onValueChange("")}syncMirrorWidth(){fi(()=>{let e=this.mirrorElement.nativeElement,n=this.elementRef.nativeElement,o=this.inputElement.nativeElement;this.renderer.removeStyle(n,"width"),this.renderer.setProperty(e,"textContent",`${o.value}\xA0`),this.renderer.setStyle(n,"width",`${e.scrollWidth}px`)})}focus(){this.focusMonitor.focusVia(this.inputElement,"keyboard")}blur(){this.inputElement.nativeElement.blur()}constructor(e,n,o){this.elementRef=e,this.renderer=n,this.focusMonitor=o,this.nzId=null,this.disabled=!1,this.mirrorSync=!1,this.showInput=!0,this.focusTrigger=!1,this.value="",this.autofocus=!1,this.valueChange=new F,this.isComposingChange=new F}ngOnChanges(e){let n=this.inputElement.nativeElement,{focusTrigger:o,showInput:a}=e;a&&(this.showInput?this.renderer.removeAttribute(n,"readonly"):this.renderer.setAttribute(n,"readonly","readonly")),o&&o.currentValue===!0&&o.previousValue===!1&&n.focus()}ngAfterViewInit(){this.mirrorSync&&this.syncMirrorWidth(),this.autofocus&&this.focus()}static{this.\u0275fac=function(n){return new(n||t)(T(pe),T(xt),T(Zn))}}static{this.\u0275cmp=D({type:t,selectors:[["nz-select-search"]],viewQuery:function(n,o){if(n&1&&(G(jh,7),G(Lh,5)),n&2){let a;R(a=Y())&&(o.inputElement=a.first),R(a=Y())&&(o.mirrorElement=a.first)}},hostAttrs:[1,"ant-select-selection-search"],inputs:{nzId:"nzId",disabled:"disabled",mirrorSync:"mirrorSync",showInput:"showInput",focusTrigger:"focusTrigger",value:"value",autofocus:"autofocus"},outputs:{valueChange:"valueChange",isComposingChange:"isComposingChange"},features:[Le([{provide:mc,useValue:!1}]),Q],decls:3,vars:7,consts:[["inputElement",""],["mirrorElement",""],["autocomplete","off",1,"ant-select-selection-search-input",3,"ngModelChange","compositionstart","compositionend","ngModel","disabled"],[1,"ant-select-selection-search-mirror"]],template:function(n,o){if(n&1){let a=M();r(0,"input",2,0),y("ngModelChange",function(f){return g(a),C(o.onValueChange(f))})("compositionstart",function(){return g(a),C(o.setCompositionState(!0))})("compositionend",function(){return g(a),C(o.setCompositionState(!1))}),s(),u(2,Bh,2,0,"span",3)}n&2&&(pt("opacity",o.showInput?null:0),m("ngModel",o.value)("disabled",o.disabled),He("id",o.nzId)("autofocus",o.autofocus?"autofocus":null),c(2),z(o.mirrorSync?2:-1))},dependencies:[ot,vt,Oe,zt],encapsulation:2,changeDetection:0})}}return t})(),qa=(()=>{class t{updateTemplateVariable(){let e=this.listOfTopItem.length===0;this.isShowPlaceholder=e&&!this.isComposing&&!this.inputValue,this.isShowSingleLabel=!e&&!this.isComposing&&!this.inputValue}isComposingChange(e){this.isComposing=e,this.updateTemplateVariable()}onInputValueChange(e){e!==this.inputValue&&(this.inputValue=e,this.updateTemplateVariable(),this.inputValueChange.emit(e),this.tokenSeparate(e,this.tokenSeparators))}tokenSeparate(e,n){let o=(d,f)=>{for(let x=0;x<f.length;++x)if(d.lastIndexOf(f[x])>0)return!0;return!1},a=(d,f)=>{let x=new RegExp(`[${f.join()}]`),k=d.split(x).filter(N=>N);return[...new Set(k)]};if(e&&e.length&&n.length&&this.mode!=="default"&&o(e,n)){let d=a(e,n);this.tokenize.next(d)}}clearInputValue(){this.nzSelectSearchComponent&&this.nzSelectSearchComponent.clearInputValue()}focus(){this.nzSelectSearchComponent&&this.nzSelectSearchComponent.focus()}blur(){this.nzSelectSearchComponent&&this.nzSelectSearchComponent.blur()}onDeleteItem(e){!this.disabled&&!e.nzDisabled&&this.deleteItem.next(e)}constructor(e,n){this.elementRef=e,this.ngZone=n,this.nzId=null,this.showSearch=!1,this.placeHolder=null,this.open=!1,this.maxTagCount=1/0,this.autofocus=!1,this.disabled=!1,this.mode="default",this.customTemplate=null,this.maxTagPlaceholder=null,this.removeIcon=null,this.listOfTopItem=[],this.tokenSeparators=[],this.tokenize=new F,this.inputValueChange=new F,this.deleteItem=new F,this.listOfSlicedItem=[],this.isShowPlaceholder=!0,this.isShowSingleLabel=!1,this.isComposing=!1,this.inputValue=null,this.destroy$=new H,this.noAnimation=_(Jn,{host:!0,optional:!0})}ngOnChanges(e){let{listOfTopItem:n,maxTagCount:o,customTemplate:a,maxTagPlaceholder:d}=e;if(n&&this.updateTemplateVariable(),n||o||a||d){let f=this.listOfTopItem.slice(0,this.maxTagCount).map(x=>({nzLabel:x.nzLabel,nzValue:x.nzValue,nzDisabled:x.nzDisabled,contentTemplateOutlet:this.customTemplate,contentTemplateOutletContext:x}));if(this.listOfTopItem.length>this.maxTagCount){let x=`+ ${this.listOfTopItem.length-this.maxTagCount} ...`,k=this.listOfTopItem.map(I=>I.nzValue),N={nzLabel:x,nzValue:"$$__nz_exceeded_item",nzDisabled:!0,contentTemplateOutlet:this.maxTagPlaceholder,contentTemplateOutletContext:k.slice(this.maxTagCount)};f.push(N)}this.listOfSlicedItem=f}}ngOnInit(){Qt(this.elementRef.nativeElement,"click").pipe(P(this.destroy$)).subscribe(e=>{e.target!==this.nzSelectSearchComponent.inputElement.nativeElement&&this.nzSelectSearchComponent.focus()}),Qt(this.elementRef.nativeElement,"keydown").pipe(P(this.destroy$)).subscribe(e=>{if(e.target instanceof HTMLInputElement){let n=e.target.value;e.keyCode===8&&this.mode!=="default"&&!n&&this.listOfTopItem.length>0&&(e.preventDefault(),this.ngZone.run(()=>this.onDeleteItem(this.listOfTopItem[this.listOfTopItem.length-1])))}})}ngOnDestroy(){this.destroy$.next()}static{this.\u0275fac=function(n){return new(n||t)(T(pe),T(et))}}static{this.\u0275cmp=D({type:t,selectors:[["nz-select-top-control"]],viewQuery:function(n,o){if(n&1&&G(Ps,5),n&2){let a;R(a=Y())&&(o.nzSelectSearchComponent=a.first)}},hostAttrs:[1,"ant-select-selector"],inputs:{nzId:"nzId",showSearch:"showSearch",placeHolder:"placeHolder",open:"open",maxTagCount:[2,"maxTagCount","maxTagCount",pn],autofocus:"autofocus",disabled:"disabled",mode:"mode",customTemplate:"customTemplate",maxTagPlaceholder:"maxTagPlaceholder",removeIcon:"removeIcon",listOfTopItem:"listOfTopItem",tokenSeparators:"tokenSeparators"},outputs:{tokenize:"tokenize",inputValueChange:"inputValueChange",deleteItem:"deleteItem"},exportAs:["nzSelectTopControl"],features:[Q],decls:3,vars:2,consts:[[3,"placeholder"],[3,"isComposingChange","valueChange","nzId","disabled","value","showInput","mirrorSync","autofocus","focusTrigger"],[3,"deletable","disabled","removeIcon","label","contentTemplateOutlet","contentTemplateOutletContext"],[3,"removeIcon","label","disabled","contentTemplateOutlet","deletable","contentTemplateOutletContext"],[3,"isComposingChange","valueChange","nzId","disabled","value","autofocus","showInput","mirrorSync","focusTrigger"],[3,"delete","removeIcon","label","disabled","contentTemplateOutlet","deletable","contentTemplateOutletContext"]],template:function(n,o){if(n&1&&u(0,Wh,2,8)(1,Gh,3,7)(2,Qh,1,1,"nz-select-placeholder",0),n&2){let a;z((a=o.mode)==="default"?0:1),c(2),z(o.isShowPlaceholder?2:-1)}},dependencies:[Ps,Pd,Id],encapsulation:2,changeDetection:0})}}return t})(),tf=(t,i)=>i&&i.nzLabel?i.nzLabel.toString().toLowerCase().indexOf(t.toLowerCase())>-1:!1,nf="select",$t=(()=>{let t,i=[],e=[],n,o=[],a=[],d,f=[],x=[],k,N=[],I=[];return class Ga{static{let b=typeof Symbol=="function"&&Symbol.metadata?Object.create(null):void 0;t=[_e()],n=[_e()],d=[_e()],k=[_e()],he(null,null,t,{kind:"field",name:"nzOptionHeightPx",static:!1,private:!1,access:{has:v=>"nzOptionHeightPx"in v,get:v=>v.nzOptionHeightPx,set:(v,S)=>{v.nzOptionHeightPx=S}},metadata:b},i,e),he(null,null,n,{kind:"field",name:"nzSuffixIcon",static:!1,private:!1,access:{has:v=>"nzSuffixIcon"in v,get:v=>v.nzSuffixIcon,set:(v,S)=>{v.nzSuffixIcon=S}},metadata:b},o,a),he(null,null,d,{kind:"field",name:"nzBorderless",static:!1,private:!1,access:{has:v=>"nzBorderless"in v,get:v=>v.nzBorderless,set:(v,S)=>{v.nzBorderless=S}},metadata:b},f,x),he(null,null,k,{kind:"field",name:"nzBackdrop",static:!1,private:!1,access:{has:v=>"nzBackdrop"in v,get:v=>v.nzBackdrop,set:(v,S)=>{v.nzBackdrop=S}},metadata:b},N,I),b&&Object.defineProperty(this,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:b})}set nzShowArrow(b){this._nzShowArrow=b}get nzShowArrow(){return this._nzShowArrow===void 0?this.nzMode==="default":this._nzShowArrow}get isMaxTagCountSet(){return this.nzMaxMultipleCount!==1/0}generateTagItem(b){return{nzValue:b,nzLabel:b,type:"item"}}onItemClick(b){if(this.activatedValue=b,this.nzMode==="default")(this.listOfValue.length===0||!this.compareWith(this.listOfValue[0],b))&&this.updateListOfValue([b]),this.setOpenState(!1);else{let v=this.listOfValue.findIndex(S=>this.compareWith(S,b));if(v!==-1){let S=this.listOfValue.filter((w,A)=>A!==v);this.updateListOfValue(S)}else if(this.listOfValue.length<this.nzMaxMultipleCount){let S=[...this.listOfValue,b];this.updateListOfValue(S)}this.focus(),this.nzAutoClearSearchValue&&this.clearInput()}}onItemDelete(b){let v=this.listOfValue.filter(S=>!this.compareWith(S,b.nzValue));this.updateListOfValue(v),this.clearInput()}updateListOfContainerItem(){let b=this.listOfTagAndTemplateItem.filter(w=>!w.nzHide).filter(w=>!this.nzServerSearch&&this.searchValue?this.nzFilterOption(this.searchValue,w):!0);if(this.nzMode==="tags"&&this.searchValue){let w=this.listOfTagAndTemplateItem.find(A=>A.nzLabel===this.searchValue);if(w)this.activatedValue=w.nzValue;else{let A=this.generateTagItem(this.searchValue);b=[A,...b],this.activatedValue=A.nzValue}}let v=b.find(w=>w.nzLabel===this.searchValue)||b.find(w=>this.compareWith(w.nzValue,this.activatedValue))||b.find(w=>this.compareWith(w.nzValue,this.listOfValue[0]))||b[0];this.activatedValue=v&&v.nzValue||null;let S=[];this.isReactiveDriven?S=[...new Set(this.nzOptions.filter(w=>w.groupLabel).map(w=>w.groupLabel))]:this.listOfNzOptionGroupComponent&&(S=this.listOfNzOptionGroupComponent.map(w=>w.nzLabel)),S.forEach(w=>{let A=b.findIndex(q=>w===q.groupLabel);if(A>-1){let q={groupLabel:w,type:"group",key:w};b.splice(A,0,q)}}),this.listOfContainerItem=[...b],this.updateCdkConnectedOverlayPositions()}clearInput(){this.nzSelectTopControlComponent.clearInputValue()}updateListOfValue(b){let S=((w,A)=>A==="default"?w.length>0?w[0]:null:w)(b,this.nzMode);this.value!==S&&(this.listOfValue=b,this.listOfValue$.next(b),this.value=S,this.onChange(this.value)),this.isMaxLimitReached=this.nzMaxMultipleCount!==1/0&&this.listOfValue.length===this.nzMaxMultipleCount}onTokenSeparate(b){let v=this.listOfTagAndTemplateItem.filter(S=>b.findIndex(w=>w===S.nzLabel)!==-1).map(S=>S.nzValue).filter(S=>this.listOfValue.findIndex(w=>this.compareWith(w,S))===-1);if(this.nzMode==="multiple")this.updateListOfValue([...this.listOfValue,...v]);else if(this.nzMode==="tags"){let S=b.filter(w=>this.listOfTagAndTemplateItem.findIndex(A=>A.nzLabel===w)===-1);this.updateListOfValue([...this.listOfValue,...v,...S])}this.clearInput()}onKeyDown(b){if(this.nzDisabled)return;let v=this.listOfContainerItem.filter(w=>w.type==="item").filter(w=>!w.nzDisabled),S=v.findIndex(w=>this.compareWith(w.nzValue,this.activatedValue));switch(b.keyCode){case 38:if(b.preventDefault(),this.nzOpen&&v.length>0){let w=S>0?S-1:v.length-1;this.activatedValue=v[w].nzValue}break;case 40:if(b.preventDefault(),this.nzOpen&&v.length>0){let w=S<v.length-1?S+1:0;this.activatedValue=v[w].nzValue}else this.setOpenState(!0);break;case 13:b.preventDefault(),this.nzOpen?Oi(this.activatedValue)&&S!==-1&&this.onItemClick(this.activatedValue):this.setOpenState(!0);break;case 32:this.nzOpen||(this.setOpenState(!0),b.preventDefault());break;case 9:this.nzSelectOnTab?this.nzOpen&&(b.preventDefault(),Oi(this.activatedValue)&&this.onItemClick(this.activatedValue)):this.setOpenState(!1);break;case 27:break;default:this.nzOpen||this.setOpenState(!0)}}setOpenState(b){this.nzOpen!==b&&(this.nzOpen=b,this.nzOpenChange.emit(b),this.onOpenChange(),this.cdr.markForCheck())}onOpenChange(){this.updateCdkConnectedOverlayStatus(),this.nzAutoClearSearchValue&&this.clearInput()}onInputValueChange(b){this.searchValue=b,this.updateListOfContainerItem(),this.nzOnSearch.emit(b),this.updateCdkConnectedOverlayPositions()}onClearSelection(){this.updateListOfValue([])}onClickOutside(b){let v=Ki(b);this.host.nativeElement.contains(v)||this.setOpenState(!1)}focus(){this.nzSelectTopControlComponent.focus()}blur(){this.nzSelectTopControlComponent.blur()}onPositionChange(b){let v=ac(b);this.dropdownPosition=v}updateCdkConnectedOverlayStatus(){if(this.platform.isBrowser&&this.originElement.nativeElement){let b=this.triggerWidth;os(this.requestId),this.requestId=fi(()=>{this.triggerWidth=this.originElement.nativeElement.getBoundingClientRect().width,b!==this.triggerWidth&&this.cdr.detectChanges()})}}updateCdkConnectedOverlayPositions(){fi(()=>{this.cdkConnectedOverlay?.overlayRef?.updatePosition()})}constructor(b,v,S,w,A,q,ce,_t,Ze){this.ngZone=b,this.destroy$=v,this.nzConfigService=S,this.cdr=w,this.host=A,this.renderer=q,this.platform=ce,this.focusMonitor=_t,this.directionality=Ze,this._nzModuleName=nf,this.nzId=null,this.nzSize="default",this.nzStatus="",this.nzOptionHeightPx=U(this,i,32),this.nzOptionOverflowSize=(U(this,e),8),this.nzDropdownClassName=null,this.nzDropdownMatchSelectWidth=!0,this.nzDropdownStyle=null,this.nzNotFoundContent=void 0,this.nzPlaceHolder=null,this.nzPlacement=null,this.nzMaxTagCount=1/0,this.nzDropdownRender=null,this.nzCustomTemplate=null,this.nzSuffixIcon=U(this,o,null),this.nzClearIcon=(U(this,a),null),this.nzRemoveIcon=null,this.nzMenuItemSelectedIcon=null,this.nzTokenSeparators=[],this.nzMaxTagPlaceholder=null,this.nzMaxMultipleCount=1/0,this.nzMode="default",this.nzFilterOption=tf,this.compareWith=(Je,X)=>Je===X,this.nzAllowClear=!1,this.nzBorderless=U(this,f,!1),this.nzShowSearch=(U(this,x),!1),this.nzLoading=!1,this.nzAutoFocus=!1,this.nzAutoClearSearchValue=!0,this.nzServerSearch=!1,this.nzDisabled=!1,this.nzOpen=!1,this.nzSelectOnTab=!1,this.nzBackdrop=U(this,N,!1),this.nzOptions=(U(this,I),[]),this.nzOnSearch=new F,this.nzScrollToBottom=new F,this.nzOpenChange=new F,this.nzBlur=new F,this.nzFocus=new F,this.finalSize=de(()=>this.compactSize?this.compactSize():this.size()),this.size=yt(this.nzSize),this.compactSize=_(Pa,{optional:!0}),this.listOfValue$=new Ae([]),this.listOfTemplateItem$=new Ae([]),this.listOfTagAndTemplateItem=[],this.searchValue="",this.isReactiveDriven=!1,this.requestId=-1,this.isNzDisableFirstChange=!0,this.onChange=()=>{},this.onTouched=()=>{},this.dropdownPosition="bottomLeft",this.triggerWidth=null,this.listOfContainerItem=[],this.listOfTopItem=[],this.activatedValue=null,this.listOfValue=[],this.focused=!1,this.dir="ltr",this.positions=[],this.isMaxLimitReached=!1,this.prefixCls="ant-select",this.statusCls={},this.status="",this.hasFeedback=!1,this.noAnimation=_(Jn,{host:!0,optional:!0}),this.nzFormStatusService=_(En,{optional:!0}),this.nzFormNoStatusService=_(vo,{optional:!0})}writeValue(b){if(this.value!==b){this.value=b;let S=((w,A)=>w==null?[]:A==="default"?[w]:w)(b,this.nzMode);this.listOfValue=S,this.listOfValue$.next(S),this.cdr.markForCheck()}}registerOnChange(b){this.onChange=b}registerOnTouched(b){this.onTouched=b}setDisabledState(b){this.nzDisabled=this.isNzDisableFirstChange&&this.nzDisabled||b,this.isNzDisableFirstChange=!1,this.nzDisabled&&this.setOpenState(!1),this.cdr.markForCheck()}ngOnChanges({nzOpen:b,nzDisabled:v,nzOptions:S,nzStatus:w,nzPlacement:A,nzSize:q}){if(b&&this.onOpenChange(),v&&this.nzDisabled&&this.setOpenState(!1),S){this.isReactiveDriven=!0;let _t=(this.nzOptions||[]).map(Ze=>({template:Ze.label instanceof mt?Ze.label:null,nzTitle:this.getTitle(Ze.title,Ze.label),nzLabel:typeof Ze.label=="string"||typeof Ze.label=="number"?Ze.label:null,nzValue:Ze.value,nzDisabled:Ze.disabled||!1,nzHide:Ze.hide||!1,nzCustomContent:Ze.label instanceof mt,groupLabel:Ze.groupLabel||null,type:"item",key:Ze.key===void 0?Ze.value:Ze.key}));this.listOfTemplateItem$.next(_t)}if(w&&this.setStatusStyles(this.nzStatus,this.hasFeedback),A){let{currentValue:ce}=A;this.dropdownPosition=ce;let _t=["bottomLeft","topLeft","bottomRight","topRight"];ce&&_t.includes(ce)?this.positions=[_i[ce]]:this.positions=_t.map(Ze=>_i[Ze])}q&&this.size.set(q.currentValue)}ngOnInit(){this.nzFormStatusService?.formStatusChanges.pipe(Nn((b,v)=>b.status===v.status&&b.hasFeedback===v.hasFeedback),sl(this.nzFormNoStatusService?this.nzFormNoStatusService.noFormStatus:we(!1)),ae(([{status:b,hasFeedback:v},S])=>({status:S?"":b,hasFeedback:v})),P(this.destroy$)).subscribe(({status:b,hasFeedback:v})=>{this.setStatusStyles(b,v)}),this.focusMonitor.monitor(this.host,!0).pipe(P(this.destroy$)).subscribe(b=>{b?(this.focused=!0,this.cdr.markForCheck(),this.nzFocus.emit()):(this.focused=!1,this.cdr.markForCheck(),this.nzBlur.emit(),Promise.resolve().then(()=>{this.onTouched()}))}),fn([this.listOfValue$,this.listOfTemplateItem$]).pipe(P(this.destroy$)).subscribe(([b,v])=>{let S=b.filter(()=>this.nzMode==="tags").filter(w=>v.findIndex(A=>this.compareWith(A.nzValue,w))===-1).map(w=>this.listOfTopItem.find(A=>this.compareWith(A.nzValue,w))||this.generateTagItem(w));this.listOfTagAndTemplateItem=[...v,...S],this.listOfTopItem=this.listOfValue.map(w=>[...this.listOfTagAndTemplateItem,...this.listOfTopItem].find(A=>this.compareWith(w,A.nzValue))).filter(w=>!!w),this.updateListOfContainerItem()}),this.directionality.change?.pipe(P(this.destroy$)).subscribe(b=>{this.dir=b,this.cdr.detectChanges()}),this.nzConfigService.getConfigChangeEventForComponent("select").pipe(P(this.destroy$)).subscribe(()=>{this.size.set(this.nzSize),this.cdr.markForCheck()}),this.dir=this.directionality.value,Qt(this.host.nativeElement,"click").pipe(P(this.destroy$)).subscribe(()=>{this.nzOpen&&this.nzShowSearch||this.nzDisabled||this.ngZone.run(()=>this.setOpenState(!this.nzOpen))}),this.cdkConnectedOverlay.overlayKeydown.pipe(P(this.destroy$)).subscribe(b=>{b.keyCode===27&&this.setOpenState(!1)})}ngAfterContentInit(){this.isReactiveDriven||gt(this.listOfNzOptionGroupComponent.changes,this.listOfNzOptionComponent.changes).pipe(rt(!0),St(()=>gt(this.listOfNzOptionComponent.changes,this.listOfNzOptionGroupComponent.changes,...this.listOfNzOptionComponent.map(b=>b.changes),...this.listOfNzOptionGroupComponent.map(b=>b.changes)).pipe(rt(!0))),P(this.destroy$)).subscribe(()=>{let b=this.listOfNzOptionComponent.toArray().map(v=>{let{template:S,nzLabel:w,nzValue:A,nzKey:q,nzDisabled:ce,nzHide:_t,nzCustomContent:Ze,groupLabel:Je}=v;return{template:S,nzLabel:w,nzValue:A,nzDisabled:ce,nzHide:_t,nzCustomContent:Ze,groupLabel:Je,nzTitle:this.getTitle(v.nzTitle,v.nzLabel),type:"item",key:q===void 0?A:q}});this.listOfTemplateItem$.next(b),this.cdr.markForCheck()})}ngOnDestroy(){os(this.requestId),this.focusMonitor.stopMonitoring(this.host)}setStatusStyles(b,v){this.status=b,this.hasFeedback=v,this.cdr.markForCheck(),this.statusCls=eo(this.prefixCls,b,v),Object.keys(this.statusCls).forEach(S=>{this.statusCls[S]?this.renderer.addClass(this.host.nativeElement,S):this.renderer.removeClass(this.host.nativeElement,S)})}getTitle(b,v){let S;return b===void 0?(typeof v=="string"||typeof v=="number")&&(S=v.toString()):(typeof b=="string"||typeof b=="number")&&(S=b.toString()),S}static{this.\u0275fac=function(v){return new(v||Ga)(T(et),T(Ct),T(nt),T(se),T(pe),T(xt),T(ki),T(Zn),T(Ee))}}static{this.\u0275cmp=D({type:Ga,selectors:[["nz-select"]],contentQueries:function(v,S,w){if(v&1&&(it(w,nn,5),it(w,ks,5)),v&2){let A;R(A=Y())&&(S.listOfNzOptionComponent=A),R(A=Y())&&(S.listOfNzOptionGroupComponent=A)}},viewQuery:function(v,S){if(v&1&&(G(Gr,7,pe),G(Qr,7),G(qa,7),G(ks,7,pe),G(qa,7,pe)),v&2){let w;R(w=Y())&&(S.originElement=w.first),R(w=Y())&&(S.cdkConnectedOverlay=w.first),R(w=Y())&&(S.nzSelectTopControlComponent=w.first),R(w=Y())&&(S.nzOptionGroupComponentElement=w.first),R(w=Y())&&(S.nzSelectTopControlComponentElement=w.first)}},hostAttrs:[1,"ant-select"],hostVars:26,hostBindings:function(v,S){v&2&&B("ant-select-in-form-item",!!S.nzFormStatusService)("ant-select-lg",S.finalSize()==="large")("ant-select-sm",S.finalSize()==="small")("ant-select-show-arrow",S.nzShowArrow)("ant-select-disabled",S.nzDisabled)("ant-select-show-search",(S.nzShowSearch||S.nzMode!=="default")&&!S.nzDisabled)("ant-select-allow-clear",S.nzAllowClear)("ant-select-borderless",S.nzBorderless)("ant-select-open",S.nzOpen)("ant-select-focused",S.nzOpen||S.focused)("ant-select-single",S.nzMode==="default")("ant-select-multiple",S.nzMode!=="default")("ant-select-rtl",S.dir==="rtl")},inputs:{nzId:"nzId",nzSize:"nzSize",nzStatus:"nzStatus",nzOptionHeightPx:"nzOptionHeightPx",nzOptionOverflowSize:"nzOptionOverflowSize",nzDropdownClassName:"nzDropdownClassName",nzDropdownMatchSelectWidth:"nzDropdownMatchSelectWidth",nzDropdownStyle:"nzDropdownStyle",nzNotFoundContent:"nzNotFoundContent",nzPlaceHolder:"nzPlaceHolder",nzPlacement:"nzPlacement",nzMaxTagCount:"nzMaxTagCount",nzDropdownRender:"nzDropdownRender",nzCustomTemplate:"nzCustomTemplate",nzSuffixIcon:"nzSuffixIcon",nzClearIcon:"nzClearIcon",nzRemoveIcon:"nzRemoveIcon",nzMenuItemSelectedIcon:"nzMenuItemSelectedIcon",nzTokenSeparators:"nzTokenSeparators",nzMaxTagPlaceholder:"nzMaxTagPlaceholder",nzMaxMultipleCount:"nzMaxMultipleCount",nzMode:"nzMode",nzFilterOption:"nzFilterOption",compareWith:"compareWith",nzAllowClear:[2,"nzAllowClear","nzAllowClear",O],nzBorderless:[2,"nzBorderless","nzBorderless",O],nzShowSearch:[2,"nzShowSearch","nzShowSearch",O],nzLoading:[2,"nzLoading","nzLoading",O],nzAutoFocus:[2,"nzAutoFocus","nzAutoFocus",O],nzAutoClearSearchValue:[2,"nzAutoClearSearchValue","nzAutoClearSearchValue",O],nzServerSearch:[2,"nzServerSearch","nzServerSearch",O],nzDisabled:[2,"nzDisabled","nzDisabled",O],nzOpen:[2,"nzOpen","nzOpen",O],nzSelectOnTab:[2,"nzSelectOnTab","nzSelectOnTab",O],nzBackdrop:[2,"nzBackdrop","nzBackdrop",O],nzOptions:"nzOptions",nzShowArrow:[2,"nzShowArrow","nzShowArrow",O]},outputs:{nzOnSearch:"nzOnSearch",nzScrollToBottom:"nzScrollToBottom",nzOpenChange:"nzOpenChange",nzBlur:"nzBlur",nzFocus:"nzFocus"},exportAs:["nzSelect"],features:[Le([Ct,{provide:Xn,useExisting:mn(()=>Ga),multi:!0},{provide:Uo,useValue:"select"}]),Ti([$o]),Q],decls:5,vars:25,consts:[["origin","cdkOverlayOrigin"],["feedbackIconTpl",""],["cdkOverlayOrigin","",3,"inputValueChange","tokenize","deleteItem","keydown","nzId","open","disabled","mode","nzNoAnimation","maxTagPlaceholder","removeIcon","placeHolder","maxTagCount","customTemplate","tokenSeparators","showSearch","autofocus","listOfTopItem"],[3,"showArrow","loading","search","suffixIcon","feedbackIcon","nzMaxMultipleCount","listOfValue","isMaxTagCountSet"],[3,"clearIcon"],["cdkConnectedOverlay","","nzConnectedOverlay","",3,"overlayOutsideClick","detach","positionChange","cdkConnectedOverlayHasBackdrop","cdkConnectedOverlayMinWidth","cdkConnectedOverlayWidth","cdkConnectedOverlayOrigin","cdkConnectedOverlayTransformOriginOn","cdkConnectedOverlayPanelClass","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions"],[3,"status"],[3,"clear","clearIcon"],[3,"keydown","itemClick","scrollToBottom","itemSize","maxItemLength","matchWidth","nzNoAnimation","listOfContainerItem","menuItemSelectedIcon","notFoundContent","activatedValue","listOfSelectedValue","dropdownRender","compareWith","mode","isMaxLimitReached"]],template:function(v,S){if(v&1){let w=M();r(0,"nz-select-top-control",2,0),y("inputValueChange",function(q){return g(w),C(S.onInputValueChange(q))})("tokenize",function(q){return g(w),C(S.onTokenSeparate(q))})("deleteItem",function(q){return g(w),C(S.onItemDelete(q))})("keydown",function(q){return g(w),C(S.onKeyDown(q))}),s(),u(2,Jh,3,8,"nz-select-arrow",3)(3,Xh,1,1,"nz-select-clear",4)(4,ef,1,25,"ng-template",5),y("overlayOutsideClick",function(q){return g(w),C(S.onClickOutside(q))})("detach",function(){return g(w),C(S.setOpenState(!1))})("positionChange",function(q){return g(w),C(S.onPositionChange(q))})}if(v&2){let w=E(1);m("nzId",S.nzId)("open",S.nzOpen)("disabled",S.nzDisabled)("mode",S.nzMode)("@.disabled",!!(S.noAnimation!=null&&S.noAnimation.nzNoAnimation))("nzNoAnimation",S.noAnimation==null?null:S.noAnimation.nzNoAnimation)("maxTagPlaceholder",S.nzMaxTagPlaceholder)("removeIcon",S.nzRemoveIcon)("placeHolder",S.nzPlaceHolder)("maxTagCount",S.nzMaxTagCount)("customTemplate",S.nzCustomTemplate)("tokenSeparators",S.nzTokenSeparators)("showSearch",S.nzShowSearch)("autofocus",S.nzAutoFocus)("listOfTopItem",S.listOfTopItem),c(2),z(S.nzShowArrow||S.hasFeedback&&S.status||S.isMaxTagCountSet?2:-1),c(),z(S.nzAllowClear&&!S.nzDisabled&&S.listOfValue.length?3:-1),c(),m("cdkConnectedOverlayHasBackdrop",S.nzBackdrop)("cdkConnectedOverlayMinWidth",S.nzDropdownMatchSelectWidth?null:S.triggerWidth)("cdkConnectedOverlayWidth",S.nzDropdownMatchSelectWidth?S.triggerWidth:null)("cdkConnectedOverlayOrigin",w)("cdkConnectedOverlayTransformOriginOn",".ant-select-dropdown")("cdkConnectedOverlayPanelClass",S.nzDropdownClassName)("cdkConnectedOverlayOpen",S.nzOpen)("cdkConnectedOverlayPositions",S.positions)}},dependencies:[qa,Gr,Jn,Md,Go,kd,Qr,rs,rc,Dd],encapsulation:2,data:{animation:[Da]},changeDetection:0})}}})(),ft=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=Ce({type:t})}static{this.\u0275inj=ge({imports:[$t,Dd,wd,qa,Ps,Pd,kd,Md,Id,Td]})}}return t})();var of=["nz-pagination-item",""],af=(t,i)=>({$implicit:t,page:i});function rf(t,i){if(t&1&&(r(0,"a"),p(1),s()),t&2){let e=l().page;c(),K(e)}}function sf(t,i){t&1&&h(0,"nz-icon",4)}function lf(t,i){t&1&&h(0,"nz-icon",5)}function cf(t,i){if(t&1&&(r(0,"button",2),u(1,sf,1,0,"nz-icon",4)(2,lf,1,0,"nz-icon",5),s()),t&2){let e=l(2);m("disabled",e.disabled),He("title",e.locale.prev_page),c(),z(e.direction==="rtl"?1:2)}}function df(t,i){t&1&&h(0,"nz-icon",5)}function mf(t,i){t&1&&h(0,"nz-icon",4)}function pf(t,i){if(t&1&&(r(0,"button",2),u(1,df,1,0,"nz-icon",5)(2,mf,1,0,"nz-icon",4),s()),t&2){let e=l(2);m("disabled",e.disabled),He("title",e.locale.next_page),c(),z(e.direction==="rtl"?1:2)}}function uf(t,i){t&1&&h(0,"span",8)}function hf(t,i){t&1&&h(0,"nz-icon",9)}function ff(t,i){if(t&1&&u(0,uf,1,0,"span",8)(1,hf,1,0,"nz-icon",9),t&2){let e=l(3);z(e.direction==="rtl"?0:1)}}function _f(t,i){t&1&&h(0,"span",10)}function gf(t,i){t&1&&h(0,"nz-icon",11)}function Cf(t,i){if(t&1&&u(0,_f,1,0,"span",10)(1,gf,1,0,"nz-icon",11),t&2){let e=l(3);z(e.direction==="rtl"?0:1)}}function vf(t,i){if(t&1&&(r(0,"a",3)(1,"div",6),u(2,ff,2,1)(3,Cf,2,1),r(4,"span",7),p(5,"\u2022\u2022\u2022"),s()()()),t&2){let e,n=l().$implicit;c(2),z((e=n)==="prev_5"?2:e==="next_5"?3:-1)}}function zf(t,i){if(t&1&&u(0,rf,2,1,"a")(1,cf,3,3,"button",2)(2,pf,3,3,"button",2)(3,vf,6,1,"a",3),t&2){let e,n=i.$implicit;z((e=n)==="page"?0:e==="prev"?1:e==="next"?2:3)}}function Sf(t,i){}var yf=["nz-pagination-options",""],xf=(t,i)=>i.value;function bf(t,i){if(t&1&&h(0,"nz-option",3),t&2){let e=i.$implicit;m("nzLabel",e.label)("nzValue",e.value)}}function Tf(t,i){if(t&1){let e=M();r(0,"nz-select",2),y("ngModelChange",function(o){g(e);let a=l();return C(a.onPageSizeChange(o))}),j(1,bf,1,2,"nz-option",3,xf),s()}if(t&2){let e=l();m("nzDisabled",e.disabled)("nzSize",e.nzSize)("ngModel",e.pageSize),c(),L(e.listOfPageSizeOption)}}function wf(t,i){if(t&1){let e=M();r(0,"div",1),p(1),r(2,"input",4),y("keydown.enter",function(o){g(e);let a=l();return C(a.jumpToPageViaInput(o))}),s(),p(3),s()}if(t&2){let e=l();c(),W(" ",e.locale.jump_to," "),c(),m("disabled",e.disabled),c(),W(" ",e.locale.page," ")}}var Od=["containerTemplate"],Df=(t,i)=>({$implicit:t,range:i});function Mf(t,i){}function kf(t,i){if(t&1&&(r(0,"li",1),u(1,Mf,0,0,"ng-template",4),s()),t&2){let e=l(2);c(),m("ngTemplateOutlet",e.showTotal)("ngTemplateOutletContext",Kn(2,Df,e.total,e.ranges))}}function Pf(t,i){if(t&1){let e=M();r(0,"li",5),y("gotoIndex",function(o){g(e);let a=l(2);return C(a.jumpPage(o))})("diffIndex",function(o){g(e);let a=l(2);return C(a.jumpDiff(o))}),s()}if(t&2){let e=i.$implicit,n=l(2);m("locale",n.locale)("type",e.type)("index",e.index)("disabled",!!e.disabled)("itemRender",n.itemRender)("active",n.pageIndex===e.index)("direction",n.dir)}}function If(t,i){if(t&1){let e=M();r(0,"li",6),y("pageIndexChange",function(o){g(e);let a=l(2);return C(a.onPageIndexChange(o))})("pageSizeChange",function(o){g(e);let a=l(2);return C(a.onPageSizeChange(o))}),s()}if(t&2){let e=l(2);m("total",e.total)("locale",e.locale)("disabled",e.disabled)("nzSize",e.nzSize)("showSizeChanger",e.showSizeChanger)("showQuickJumper",e.showQuickJumper)("pageIndex",e.pageIndex)("pageSize",e.pageSize)("pageSizeOptions",e.pageSizeOptions)}}function Of(t,i){if(t&1&&(r(0,"ul"),u(1,kf,2,5,"li",1),j(2,Pf,1,7,"li",2,_l().trackByPageItem,!0),u(4,If,1,9,"li",3),s()),t&2){let e=l();c(),z(e.showTotal?1:-1),c(),L(e.listOfPageItem),c(2),z(e.showQuickJumper||e.showSizeChanger?4:-1)}}function Nf(t,i){if(t&1){let e=M();r(0,"ul")(1,"li",1),y("click",function(){g(e);let o=l();return C(o.prePage())}),s(),r(2,"li",2)(3,"input",3),y("keydown.enter",function(o){g(e);let a=l();return C(a.jumpToPageViaInput(o))}),s(),r(4,"span",4),p(5,"/"),s(),p(6),s(),r(7,"li",5),y("click",function(){g(e);let o=l();return C(o.nextPage())}),s()()}if(t&2){let e=l();c(),m("locale",e.locale)("disabled",e.isFirstIndex)("direction",e.dir)("itemRender",e.itemRender),He("title",e.locale.prev_page),c(),He("title",e.pageIndex+"/"+e.lastIndex),c(),m("disabled",e.disabled)("value",e.pageIndex),c(3),W(" ",e.lastIndex," "),c(),m("locale",e.locale)("disabled",e.isLastIndex)("direction",e.dir)("itemRender",e.itemRender),He("title",e.locale==null?null:e.locale.next_page)}}function Ff(t,i){}function Ef(t,i){if(t&1&&u(0,Ff,0,0,"ng-template",4),t&2){l(2);let e=E(2);m("ngTemplateOutlet",e.template)}}function Af(t,i){}function Rf(t,i){if(t&1&&u(0,Af,0,0,"ng-template",4),t&2){l(2);let e=E(4);m("ngTemplateOutlet",e.template)}}function Yf(t,i){if(t&1&&u(0,Ef,1,1,null,4)(1,Rf,1,1,null,4),t&2){let e=l();z(e.nzSimple?0:1)}}var Os=(()=>{class t{constructor(){this.active=!1,this.index=null,this.disabled=!1,this.direction="ltr",this.type=null,this.itemRender=null,this.diffIndex=new F,this.gotoIndex=new F,this.title=null}clickItem(){this.disabled||(this.type==="page"?this.gotoIndex.emit(this.index):this.diffIndex.emit({next:1,prev:-1,prev_5:-5,next_5:5}[this.type]))}ngOnChanges(e){let{locale:n,index:o,type:a}=e;(n||o||a)&&(this.title={page:`${this.index}`,next:this.locale?.next_page,prev:this.locale?.prev_page,prev_5:this.locale?.prev_5,next_5:this.locale?.next_5}[this.type])}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=D({type:t,selectors:[["li","nz-pagination-item",""]],hostVars:19,hostBindings:function(n,o){n&1&&y("click",function(){return o.clickItem()}),n&2&&(He("title",o.title),B("ant-pagination-prev",o.type==="prev")("ant-pagination-next",o.type==="next")("ant-pagination-item",o.type==="page")("ant-pagination-jump-prev",o.type==="prev_5")("ant-pagination-jump-prev-custom-icon",o.type==="prev_5")("ant-pagination-jump-next",o.type==="next_5")("ant-pagination-jump-next-custom-icon",o.type==="next_5")("ant-pagination-disabled",o.disabled)("ant-pagination-item-active",o.active))},inputs:{active:"active",locale:"locale",index:"index",disabled:"disabled",direction:"direction",type:"type",itemRender:"itemRender"},outputs:{diffIndex:"diffIndex",gotoIndex:"gotoIndex"},features:[Q],attrs:of,decls:3,vars:5,consts:[["renderItemTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["type","button",1,"ant-pagination-item-link",3,"disabled"],[1,"ant-pagination-item-link"],["nzType","right"],["nzType","left"],[1,"ant-pagination-item-container"],[1,"ant-pagination-item-ellipsis"],["nz-icon","","nzType","double-right",1,"ant-pagination-item-link-icon"],["nzType","double-left",1,"ant-pagination-item-link-icon"],["nz-icon","","nzType","double-left",1,"ant-pagination-item-link-icon"],["nzType","double-right",1,"ant-pagination-item-link-icon"]],template:function(n,o){if(n&1&&u(0,zf,4,1,"ng-template",null,0,V)(2,Sf,0,0,"ng-template",1),n&2){let a=E(1);c(2),m("ngTemplateOutlet",o.itemRender||a)("ngTemplateOutletContext",Kn(2,af,o.type,o.index))}},dependencies:[J,me,ie],encapsulation:2,changeDetection:0})}}return t})(),Nd=(()=>{class t{constructor(){this.nzSize="default",this.disabled=!1,this.showSizeChanger=!1,this.showQuickJumper=!1,this.total=0,this.pageIndex=1,this.pageSize=10,this.pageSizeOptions=[],this.pageIndexChange=new F,this.pageSizeChange=new F,this.listOfPageSizeOption=[]}onPageSizeChange(e){this.pageSize!==e&&this.pageSizeChange.next(e)}jumpToPageViaInput(e){let n=e.target,o=Math.floor(es(n.value,this.pageIndex));this.pageIndexChange.next(o),n.value=""}ngOnChanges(e){let{pageSize:n,pageSizeOptions:o,locale:a}=e;(n||o||a)&&(this.listOfPageSizeOption=[...new Set([...this.pageSizeOptions,this.pageSize])].map(d=>({value:d,label:`${d} ${this.locale.items_per_page}`})))}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=D({type:t,selectors:[["li","nz-pagination-options",""]],hostAttrs:[1,"ant-pagination-options"],inputs:{nzSize:"nzSize",disabled:"disabled",showSizeChanger:"showSizeChanger",showQuickJumper:"showQuickJumper",locale:"locale",total:"total",pageIndex:"pageIndex",pageSize:"pageSize",pageSizeOptions:"pageSizeOptions"},outputs:{pageIndexChange:"pageIndexChange",pageSizeChange:"pageSizeChange"},features:[Q],attrs:yf,decls:2,vars:2,consts:[[1,"ant-pagination-options-size-changer",3,"nzDisabled","nzSize","ngModel"],[1,"ant-pagination-options-quick-jumper"],[1,"ant-pagination-options-size-changer",3,"ngModelChange","nzDisabled","nzSize","ngModel"],[3,"nzLabel","nzValue"],[3,"keydown.enter","disabled"]],template:function(n,o){n&1&&u(0,Tf,3,3,"nz-select",0)(1,wf,4,3,"div",1),n&2&&(z(o.showSizeChanger?0:-1),c(),z(o.showQuickJumper?1:-1))},dependencies:[ft,nn,$t,ot,Oe,zt],encapsulation:2,changeDetection:0})}}return t})(),Fd=(()=>{class t{constructor(e,n,o,a){this.cdr=e,this.renderer=n,this.elementRef=o,this.directionality=a,this.nzSize="default",this.itemRender=null,this.showTotal=null,this.disabled=!1,this.showSizeChanger=!1,this.showQuickJumper=!1,this.total=0,this.pageIndex=1,this.pageSize=10,this.pageSizeOptions=[10,20,30,40],this.pageIndexChange=new F,this.pageSizeChange=new F,this.ranges=[0,0],this.listOfPageItem=[],this.dir="ltr",this.destroy$=new H,n.removeChild(n.parentNode(o.nativeElement),o.nativeElement)}ngOnInit(){this.directionality.change?.pipe(P(this.destroy$)).subscribe(e=>{this.dir=e,this.updateRtlStyle(),this.cdr.detectChanges()}),this.dir=this.directionality.value,this.updateRtlStyle()}updateRtlStyle(){this.dir==="rtl"?this.renderer.addClass(this.elementRef.nativeElement,"ant-pagination-rtl"):this.renderer.removeClass(this.elementRef.nativeElement,"ant-pagination-rtl")}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}jumpPage(e){this.onPageIndexChange(e)}jumpDiff(e){this.jumpPage(this.pageIndex+e)}trackByPageItem(e,n){return`${n.type}-${n.index}`}onPageIndexChange(e){this.pageIndexChange.next(e)}onPageSizeChange(e){this.pageSizeChange.next(e)}getLastIndex(e,n){return Math.ceil(e/n)}buildIndexes(){let e=this.getLastIndex(this.total,this.pageSize);this.listOfPageItem=this.getListOfPageItem(this.pageIndex,e)}getListOfPageItem(e,n){let o=d=>{let f={type:"prev",disabled:e===1},x={type:"next",disabled:e===n};return[f,...d,x]},a=(d,f)=>{let x=[];for(let k=d;k<=f;k++)x.push({index:k,type:"page"});return x};return n<=9?o(a(1,n)):o(((f,x)=>{let k=[],N={type:"prev_5"},I={type:"next_5"},$=a(1,1),b=a(n,n);if(f<5)k=[...a(2,f===4?6:5),I];else if(f<x-3)k=[N,...a(f-2,f+2),I];else{let v=f===x-3?x-5:x-4;k=[N,...a(v,x-1)]}return[...$,...k,...b]})(e,n))}ngOnChanges(e){let{pageIndex:n,pageSize:o,total:a}=e;(n||o||a)&&(this.ranges=[(this.pageIndex-1)*this.pageSize+1,Math.min(this.pageIndex*this.pageSize,this.total)],this.buildIndexes())}static{this.\u0275fac=function(n){return new(n||t)(T(se),T(xt),T(pe),T(Ee))}}static{this.\u0275cmp=D({type:t,selectors:[["nz-pagination-default"]],viewQuery:function(n,o){if(n&1&&G(Od,7),n&2){let a;R(a=Y())&&(o.template=a.first)}},inputs:{nzSize:"nzSize",itemRender:"itemRender",showTotal:"showTotal",disabled:"disabled",locale:"locale",showSizeChanger:"showSizeChanger",showQuickJumper:"showQuickJumper",total:"total",pageIndex:"pageIndex",pageSize:"pageSize",pageSizeOptions:"pageSizeOptions"},outputs:{pageIndexChange:"pageIndexChange",pageSizeChange:"pageSizeChange"},features:[Q],decls:2,vars:0,consts:[["containerTemplate",""],[1,"ant-pagination-total-text"],["nz-pagination-item","",3,"locale","type","index","disabled","itemRender","active","direction"],["nz-pagination-options","",3,"total","locale","disabled","nzSize","showSizeChanger","showQuickJumper","pageIndex","pageSize","pageSizeOptions"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["nz-pagination-item","",3,"gotoIndex","diffIndex","locale","type","index","disabled","itemRender","active","direction"],["nz-pagination-options","",3,"pageIndexChange","pageSizeChange","total","locale","disabled","nzSize","showSizeChanger","showQuickJumper","pageIndex","pageSize","pageSizeOptions"]],template:function(n,o){n&1&&u(0,Of,5,2,"ng-template",null,0,V)},dependencies:[ie,Os,Nd],encapsulation:2,changeDetection:0})}}return t})(),Ed=(()=>{class t{constructor(e,n,o,a){this.cdr=e,this.renderer=n,this.elementRef=o,this.directionality=a,this.itemRender=null,this.disabled=!1,this.total=0,this.pageIndex=1,this.pageSize=10,this.pageIndexChange=new F,this.lastIndex=0,this.isFirstIndex=!1,this.isLastIndex=!1,this.dir="ltr",this.destroy$=new H,n.removeChild(n.parentNode(o.nativeElement),o.nativeElement)}ngOnInit(){this.directionality.change?.pipe(P(this.destroy$)).subscribe(e=>{this.dir=e,this.updateRtlStyle(),this.cdr.detectChanges()}),this.dir=this.directionality.value,this.updateRtlStyle()}updateRtlStyle(){this.dir==="rtl"?this.renderer.addClass(this.elementRef.nativeElement,"ant-pagination-rtl"):this.renderer.removeClass(this.elementRef.nativeElement,"ant-pagination-rtl")}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}jumpToPageViaInput(e){let n=e.target,o=es(n.value,this.pageIndex);this.onPageIndexChange(o),n.value=`${this.pageIndex}`}prePage(){this.onPageIndexChange(this.pageIndex-1)}nextPage(){this.onPageIndexChange(this.pageIndex+1)}onPageIndexChange(e){this.pageIndexChange.next(e)}updateBindingValue(){this.lastIndex=Math.ceil(this.total/this.pageSize),this.isFirstIndex=this.pageIndex===1,this.isLastIndex=this.pageIndex===this.lastIndex}ngOnChanges(e){let{pageIndex:n,total:o,pageSize:a}=e;(n||o||a)&&this.updateBindingValue()}static{this.\u0275fac=function(n){return new(n||t)(T(se),T(xt),T(pe),T(Ee))}}static{this.\u0275cmp=D({type:t,selectors:[["nz-pagination-simple"]],viewQuery:function(n,o){if(n&1&&G(Od,7),n&2){let a;R(a=Y())&&(o.template=a.first)}},inputs:{itemRender:"itemRender",disabled:"disabled",locale:"locale",total:"total",pageIndex:"pageIndex",pageSize:"pageSize"},outputs:{pageIndexChange:"pageIndexChange"},features:[Q],decls:2,vars:0,consts:[["containerTemplate",""],["nz-pagination-item","","type","prev",3,"click","locale","disabled","direction","itemRender"],[1,"ant-pagination-simple-pager"],["size","3",3,"keydown.enter","disabled","value"],[1,"ant-pagination-slash"],["nz-pagination-item","","type","next",3,"click","locale","disabled","direction","itemRender"]],template:function(n,o){n&1&&u(0,Nf,8,14,"ng-template",null,0,V)},dependencies:[Os],encapsulation:2,changeDetection:0})}}return t})(),Vf="pagination",Ns=(()=>{let t,i=[],e=[],n,o=[],a=[],d,f=[],x=[],k,N=[],I=[],$,b=[],v=[];return class Is{static{let w=typeof Symbol=="function"&&Symbol.metadata?Object.create(null):void 0;t=[_e()],n=[_e()],d=[_e()],k=[_e()],$=[_e()],he(null,null,t,{kind:"field",name:"nzSize",static:!1,private:!1,access:{has:A=>"nzSize"in A,get:A=>A.nzSize,set:(A,q)=>{A.nzSize=q}},metadata:w},i,e),he(null,null,n,{kind:"field",name:"nzPageSizeOptions",static:!1,private:!1,access:{has:A=>"nzPageSizeOptions"in A,get:A=>A.nzPageSizeOptions,set:(A,q)=>{A.nzPageSizeOptions=q}},metadata:w},o,a),he(null,null,d,{kind:"field",name:"nzShowSizeChanger",static:!1,private:!1,access:{has:A=>"nzShowSizeChanger"in A,get:A=>A.nzShowSizeChanger,set:(A,q)=>{A.nzShowSizeChanger=q}},metadata:w},f,x),he(null,null,k,{kind:"field",name:"nzShowQuickJumper",static:!1,private:!1,access:{has:A=>"nzShowQuickJumper"in A,get:A=>A.nzShowQuickJumper,set:(A,q)=>{A.nzShowQuickJumper=q}},metadata:w},N,I),he(null,null,$,{kind:"field",name:"nzSimple",static:!1,private:!1,access:{has:A=>"nzSimple"in A,get:A=>A.nzSimple,set:(A,q)=>{A.nzSimple=q}},metadata:w},b,v),w&&Object.defineProperty(this,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:w})}validatePageIndex(w,A){return w>A?A:w<1?1:w}onPageIndexChange(w){let A=this.getLastIndex(this.nzTotal,this.nzPageSize),q=this.validatePageIndex(w,A);q!==this.nzPageIndex&&!this.nzDisabled&&(this.nzPageIndex=q,this.nzPageIndexChange.emit(this.nzPageIndex))}onPageSizeChange(w){this.nzPageSize=w,this.nzPageSizeChange.emit(w);let A=this.getLastIndex(this.nzTotal,this.nzPageSize);this.nzPageIndex>A&&this.onPageIndexChange(A)}onTotalChange(w){let A=this.getLastIndex(w,this.nzPageSize);this.nzPageIndex>A&&Promise.resolve().then(()=>{this.onPageIndexChange(A),this.cdr.markForCheck()})}getLastIndex(w,A){return Math.ceil(w/A)}constructor(w,A,q,ce,_t){this.i18n=w,this.cdr=A,this.breakpointService=q,this.nzConfigService=ce,this.directionality=_t,this._nzModuleName=Vf,this.nzPageSizeChange=new F,this.nzPageIndexChange=new F,this.nzShowTotal=null,this.nzItemRender=null,this.nzSize=U(this,i,"default"),this.nzPageSizeOptions=(U(this,e),U(this,o,[10,20,30,40])),this.nzShowSizeChanger=(U(this,a),U(this,f,!1)),this.nzShowQuickJumper=(U(this,x),U(this,N,!1)),this.nzSimple=(U(this,I),U(this,b,!1)),this.nzDisabled=(U(this,v),!1),this.nzResponsive=!1,this.nzHideOnSinglePage=!1,this.nzTotal=0,this.nzPageIndex=1,this.nzPageSize=10,this.showPagination=!0,this.size="default",this.dir="ltr",this.destroy$=new H,this.total$=new dt(1)}ngOnInit(){this.i18n.localeChange.pipe(P(this.destroy$)).subscribe(()=>{this.locale=this.i18n.getLocaleData("Pagination"),this.cdr.markForCheck()}),this.total$.pipe(P(this.destroy$)).subscribe(w=>{this.onTotalChange(w)}),this.breakpointService.subscribe(ic).pipe(P(this.destroy$)).subscribe(w=>{this.nzResponsive&&(this.size=w===nc.xs?"small":"default",this.cdr.markForCheck())}),this.directionality.change?.pipe(P(this.destroy$)).subscribe(w=>{this.dir=w,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}ngOnChanges(w){let{nzHideOnSinglePage:A,nzTotal:q,nzPageSize:ce,nzSize:_t}=w;q&&this.total$.next(this.nzTotal),(A||q||ce)&&(this.showPagination=this.nzHideOnSinglePage&&this.nzTotal>this.nzPageSize||this.nzTotal>0&&!this.nzHideOnSinglePage),_t&&(this.size=_t.currentValue)}static{this.\u0275fac=function(A){return new(A||Is)(T(Un),T(se),T(oc),T(nt),T(Ee))}}static{this.\u0275cmp=D({type:Is,selectors:[["nz-pagination"]],hostAttrs:[1,"ant-pagination"],hostVars:8,hostBindings:function(A,q){A&2&&B("ant-pagination-simple",q.nzSimple)("ant-pagination-disabled",q.nzDisabled)("ant-pagination-mini",!q.nzSimple&&q.size==="small")("ant-pagination-rtl",q.dir==="rtl")},inputs:{nzShowTotal:"nzShowTotal",nzItemRender:"nzItemRender",nzSize:"nzSize",nzPageSizeOptions:"nzPageSizeOptions",nzShowSizeChanger:[2,"nzShowSizeChanger","nzShowSizeChanger",O],nzShowQuickJumper:[2,"nzShowQuickJumper","nzShowQuickJumper",O],nzSimple:[2,"nzSimple","nzSimple",O],nzDisabled:[2,"nzDisabled","nzDisabled",O],nzResponsive:[2,"nzResponsive","nzResponsive",O],nzHideOnSinglePage:[2,"nzHideOnSinglePage","nzHideOnSinglePage",O],nzTotal:[2,"nzTotal","nzTotal",pn],nzPageIndex:[2,"nzPageIndex","nzPageIndex",pn],nzPageSize:[2,"nzPageSize","nzPageSize",pn]},outputs:{nzPageSizeChange:"nzPageSizeChange",nzPageIndexChange:"nzPageIndexChange"},exportAs:["nzPagination"],features:[Q],decls:5,vars:18,consts:[["simplePagination",""],["defaultPagination",""],[3,"pageIndexChange","disabled","itemRender","locale","pageSize","total","pageIndex"],[3,"pageIndexChange","pageSizeChange","nzSize","itemRender","showTotal","disabled","locale","showSizeChanger","showQuickJumper","total","pageIndex","pageSize","pageSizeOptions"],[3,"ngTemplateOutlet"]],template:function(A,q){if(A&1){let ce=M();u(0,Yf,2,1),r(1,"nz-pagination-simple",2,0),y("pageIndexChange",function(Ze){return g(ce),C(q.onPageIndexChange(Ze))}),s(),r(3,"nz-pagination-default",3,1),y("pageIndexChange",function(Ze){return g(ce),C(q.onPageIndexChange(Ze))})("pageSizeChange",function(Ze){return g(ce),C(q.onPageSizeChange(Ze))}),s()}A&2&&(z(q.showPagination?0:-1),c(),m("disabled",q.nzDisabled)("itemRender",q.nzItemRender)("locale",q.locale)("pageSize",q.nzPageSize)("total",q.nzTotal)("pageIndex",q.nzPageIndex),c(2),m("nzSize",q.size)("itemRender",q.nzItemRender)("showTotal",q.nzShowTotal)("disabled",q.nzDisabled)("locale",q.locale)("showSizeChanger",q.nzShowSizeChanger)("showQuickJumper",q.nzShowQuickJumper)("total",q.nzTotal)("pageIndex",q.nzPageIndex)("pageSize",q.nzPageSize)("pageSizeOptions",q.nzPageSizeOptions))},dependencies:[ie,Ed,Fd],encapsulation:2,changeDetection:0})}}})(),Ad=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=Ce({type:t})}static{this.\u0275inj=ge({imports:[Ns,Ed,Nd,Os,Fd]})}}return t})();var jf=["*"];function Lf(t,i){t&1&&(r(0,"span",2),h(1,"i",3)(2,"i",3)(3,"i",3)(4,"i",3),s())}function Bf(t,i){}function Uf(t,i){if(t&1&&(r(0,"div",6),p(1),s()),t&2){let e=l(2);c(),K(e.nzTip)}}function $f(t,i){if(t&1&&(r(0,"div")(1,"div",4),u(2,Bf,0,0,"ng-template",5)(3,Uf,2,1,"div",6),s()()),t&2){let e=l(),n=E(1);c(),B("ant-spin-rtl",e.dir==="rtl")("ant-spin-spinning",e.isLoading)("ant-spin-lg",e.nzSize==="large")("ant-spin-sm",e.nzSize==="small")("ant-spin-show-text",e.nzTip),c(),m("ngTemplateOutlet",e.nzIndicator||n),c(),z(e.nzTip?3:-1)}}function Wf(t,i){if(t&1&&(r(0,"div",7),re(1),s()),t&2){let e=l();B("ant-spin-blur",e.isLoading)}}var Rd="spin",Do=(()=>{let t,i=[],e=[];return class Fs{static{let o=typeof Symbol=="function"&&Symbol.metadata?Object.create(null):void 0;t=[_e()],he(null,null,t,{kind:"field",name:"nzIndicator",static:!1,private:!1,access:{has:a=>"nzIndicator"in a,get:a=>a.nzIndicator,set:(a,d)=>{a.nzIndicator=d}},metadata:o},i,e),o&&Object.defineProperty(this,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o})}constructor(o,a,d){this.nzConfigService=o,this.cdr=a,this.directionality=d,this._nzModuleName=Rd,this.nzIndicator=U(this,i,null),this.nzSize=(U(this,e),"default"),this.nzTip=null,this.nzDelay=0,this.nzSimple=!1,this.nzSpinning=!0,this.destroy$=new H,this.spinning$=new Ae(this.nzSpinning),this.delay$=new dt(1),this.isLoading=!1,this.dir="ltr"}ngOnInit(){this.delay$.pipe(rt(this.nzDelay),Nn(),St(a=>a===0?this.spinning$:this.spinning$.pipe(al(d=>il(d?a:0)))),P(this.destroy$)).subscribe(a=>{this.isLoading=a,this.cdr.markForCheck()}),this.nzConfigService.getConfigChangeEventForComponent(Rd).pipe(P(this.destroy$)).subscribe(()=>this.cdr.markForCheck()),this.directionality.change?.pipe(P(this.destroy$)).subscribe(a=>{this.dir=a,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngOnChanges(o){let{nzSpinning:a,nzDelay:d}=o;a&&this.spinning$.next(this.nzSpinning),d&&this.delay$.next(this.nzDelay)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static{this.\u0275fac=function(a){return new(a||Fs)(T(nt),T(se),T(Ee))}}static{this.\u0275cmp=D({type:Fs,selectors:[["nz-spin"]],hostVars:2,hostBindings:function(a,d){a&2&&B("ant-spin-nested-loading",!d.nzSimple)},inputs:{nzIndicator:"nzIndicator",nzSize:"nzSize",nzTip:"nzTip",nzDelay:[2,"nzDelay","nzDelay",pn],nzSimple:[2,"nzSimple","nzSimple",O],nzSpinning:[2,"nzSpinning","nzSpinning",O]},exportAs:["nzSpin"],features:[Q],ngContentSelectors:jf,decls:4,vars:2,consts:[["defaultTemplate",""],[1,"ant-spin-container",3,"ant-spin-blur"],[1,"ant-spin-dot","ant-spin-dot-spin"],[1,"ant-spin-dot-item"],[1,"ant-spin"],[3,"ngTemplateOutlet"],[1,"ant-spin-text"],[1,"ant-spin-container"]],template:function(a,d){a&1&&(fe(),u(0,Lf,5,0,"ng-template",null,0,V)(2,$f,4,12,"div")(3,Wf,2,2,"div",1)),a&2&&(c(2),z(d.isLoading?2:-1),c(),z(d.nzSimple?-1:3))},dependencies:[ie],encapsulation:2})}}})(),Qa=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=Ce({type:t})}static{this.\u0275inj=ge({})}}return t})();var Ri=["*"],qf=(t,i)=>i.value;function Gf(t,i){}function Qf(t,i){if(t&1){let e=M();r(0,"label",14),y("ngModelChange",function(){g(e);let o=l().$implicit,a=l(2);return C(a.check(o))}),s()}if(t&2){let e=l().$implicit;m("ngModel",e.checked)}}function Kf(t,i){if(t&1){let e=M();r(0,"label",15),y("ngModelChange",function(){g(e);let o=l().$implicit,a=l(2);return C(a.check(o))}),s()}if(t&2){let e=l().$implicit;m("ngModel",e.checked)}}function Zf(t,i){if(t&1){let e=M();r(0,"li",11),y("click",function(){let o=g(e).$implicit,a=l(2);return C(a.check(o))}),u(1,Qf,1,1,"label",12)(2,Kf,1,1,"label",13),r(3,"span"),p(4),s()()}if(t&2){let e=i.$implicit,n=l(2);m("nzSelected",e.checked),c(),z(n.filterMultiple?2:1),c(3),K(e.text)}}function Jf(t,i){if(t&1){let e=M();r(0,"nz-filter-trigger",3),y("nzVisibleChange",function(o){g(e);let a=l();return C(a.onVisibleChange(o))}),h(1,"nz-icon",4),s(),r(2,"nz-dropdown-menu",null,0)(4,"div",5)(5,"ul",6),j(6,Zf,5,3,"li",7,qf),s(),r(8,"div",8)(9,"button",9),y("click",function(){g(e);let o=l();return C(o.reset())}),p(10),s(),r(11,"button",10),y("click",function(){g(e);let o=l();return C(o.confirm())}),p(12),s()()()()}if(t&2){let e=E(3),n=l();m("nzVisible",n.isVisible)("nzActive",n.isChecked)("nzDropdownMenu",e),c(6),L(n.listOfParsedFilter),c(3),m("disabled",!n.isChecked),c(),W(" ",n.locale.filterReset," "),c(2),K(n.locale.filterConfirm)}}function Xf(t,i){if(t&1&&lt(0,2),t&2){let e=l();m("ngTemplateOutlet",e.extraTemplate)}}function e_(t,i){if(t&1){let e=M();r(0,"label",3),y("ngModelChange",function(o){g(e);let a=l();return C(a.onCheckedChange(o))}),s()}if(t&2){let e=l();B("ant-table-selection-select-all-custom",e.showRowSelection),m("ngModel",e.checked)("nzDisabled",e.disabled)("nzIndeterminate",e.indeterminate),He("aria-label",e.label)}}function t_(t,i){if(t&1){let e=M();r(0,"li",8),y("click",function(){let o=g(e).$implicit;return C(o.onSelect())}),p(1),s()}if(t&2){let e=i.$implicit;c(),W(" ",e.text," ")}}function n_(t,i){if(t&1&&(r(0,"div",2)(1,"span",4),h(2,"nz-icon",5),s(),r(3,"nz-dropdown-menu",null,0)(5,"ul",6),j(6,t_,2,1,"li",7,Ne),s()()()),t&2){let e=E(4),n=l();c(),m("nzDropdownMenu",e),c(5),L(n.listOfSelections)}}function i_(t,i){}function o_(t,i){if(t&1&&h(0,"span",6),t&2){let e=l();B("active",e.sortOrder==="ascend")}}function a_(t,i){if(t&1&&h(0,"span",7),t&2){let e=l();B("active",e.sortOrder==="descend")}}var r_=["nzChecked",""];function s_(t,i){}function l_(t,i){if(t&1&&u(0,s_,0,0,"ng-template",2),t&2){let e=l(2);m("ngTemplateOutlet",e.nzExpandIcon)}}function c_(t,i){if(t&1){let e=M();r(0,"button",4),y("expandChange",function(o){g(e);let a=l(2);return C(a.onExpandChange(o))}),s()}if(t&2){let e=l(2);m("expand",e.nzExpand)("spaceMode",!e.nzShowExpand)}}function d_(t,i){if(t&1&&(h(0,"nz-row-indent",1),u(1,l_,1,1,null,2)(2,c_,1,2,"button",3)),t&2){let e=l();m("indentSize",e.nzIndentSize),c(),z(e.nzExpandIcon?1:2)}}function m_(t,i){if(t&1){let e=M();r(0,"label",5),y("ngModelChange",function(o){g(e);let a=l();return C(a.onCheckedChange(o))}),s()}if(t&2){let e=l();m("nzDisabled",e.nzDisabled)("ngModel",e.nzChecked)("nzIndeterminate",e.nzIndeterminate),He("aria-label",e.nzLabel)}}var p_=["nzColumnKey",""],u_=[[["","nz-th-extra",""]],[["nz-filter-trigger"]],"*"],h_=["[nz-th-extra]","nz-filter-trigger","*"];function f_(t,i){if(t&1){let e=M();r(0,"nz-table-filter",6),y("filterChange",function(o){g(e);let a=l();return C(a.onFilterValueChange(o))}),s()}if(t&2){let e=l(),n=E(3),o=E(5);m("contentTemplate",n)("extraTemplate",o)("customFilter",e.nzCustomFilter)("filterMultiple",e.nzFilterMultiple)("listOfFilter",e.nzFilters)}}function __(t,i){if(t&1&&lt(0,5),t&2){l();let e=E(3);m("ngTemplateOutlet",e)}}function g_(t,i){}function C_(t,i){if(t&1&&u(0,g_,0,0,"ng-template",5),t&2){let e=l(),n=E(7),o=E(9);m("ngTemplateOutlet",e.nzShowSort?n:o)}}function v_(t,i){t&1&&(re(0),re(1,1))}function z_(t,i){if(t&1&&h(0,"nz-table-sorters",7),t&2){let e=l(),n=E(9);m("sortOrder",e.sortOrder)("sortDirections",e.sortDirections)("contentTemplate",n)}}function S_(t,i){t&1&&re(0,2)}var y_=["nzSelections",""],x_=["nz-table-content",""];function b_(t,i){if(t&1&&h(0,"col"),t&2){let e=i.$implicit;pt("width",e)("min-width",e)}}function T_(t,i){}function w_(t,i){if(t&1&&(r(0,"thead",1),u(1,T_,0,0,"ng-template",2),s()),t&2){let e=l();c(),m("ngTemplateOutlet",e.theadTemplate)}}function D_(t,i){}function M_(t,i){}function k_(t,i){if(t&1&&(r(0,"tfoot",3),u(1,M_,0,0,"ng-template",2),s()),t&2){let e=l();c(),m("ngTemplateOutlet",e.tfootTemplate)}}var jd=["tdElement"],P_=["nz-table-fixed-row",""];function I_(t,i){}function O_(t,i){if(t&1&&(r(0,"div",5),cn(1,"async"),u(2,I_,0,0,"ng-template",4),s()),t&2){let e=l(),n=E(6);pt("width",ui(1,3,e.hostWidth$),"px"),c(2),m("ngTemplateOutlet",n)}}function N_(t,i){}function F_(t,i){if(t&1&&u(0,N_,0,0,"ng-template",4),t&2){l();let e=E(6);m("ngTemplateOutlet",e)}}function E_(t,i){t&1&&re(0)}var A_=["nz-table-measure-row",""];function R_(t,i){t&1&&h(0,"td",1,0)}function Y_(t,i){if(t&1){let e=M();r(0,"tr",2),y("listOfAutoWidth",function(o){g(e);let a=l(2);return C(a.onListOfAutoWidthChange(o))}),s()}if(t&2){let e=l();m("listOfMeasureColumn",e)}}function V_(t,i){if(t&1&&u(0,Y_,1,1,"tr",1),t&2){let e=l();z(e.isInsideTable&&i.length?0:-1)}}function H_(t,i){if(t&1&&(r(0,"tr",0),h(1,"nz-embed-empty",3),cn(2,"async"),s()),t&2){let e=l();c(),m("specificContent",ui(2,1,e.noResult$))}}var j_=["tableHeaderElement"],L_=["tableBodyElement"],B_=["tableFootElement"],U_=(t,i)=>({$implicit:t,index:i});function $_(t,i){if(t&1&&(r(0,"div",9,1),h(2,"table",10),s()),t&2){let e=l(2);ve(e.bodyStyleMap),c(2),m("scrollX",e.scrollX)("listOfColWidth",e.listOfColWidth)("contentTemplate",e.contentTemplate)}}function W_(t,i){}function q_(t,i){if(t&1&&(te(0),u(1,W_,0,0,"ng-template",14),ne()),t&2){let e=i.$implicit,n=i.index,o=l(3);c(),m("ngTemplateOutlet",o.virtualTemplate)("ngTemplateOutletContext",Kn(2,U_,e,n))}}function G_(t,i){if(t&1&&(r(0,"cdk-virtual-scroll-viewport",11,1)(2,"table",12)(3,"tbody"),u(4,q_,2,5,"ng-container",13),s()()()),t&2){let e=l(2);pt("height",e.data.length?e.scrollY:e.noDataVirtualHeight),m("itemSize",e.virtualItemSize)("maxBufferPx",e.virtualMaxBufferPx)("minBufferPx",e.virtualMinBufferPx),c(2),m("scrollX",e.scrollX)("listOfColWidth",e.listOfColWidth),c(2),m("cdkVirtualForOf",e.data)("cdkVirtualForTrackBy",e.virtualForTrackBy)}}function Q_(t,i){if(t&1&&(r(0,"div",15,2),h(2,"table",16),s()),t&2){let e=l(2);ve(e.headerStyleMap),c(2),m("scrollX",e.scrollX)("listOfColWidth",e.listOfColWidth)("tfootTemplate",e.tfootTemplate)}}function K_(t,i){if(t&1&&(r(0,"div",4,0),h(2,"table",5),s(),u(3,$_,3,5,"div",6)(4,G_,5,9,"cdk-virtual-scroll-viewport",7)(5,Q_,3,5,"div",8)),t&2){let e=l();ve(e.headerStyleMap),c(2),m("scrollX",e.scrollX)("listOfColWidth",e.listOfColWidth)("theadTemplate",e.theadTemplate)("tfootTemplate",e.tfootFixed==="top"?e.tfootTemplate:null),c(),z(e.virtualTemplate?4:3),c(2),z(e.tfootFixed==="bottom"?5:-1)}}function Z_(t,i){if(t&1&&(r(0,"div",17,1),h(2,"table",18),s()),t&2){let e=l();ve(e.bodyStyleMap),c(2),m("scrollX",e.scrollX)("listOfColWidth",e.listOfColWidth)("theadTemplate",e.theadTemplate)("contentTemplate",e.contentTemplate)("tfootTemplate",e.tfootTemplate)}}function J_(t,i){if(t&1&&(te(0),p(1),ne()),t&2){let e=l();c(),K(e.title)}}function X_(t,i){if(t&1&&(te(0),p(1),ne()),t&2){let e=l();c(),K(e.footer)}}function eg(t,i){}function tg(t,i){if(t&1&&u(0,eg,0,0,"ng-template",4),t&2){l();let e=E(10);m("ngTemplateOutlet",e)}}function ng(t,i){if(t&1&&h(0,"nz-table-title-footer",6),t&2){let e=l();m("title",e.nzTitle)}}function ig(t,i){if(t&1&&h(0,"nz-table-inner-scroll",7),t&2){let e=l(),n=E(3),o=E(12);m("data",e.data)("scrollX",e.scrollX)("scrollY",e.scrollY)("contentTemplate",o)("listOfColWidth",e.listOfAutoColWidth)("theadTemplate",e.theadTemplate)("tfootTemplate",e.tfootTemplate)("tfootFixed",e.tfootFixed)("verticalScrollBarWidth",e.verticalScrollBarWidth)("virtualTemplate",e.nzVirtualScrollDirective?e.nzVirtualScrollDirective.templateRef:null)("virtualItemSize",e.nzVirtualItemSize)("virtualMaxBufferPx",e.nzVirtualMaxBufferPx)("virtualMinBufferPx",e.nzVirtualMinBufferPx)("tableMainElement",n)("virtualForTrackBy",e.nzVirtualForTrackBy)("noDataVirtualHeight",e.noDataVirtualHeight)}}function og(t,i){if(t&1&&h(0,"nz-table-inner-default",8),t&2){let e=l(),n=E(12);m("tableLayout",e.nzTableLayout)("listOfColWidth",e.listOfManualColWidth)("theadTemplate",e.theadTemplate)("contentTemplate",n)("tfootTemplate",e.tfootTemplate)}}function ag(t,i){if(t&1&&h(0,"nz-table-title-footer",9),t&2){let e=l();m("footer",e.nzFooter)}}function rg(t,i){}function sg(t,i){if(t&1&&u(0,rg,0,0,"ng-template",4),t&2){l();let e=E(10);m("ngTemplateOutlet",e)}}function lg(t,i){if(t&1){let e=M();r(0,"nz-pagination",11),y("nzPageSizeChange",function(o){g(e);let a=l(2);return C(a.onPageSizeChange(o))})("nzPageIndexChange",function(o){g(e);let a=l(2);return C(a.onPageIndexChange(o))}),s()}if(t&2){let e=l(2);m("hidden",!e.showPagination)("nzShowSizeChanger",e.nzShowSizeChanger)("nzPageSizeOptions",e.nzPageSizeOptions)("nzItemRender",e.nzItemRender)("nzShowQuickJumper",e.nzShowQuickJumper)("nzHideOnSinglePage",e.nzHideOnSinglePage)("nzShowTotal",e.nzShowTotal)("nzSize",e.nzPaginationType==="small"?"small":e.nzSize==="default"?"default":"small")("nzPageSize",e.nzPageSize)("nzTotal",e.nzTotal)("nzSimple",e.nzSimple)("nzPageIndex",e.nzPageIndex)}}function cg(t,i){if(t&1&&u(0,lg,1,12,"nz-pagination",10),t&2){let e=l();z(e.nzShowPagination&&e.data.length?0:-1)}}function dg(t,i){t&1&&re(0)}var mg=["contentTemplate"];function pg(t,i){t&1&&re(0)}function ug(t,i){}function hg(t,i){if(t&1&&u(0,ug,0,0,"ng-template",1),t&2){l();let e=E(1);m("ngTemplateOutlet",e)}}var fg="filterTrigger",Ld=(()=>{let t,i=[],e=[];return class Es{static{let o=typeof Symbol=="function"&&Symbol.metadata?Object.create(null):void 0;t=[_e()],he(null,null,t,{kind:"field",name:"nzBackdrop",static:!1,private:!1,access:{has:a=>"nzBackdrop"in a,get:a=>a.nzBackdrop,set:(a,d)=>{a.nzBackdrop=d}},metadata:o},i,e),o&&Object.defineProperty(this,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o})}onVisibleChange(o){this.nzVisible=o,this.nzVisibleChange.next(o)}hide(){this.nzVisible=!1,this.cdr.markForCheck()}show(){this.nzVisible=!0,this.cdr.markForCheck()}constructor(o,a,d){this.nzConfigService=o,this.cdr=a,this.destroy$=d,this._nzModuleName=fg,this.nzActive=!1,this.nzVisible=!1,this.nzBackdrop=U(this,i,!1),this.nzVisibleChange=(U(this,e),new F)}ngOnInit(){Qt(this.nzDropdown.nativeElement,"click").pipe(P(this.destroy$)).subscribe(o=>{o.stopPropagation()})}static{this.\u0275fac=function(a){return new(a||Es)(T(nt),T(se),T(Ct))}}static{this.\u0275cmp=D({type:Es,selectors:[["nz-filter-trigger"]],viewQuery:function(a,d){if(a&1&&G(gi,7,pe),a&2){let f;R(f=Y())&&(d.nzDropdown=f.first)}},inputs:{nzActive:"nzActive",nzDropdownMenu:"nzDropdownMenu",nzVisible:"nzVisible",nzBackdrop:[2,"nzBackdrop","nzBackdrop",O]},outputs:{nzVisibleChange:"nzVisibleChange"},exportAs:["nzFilterTrigger"],features:[Le([Ct])],ngContentSelectors:Ri,decls:2,vars:8,consts:[["nz-dropdown","","nzTrigger","click","nzPlacement","bottomRight",1,"ant-table-filter-trigger",3,"nzVisibleChange","nzBackdrop","nzClickHide","nzDropdownMenu","nzVisible"]],template:function(a,d){a&1&&(fe(),r(0,"span",0),y("nzVisibleChange",function(x){return d.onVisibleChange(x)}),re(1),s()),a&2&&(B("active",d.nzActive)("ant-table-filter-open",d.nzVisible),m("nzBackdrop",d.nzBackdrop)("nzClickHide",!1)("nzDropdownMenu",d.nzDropdownMenu)("nzVisible",d.nzVisible))},dependencies:[To,gi],encapsulation:2,changeDetection:0})}}})(),Bd=(()=>{class t{check(e){this.filterMultiple?(this.listOfParsedFilter=this.listOfParsedFilter.map(n=>n===e?Fe(ee({},n),{checked:!e.checked}):n),e.checked=!e.checked):this.listOfParsedFilter=this.listOfParsedFilter.map(n=>Fe(ee({},n),{checked:n===e})),this.isChecked=this.getCheckedStatus(this.listOfParsedFilter)}confirm(){this.isVisible=!1,this.emitFilterData()}reset(){this.isVisible=!1,this.listOfParsedFilter=this.parseListOfFilter(this.listOfFilter,!0),this.isChecked=this.getCheckedStatus(this.listOfParsedFilter),this.emitFilterData()}onVisibleChange(e){this.isVisible=e,e?this.listOfChecked=this.listOfParsedFilter.filter(n=>n.checked).map(n=>n.value):this.emitFilterData()}emitFilterData(){let e=this.listOfParsedFilter.filter(n=>n.checked).map(n=>n.value);Ql(this.listOfChecked,e)||(this.filterMultiple?this.filterChange.emit(e):this.filterChange.emit(e.length>0?e[0]:null))}parseListOfFilter(e,n){return e.map(o=>{let a=n?!1:!!o.byDefault;return{text:o.text,value:o.value,checked:a}})}getCheckedStatus(e){return e.some(n=>n.checked)}constructor(e,n){this.cdr=e,this.i18n=n,this.contentTemplate=null,this.customFilter=!1,this.extraTemplate=null,this.filterMultiple=!0,this.listOfFilter=[],this.filterChange=new F,this.destroy$=new H,this.isChecked=!1,this.isVisible=!1,this.listOfParsedFilter=[],this.listOfChecked=[]}ngOnInit(){this.i18n.localeChange.pipe(P(this.destroy$)).subscribe(()=>{this.locale=this.i18n.getLocaleData("Table"),this.cdr.markForCheck()})}ngOnChanges(e){let{listOfFilter:n}=e;n&&this.listOfFilter&&this.listOfFilter.length&&(this.listOfParsedFilter=this.parseListOfFilter(this.listOfFilter),this.isChecked=this.getCheckedStatus(this.listOfParsedFilter))}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}static{this.\u0275fac=function(n){return new(n||t)(T(se),T(Un))}}static{this.\u0275cmp=D({type:t,selectors:[["nz-table-filter"]],hostAttrs:[1,"ant-table-filter-column"],inputs:{contentTemplate:"contentTemplate",customFilter:"customFilter",extraTemplate:"extraTemplate",filterMultiple:"filterMultiple",listOfFilter:"listOfFilter"},outputs:{filterChange:"filterChange"},features:[Q],decls:4,vars:2,consts:[["filterMenu","nzDropdownMenu"],[1,"ant-table-column-title"],[3,"ngTemplateOutlet"],[3,"nzVisibleChange","nzVisible","nzActive","nzDropdownMenu"],["nzType","filter","nzTheme","fill"],[1,"ant-table-filter-dropdown"],["nz-menu",""],["nz-menu-item","",3,"nzSelected"],[1,"ant-table-filter-dropdown-btns"],["nz-button","","nzType","link","nzSize","small",3,"click","disabled"],["nz-button","","nzType","primary","nzSize","small",3,"click"],["nz-menu-item","",3,"click","nzSelected"],["nz-radio","",3,"ngModel"],["nz-checkbox","",3,"ngModel"],["nz-radio","",3,"ngModelChange","ngModel"],["nz-checkbox","",3,"ngModelChange","ngModel"]],template:function(n,o){n&1&&(r(0,"span",1),u(1,Gf,0,0,"ng-template",2),s(),u(2,Jf,13,6)(3,Xf,1,1,"ng-container",2)),n&2&&(c(),m("ngTemplateOutlet",o.contentTemplate),c(),z(o.customFilter?3:2))},dependencies:[ie,Ld,J,me,To,qo,Wo,na,gd,Bn,zo,ot,Oe,zt,De,Pe,Me,ke],encapsulation:2,changeDetection:0})}}return t})(),_g=(()=>{class t{constructor(){this.expand=!1,this.spaceMode=!1,this.expandChange=new F}onHostClick(){this.spaceMode||(this.expand=!this.expand,this.expandChange.next(this.expand))}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275dir=Ve({type:t,selectors:[["button","nz-row-expand-button",""]],hostAttrs:[1,"ant-table-row-expand-icon"],hostVars:7,hostBindings:function(n,o){n&1&&y("click",function(){return o.onHostClick()}),n&2&&(gl("type","button"),B("ant-table-row-expand-icon-expanded",!o.spaceMode&&o.expand===!0)("ant-table-row-expand-icon-collapsed",!o.spaceMode&&o.expand===!1)("ant-table-row-expand-icon-spaced",o.spaceMode))},inputs:{expand:"expand",spaceMode:"spaceMode"},outputs:{expandChange:"expandChange"}})}}return t})(),gg=(()=>{class t{constructor(){this.indentSize=0}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275dir=Ve({type:t,selectors:[["nz-row-indent"]],hostAttrs:[1,"ant-table-row-indent"],hostVars:2,hostBindings:function(n,o){n&2&&pt("padding-left",o.indentSize,"px")},inputs:{indentSize:"indentSize"}})}}return t})(),Ud=(()=>{class t{constructor(){this.listOfSelections=[],this.checked=!1,this.disabled=!1,this.indeterminate=!1,this.label=null,this.showCheckbox=!1,this.showRowSelection=!1,this.checkedChange=new F}onCheckedChange(e){this.checked=e,this.checkedChange.emit(e)}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=D({type:t,selectors:[["nz-table-selection"]],hostAttrs:[1,"ant-table-selection"],inputs:{listOfSelections:"listOfSelections",checked:"checked",disabled:"disabled",indeterminate:"indeterminate",label:"label",showCheckbox:"showCheckbox",showRowSelection:"showRowSelection"},outputs:{checkedChange:"checkedChange"},decls:2,vars:2,consts:[["selectionMenu","nzDropdownMenu"],["nz-checkbox","",3,"ant-table-selection-select-all-custom","ngModel","nzDisabled","nzIndeterminate"],[1,"ant-table-selection-extra"],["nz-checkbox","",3,"ngModelChange","ngModel","nzDisabled","nzIndeterminate"],["nz-dropdown","","nzPlacement","bottomLeft",1,"ant-table-selection-down",3,"nzDropdownMenu"],["nzType","down"],["nz-menu","",1,"ant-table-selection-menu"],["nz-menu-item",""],["nz-menu-item","",3,"click"]],template:function(n,o){n&1&&u(0,e_,1,6,"label",1)(1,n_,8,1,"div",2),n&2&&(z(o.showCheckbox?0:-1),c(),z(o.showRowSelection?1:-1))},dependencies:[ot,Oe,zt,Bn,zo,To,qo,Wo,gi,na,J,me],encapsulation:2,changeDetection:0})}}return t})(),$d=(()=>{class t{constructor(){this.sortDirections=["ascend","descend",null],this.sortOrder=null,this.contentTemplate=null,this.isUp=!1,this.isDown=!1}ngOnChanges(e){let{sortDirections:n}=e;n&&(this.isUp=this.sortDirections.indexOf("ascend")!==-1,this.isDown=this.sortDirections.indexOf("descend")!==-1)}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=D({type:t,selectors:[["nz-table-sorters"]],hostAttrs:[1,"ant-table-column-sorters"],inputs:{sortDirections:"sortDirections",sortOrder:"sortOrder",contentTemplate:"contentTemplate"},features:[Q],decls:6,vars:5,consts:[[1,"ant-table-column-title"],[3,"ngTemplateOutlet"],[1,"ant-table-column-sorter"],[1,"ant-table-column-sorter-inner"],["nz-icon","","nzType","caret-up",1,"ant-table-column-sorter-up",3,"active"],["nz-icon","","nzType","caret-down",1,"ant-table-column-sorter-down",3,"active"],["nz-icon","","nzType","caret-up",1,"ant-table-column-sorter-up"],["nz-icon","","nzType","caret-down",1,"ant-table-column-sorter-down"]],template:function(n,o){n&1&&(r(0,"span",0),u(1,i_,0,0,"ng-template",1),s(),r(2,"span",2)(3,"span",3),u(4,o_,1,2,"span",4)(5,a_,1,2,"span",5),s()()),n&2&&(c(),m("ngTemplateOutlet",o.contentTemplate),c(),B("ant-table-column-sorter-full",o.isDown&&o.isUp),c(2),z(o.isUp?4:-1),c(),z(o.isDown?5:-1))},dependencies:[J,me,ie],encapsulation:2,changeDetection:0})}}return t})(),Cg=(()=>{class t{setAutoLeftWidth(e){this.renderer.setStyle(this.elementRef.nativeElement,"left",e)}setAutoRightWidth(e){this.renderer.setStyle(this.elementRef.nativeElement,"right",e)}setIsFirstRight(e){this.setFixClass(e,"ant-table-cell-fix-right-first")}setIsLastLeft(e){this.setFixClass(e,"ant-table-cell-fix-left-last")}setFixClass(e,n){this.renderer.removeClass(this.elementRef.nativeElement,n),e&&this.renderer.addClass(this.elementRef.nativeElement,n)}constructor(e,n){this.renderer=e,this.elementRef=n,this.nzRight=!1,this.nzLeft=!1,this.colspan=null,this.colSpan=null,this.changes$=new H,this.isAutoLeft=!1,this.isAutoRight=!1,this.isFixedLeft=!1,this.isFixedRight=!1,this.isFixed=!1}ngOnChanges(){this.setIsFirstRight(!1),this.setIsLastLeft(!1),this.isAutoLeft=this.nzLeft===""||this.nzLeft===!0,this.isAutoRight=this.nzRight===""||this.nzRight===!0,this.isFixedLeft=this.nzLeft!==!1,this.isFixedRight=this.nzRight!==!1,this.isFixed=this.isFixedLeft||this.isFixedRight;let e=n=>typeof n=="string"&&n!==""?n:null;this.setAutoLeftWidth(e(this.nzLeft)),this.setAutoRightWidth(e(this.nzRight)),this.changes$.next()}static{this.\u0275fac=function(n){return new(n||t)(T(xt),T(pe))}}static{this.\u0275dir=Ve({type:t,selectors:[["td","nzRight",""],["th","nzRight",""],["td","nzLeft",""],["th","nzLeft",""]],hostVars:6,hostBindings:function(n,o){n&2&&(pt("position",o.isFixed?"sticky":null),B("ant-table-cell-fix-right",o.isFixedRight)("ant-table-cell-fix-left",o.isFixedLeft))},inputs:{nzRight:"nzRight",nzLeft:"nzLeft",colspan:"colspan",colSpan:"colSpan"},features:[Q]})}}return t})(),io=(()=>{class t{constructor(){this.theadTemplate$=new dt(1),this.tfootTemplate$=new dt(1),this.tfootFixed$=new dt(1),this.hasFixLeft$=new dt(1),this.hasFixRight$=new dt(1),this.hostWidth$=new dt(1),this.columnCount$=new dt(1),this.showEmpty$=new dt(1),this.noResult$=new dt(1),this.listOfThWidthConfigPx$=new Ae([]),this.tableWidthConfigPx$=new Ae([]),this.manualWidthConfigPx$=fn([this.tableWidthConfigPx$,this.listOfThWidthConfigPx$]).pipe(ae(([e,n])=>e.length?e:n)),this.listOfAutoWidthPx$=new dt(1),this.listOfListOfThWidthPx$=gt(this.manualWidthConfigPx$,fn([this.listOfAutoWidthPx$,this.manualWidthConfigPx$]).pipe(ae(([e,n])=>e.length===n.length?e.map((o,a)=>o==="0px"?n[a]||null:n[a]||o):n))),this.listOfMeasureColumn$=new dt(1),this.listOfListOfThWidth$=this.listOfAutoWidthPx$.pipe(ae(e=>e.map(n=>parseInt(n,10)))),this.enableAutoMeasure$=new dt(1)}setTheadTemplate(e){this.theadTemplate$.next(e)}setTfootTemplate(e){this.tfootTemplate$.next(e)}setTfootFixed(e){this.tfootFixed$.next(e)}setHasFixLeft(e){this.hasFixLeft$.next(e)}setHasFixRight(e){this.hasFixRight$.next(e)}setTableWidthConfig(e){this.tableWidthConfigPx$.next(e)}setListOfTh(e){let n=0;e.forEach(a=>{n+=a.colspan&&+a.colspan||a.colSpan&&+a.colSpan||1});let o=e.map(a=>a.nzWidth);this.columnCount$.next(n),this.listOfThWidthConfigPx$.next(o)}setListOfMeasureColumn(e){let n=[];e.forEach(o=>{let a=o.colspan&&+o.colspan||o.colSpan&&+o.colSpan||1;for(let d=0;d<a;d++)n.push(`measure_key_${d}`)}),this.listOfMeasureColumn$.next(n)}setListOfAutoWidth(e){this.listOfAutoWidthPx$.next(e.map(n=>`${n}px`))}setShowEmpty(e){this.showEmpty$.next(e)}setNoResult(e){this.noResult$.next(e)}setScroll(e,n){let o=!!(e||n);o||this.setListOfAutoWidth([]),this.enableAutoMeasure$.next(o)}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=Ye({token:t,factory:t.\u0275fac})}}return t})(),Xt=(()=>{class t{constructor(){this.isInsideTable=!!_(io,{optional:!0})}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275dir=Ve({type:t,selectors:[["th",9,"nz-disable-th",3,"mat-cell",""],["td",9,"nz-disable-td",3,"mat-cell",""]],hostVars:2,hostBindings:function(n,o){n&2&&B("ant-table-cell",o.isInsideTable)}})}}return t})(),As=(()=>{class t{constructor(){this.destroy$=new H,this.pageIndex$=new Ae(1),this.frontPagination$=new Ae(!0),this.pageSize$=new Ae(10),this.listOfData$=new Ae([]),this.listOfCustomColumn$=new Ae([]),this.pageIndexDistinct$=this.pageIndex$.pipe(Nn()),this.pageSizeDistinct$=this.pageSize$.pipe(Nn()),this.listOfCalcOperator$=new Ae([]),this.queryParams$=fn([this.pageIndexDistinct$,this.pageSizeDistinct$,this.listOfCalcOperator$]).pipe(jr(0),rl(1),ae(([e,n,o])=>({pageIndex:e,pageSize:n,sort:o.filter(a=>a.sortFn).map(a=>({key:a.key,value:a.sortOrder})),filter:o.filter(a=>a.filterFn).map(a=>({key:a.key,value:a.filterValue}))}))),this.listOfDataAfterCalc$=fn([this.listOfData$,this.listOfCalcOperator$]).pipe(ae(([e,n])=>{let o=[...e],a=n.filter(f=>{let{filterValue:x,filterFn:k}=f;return!(x==null||Array.isArray(x)&&x.length===0)&&typeof k=="function"});for(let f of a){let{filterFn:x,filterValue:k}=f;o=o.filter(N=>x(k,N))}let d=n.filter(f=>f.sortOrder!==null&&typeof f.sortFn=="function").sort((f,x)=>+x.sortPriority-+f.sortPriority);return n.length&&o.sort((f,x)=>{for(let k of d){let{sortFn:N,sortOrder:I}=k;if(N&&I){let $=N(f,x,I);if($!==0)return I==="ascend"?$:-$}}return 0}),o})),this.listOfFrontEndCurrentPageData$=fn([this.pageIndexDistinct$,this.pageSizeDistinct$,this.listOfDataAfterCalc$]).pipe(P(this.destroy$),Xe(e=>{let[n,o,a]=e,d=Math.ceil(a.length/o)||1;return n<=d}),ae(([e,n,o])=>o.slice((e-1)*n,e*n))),this.listOfCurrentPageData$=this.frontPagination$.pipe(St(e=>e?this.listOfFrontEndCurrentPageData$:this.listOfDataAfterCalc$)),this.total$=this.frontPagination$.pipe(St(e=>e?this.listOfDataAfterCalc$:this.listOfData$),ae(e=>e.length),Nn())}updatePageSize(e){this.pageSize$.next(e)}updateFrontPagination(e){this.frontPagination$.next(e)}updatePageIndex(e){this.pageIndex$.next(e)}updateListOfData(e){this.listOfData$.next(e)}updateListOfCustomColumn(e){this.listOfCustomColumn$.next(e)}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=Ye({token:t,factory:t.\u0275fac})}}return t})();var oa=(()=>{class t{constructor(){this.nzChecked=!1,this.nzDisabled=!1,this.nzIndeterminate=!1,this.nzLabel=null,this.nzIndentSize=0,this.nzShowExpand=!1,this.nzShowCheckbox=!1,this.nzExpand=!1,this.nzExpandIcon=null,this.nzCheckedChange=new F,this.nzExpandChange=new F,this.isNzShowExpandChanged=!1,this.isNzShowCheckboxChanged=!1}onCheckedChange(e){this.nzChecked=e,this.nzCheckedChange.emit(e)}onExpandChange(e){this.nzExpand=e,this.nzExpandChange.emit(e)}ngOnChanges(e){let n=x=>x&&x.firstChange&&x.currentValue!==void 0,{nzExpand:o,nzChecked:a,nzShowExpand:d,nzShowCheckbox:f}=e;d&&(this.isNzShowExpandChanged=!0),f&&(this.isNzShowCheckboxChanged=!0),n(o)&&!this.isNzShowExpandChanged&&(this.nzShowExpand=!0),n(a)&&!this.isNzShowCheckboxChanged&&(this.nzShowCheckbox=!0)}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=D({type:t,selectors:[["td","nzChecked",""],["td","nzDisabled",""],["td","nzIndeterminate",""],["td","nzIndentSize",""],["td","nzExpand",""],["td","nzShowExpand",""],["td","nzShowCheckbox",""]],hostVars:4,hostBindings:function(n,o){n&2&&B("ant-table-cell-with-append",o.nzShowExpand||o.nzIndentSize>0)("ant-table-selection-column",o.nzShowCheckbox)},inputs:{nzChecked:"nzChecked",nzDisabled:"nzDisabled",nzIndeterminate:"nzIndeterminate",nzLabel:"nzLabel",nzIndentSize:"nzIndentSize",nzShowExpand:[2,"nzShowExpand","nzShowExpand",O],nzShowCheckbox:[2,"nzShowCheckbox","nzShowCheckbox",O],nzExpand:[2,"nzExpand","nzExpand",O],nzExpandIcon:"nzExpandIcon"},outputs:{nzCheckedChange:"nzCheckedChange",nzExpandChange:"nzExpandChange"},features:[Q],attrs:r_,ngContentSelectors:Ri,decls:3,vars:2,consts:[["nz-checkbox","",3,"nzDisabled","ngModel","nzIndeterminate"],[3,"indentSize"],[3,"ngTemplateOutlet"],["nz-row-expand-button","",3,"expand","spaceMode"],["nz-row-expand-button","",3,"expandChange","expand","spaceMode"],["nz-checkbox","",3,"ngModelChange","nzDisabled","ngModel","nzIndeterminate"]],template:function(n,o){n&1&&(fe(),u(0,d_,3,2)(1,m_,1,4,"label",0),re(2)),n&2&&(z(o.nzShowExpand||o.nzIndentSize>0?0:-1),c(),z(o.nzShowCheckbox?1:-1))},dependencies:[gg,_g,ie,Bn,zo,ot,Oe,zt],encapsulation:2,changeDetection:0})}}return t})(),vg="table",Wd=(()=>{let t,i=[],e=[];return class Rs{static{let o=typeof Symbol=="function"&&Symbol.metadata?Object.create(null):void 0;t=[_e()],he(null,null,t,{kind:"field",name:"nzSortDirections",static:!1,private:!1,access:{has:a=>"nzSortDirections"in a,get:a=>a.nzSortDirections,set:(a,d)=>{a.nzSortDirections=d}},metadata:o},i,e),o&&Object.defineProperty(this,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o})}getNextSortDirection(o,a){let d=o.indexOf(a);return d===o.length-1?o[0]:o[d+1]}setSortOrder(o){this.sortOrderChange$.next(o)}clearSortOrder(){this.sortOrder!==null&&this.setSortOrder(null)}onFilterValueChange(o){this.nzFilterChange.emit(o),this.nzFilterValue=o,this.updateCalcOperator()}updateCalcOperator(){this.calcOperatorChange$.next()}constructor(o,a,d,f,x){this.nzConfigService=o,this.host=a,this.cdr=d,this.ngZone=f,this.destroy$=x,this._nzModuleName=vg,this.manualClickOrder$=new H,this.calcOperatorChange$=new H,this.nzFilterValue=null,this.sortOrder=null,this.sortDirections=["ascend","descend",null],this.sortOrderChange$=new H,this.isNzShowSortChanged=!1,this.isNzShowFilterChanged=!1,this.nzFilterMultiple=!0,this.nzSortOrder=null,this.nzSortPriority=!1,this.nzSortDirections=U(this,i,["ascend","descend",null]),this.nzFilters=(U(this,e),[]),this.nzSortFn=null,this.nzFilterFn=null,this.nzShowSort=!1,this.nzShowFilter=!1,this.nzCustomFilter=!1,this.nzCheckedChange=new F,this.nzSortOrderChange=new F,this.nzFilterChange=new F}ngOnInit(){Qt(this.host.nativeElement,"click").pipe(Xe(()=>this.nzShowSort),P(this.destroy$)).subscribe(()=>{let o=this.getNextSortDirection(this.sortDirections,this.sortOrder);this.ngZone.run(()=>{this.setSortOrder(o),this.manualClickOrder$.next(this)})}),this.sortOrderChange$.pipe(P(this.destroy$)).subscribe(o=>{this.sortOrder!==o&&(this.sortOrder=o,this.nzSortOrderChange.emit(o)),this.updateCalcOperator(),this.cdr.markForCheck()})}ngOnChanges(o){let{nzSortDirections:a,nzFilters:d,nzSortOrder:f,nzSortFn:x,nzFilterFn:k,nzSortPriority:N,nzFilterMultiple:I,nzShowSort:$,nzShowFilter:b}=o;a&&this.nzSortDirections&&this.nzSortDirections.length&&(this.sortDirections=this.nzSortDirections),f&&(this.sortOrder=this.nzSortOrder,this.setSortOrder(this.nzSortOrder)),$&&(this.isNzShowSortChanged=!0),b&&(this.isNzShowFilterChanged=!0);let v=S=>S&&S.firstChange&&S.currentValue!==void 0;if((v(f)||v(x))&&!this.isNzShowSortChanged&&(this.nzShowSort=!0),v(d)&&!this.isNzShowFilterChanged&&(this.nzShowFilter=!0),(d||I)&&this.nzShowFilter){let S=this.nzFilters.filter(w=>w.byDefault).map(w=>w.value);this.nzFilterValue=this.nzFilterMultiple?S:S[0]||null}(x||k||N||d)&&this.updateCalcOperator()}static{this.\u0275fac=function(a){return new(a||Rs)(T(nt),T(pe),T(se),T(et),T(Ct))}}static{this.\u0275cmp=D({type:Rs,selectors:[["th","nzColumnKey",""],["th","nzSortFn",""],["th","nzSortOrder",""],["th","nzFilters",""],["th","nzShowSort",""],["th","nzShowFilter",""],["th","nzCustomFilter",""]],hostVars:4,hostBindings:function(a,d){a&2&&B("ant-table-column-has-sorters",d.nzShowSort)("ant-table-column-sort",d.sortOrder==="descend"||d.sortOrder==="ascend")},inputs:{nzColumnKey:"nzColumnKey",nzFilterMultiple:"nzFilterMultiple",nzSortOrder:"nzSortOrder",nzSortPriority:"nzSortPriority",nzSortDirections:"nzSortDirections",nzFilters:"nzFilters",nzSortFn:"nzSortFn",nzFilterFn:"nzFilterFn",nzShowSort:[2,"nzShowSort","nzShowSort",O],nzShowFilter:[2,"nzShowFilter","nzShowFilter",O],nzCustomFilter:[2,"nzCustomFilter","nzCustomFilter",O]},outputs:{nzCheckedChange:"nzCheckedChange",nzSortOrderChange:"nzSortOrderChange",nzFilterChange:"nzFilterChange"},features:[Le([Ct]),Q],attrs:p_,ngContentSelectors:h_,decls:10,vars:1,consts:[["notFilterTemplate",""],["extraTemplate",""],["sortTemplate",""],["contentTemplate",""],[3,"contentTemplate","extraTemplate","customFilter","filterMultiple","listOfFilter"],[3,"ngTemplateOutlet"],[3,"filterChange","contentTemplate","extraTemplate","customFilter","filterMultiple","listOfFilter"],[3,"sortOrder","sortDirections","contentTemplate"]],template:function(a,d){a&1&&(fe(u_),u(0,f_,1,5,"nz-table-filter",4)(1,__,1,1,"ng-container",5)(2,C_,1,1,"ng-template",null,0,V)(4,v_,2,0,"ng-template",null,1,V)(6,z_,1,3,"ng-template",null,2,V)(8,S_,1,0,"ng-template",null,3,V)),a&2&&z(d.nzShowFilter||d.nzCustomFilter?0:1)},dependencies:[Bd,ie,$d],encapsulation:2,changeDetection:0})}}})(),Wt=(()=>{class t{constructor(e,n){this.renderer=e,this.elementRef=n,this.changes$=new H,this.nzWidth=null,this.colspan=null,this.colSpan=null,this.rowspan=null,this.rowSpan=null}ngOnChanges(e){let{nzWidth:n,colspan:o,rowspan:a,colSpan:d,rowSpan:f}=e;if(o||d){let x=this.colspan||this.colSpan;Xr(x)?this.renderer.removeAttribute(this.elementRef.nativeElement,"colspan"):this.renderer.setAttribute(this.elementRef.nativeElement,"colspan",`${x}`)}if(a||f){let x=this.rowspan||this.rowSpan;Xr(x)?this.renderer.removeAttribute(this.elementRef.nativeElement,"rowspan"):this.renderer.setAttribute(this.elementRef.nativeElement,"rowspan",`${x}`)}(n||o)&&this.changes$.next()}static{this.\u0275fac=function(n){return new(n||t)(T(xt),T(pe))}}static{this.\u0275dir=Ve({type:t,selectors:[["th"]],inputs:{nzWidth:"nzWidth",colspan:"colspan",colSpan:"colSpan",rowspan:"rowspan",rowSpan:"rowSpan"},features:[Q]})}}return t})(),aa=(()=>{class t{constructor(){this.nzSelections=[],this.nzChecked=!1,this.nzDisabled=!1,this.nzIndeterminate=!1,this.nzLabel=null,this.nzShowCheckbox=!1,this.nzShowRowSelection=!1,this.nzCheckedChange=new F,this.isNzShowExpandChanged=!1,this.isNzShowCheckboxChanged=!1}onCheckedChange(e){this.nzChecked=e,this.nzCheckedChange.emit(e)}ngOnChanges(e){let n=x=>x&&x.firstChange&&x.currentValue!==void 0,{nzChecked:o,nzSelections:a,nzShowExpand:d,nzShowCheckbox:f}=e;d&&(this.isNzShowExpandChanged=!0),f&&(this.isNzShowCheckboxChanged=!0),n(a)&&!this.isNzShowExpandChanged&&(this.nzShowRowSelection=!0),n(o)&&!this.isNzShowCheckboxChanged&&(this.nzShowCheckbox=!0)}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=D({type:t,selectors:[["th","nzSelections",""],["th","nzChecked",""],["th","nzShowCheckbox",""],["th","nzShowRowSelection",""]],hostAttrs:[1,"ant-table-selection-column"],inputs:{nzSelections:"nzSelections",nzChecked:[2,"nzChecked","nzChecked",O],nzDisabled:[2,"nzDisabled","nzDisabled",O],nzIndeterminate:"nzIndeterminate",nzLabel:"nzLabel",nzShowCheckbox:[2,"nzShowCheckbox","nzShowCheckbox",O],nzShowRowSelection:[2,"nzShowRowSelection","nzShowRowSelection",O]},outputs:{nzCheckedChange:"nzCheckedChange"},features:[Q],attrs:y_,ngContentSelectors:Ri,decls:2,vars:7,consts:[[3,"checkedChange","checked","disabled","indeterminate","label","listOfSelections","showCheckbox","showRowSelection"]],template:function(n,o){n&1&&(fe(),r(0,"nz-table-selection",0),y("checkedChange",function(d){return o.onCheckedChange(d)}),s(),re(1)),n&2&&m("checked",o.nzChecked)("disabled",o.nzDisabled)("indeterminate",o.nzIndeterminate)("label",o.nzLabel)("listOfSelections",o.nzSelections)("showCheckbox",o.nzShowCheckbox)("showRowSelection",o.nzShowRowSelection)},dependencies:[Ud],encapsulation:2,changeDetection:0})}}return t})(),un=(()=>{class t{constructor(){this.nzAlign=null}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275dir=Ve({type:t,selectors:[["th","nzAlign",""],["td","nzAlign",""]],hostVars:2,hostBindings:function(n,o){n&2&&pt("text-align",o.nzAlign)},inputs:{nzAlign:"nzAlign"}})}}return t})(),qn=(()=>{class t{constructor(){this.nzEllipsis=!0}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275dir=Ve({type:t,selectors:[["th","nzEllipsis",""],["td","nzEllipsis",""]],hostVars:2,hostBindings:function(n,o){n&2&&B("ant-table-cell-ellipsis",o.nzEllipsis)},inputs:{nzEllipsis:[2,"nzEllipsis","nzEllipsis",O]}})}}return t})();var qd=(()=>{class t{constructor(){this.tableLayout="auto",this.theadTemplate=null,this.contentTemplate=null,this.tfootTemplate=null,this.listOfColWidth=[],this.scrollX=null}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=D({type:t,selectors:[["table","nz-table-content",""]],hostVars:8,hostBindings:function(n,o){n&2&&(pt("table-layout",o.tableLayout)("width",o.scrollX)("min-width",o.scrollX?"100%":null),B("ant-table-fixed",o.scrollX))},inputs:{tableLayout:"tableLayout",theadTemplate:"theadTemplate",contentTemplate:"contentTemplate",tfootTemplate:"tfootTemplate",listOfColWidth:"listOfColWidth",scrollX:"scrollX"},attrs:x_,ngContentSelectors:Ri,decls:6,vars:3,consts:[[3,"width","minWidth"],[1,"ant-table-thead"],[3,"ngTemplateOutlet"],[1,"ant-table-summary"]],template:function(n,o){n&1&&(fe(),j(0,b_,1,4,"col",0,_n),u(2,w_,2,1,"thead",1)(3,D_,0,0,"ng-template",2),re(4),u(5,k_,2,1,"tfoot",3)),n&2&&(L(o.listOfColWidth),c(2),z(o.theadTemplate?2:-1),c(),m("ngTemplateOutlet",o.contentTemplate),c(2),z(o.tfootTemplate?5:-1))},dependencies:[ie],encapsulation:2,changeDetection:0})}}return t})(),zg=(()=>{class t{constructor(e,n){this.nzTableStyleService=e,this.renderer=n,this.hostWidth$=new Ae(null),this.enableAutoMeasure$=new Ae(!1),this.destroy$=new H}ngOnInit(){if(this.nzTableStyleService){let{enableAutoMeasure$:e,hostWidth$:n}=this.nzTableStyleService;e.pipe(P(this.destroy$)).subscribe(this.enableAutoMeasure$),n.pipe(P(this.destroy$)).subscribe(this.hostWidth$)}}ngAfterViewInit(){this.nzTableStyleService.columnCount$.pipe(P(this.destroy$)).subscribe(e=>{this.renderer.setAttribute(this.tdElement.nativeElement,"colspan",`${e}`)})}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}static{this.\u0275fac=function(n){return new(n||t)(T(io),T(xt))}}static{this.\u0275cmp=D({type:t,selectors:[["tr","nz-table-fixed-row",""],["tr","nzExpand",""]],viewQuery:function(n,o){if(n&1&&G(jd,7),n&2){let a;R(a=Y())&&(o.tdElement=a.first)}},attrs:P_,ngContentSelectors:Ri,decls:7,vars:3,consts:[["tdElement",""],["contentTemplate",""],[1,"nz-disable-td","ant-table-cell"],[1,"ant-table-expanded-row-fixed",2,"position","sticky","left","0","overflow","hidden",3,"width"],[3,"ngTemplateOutlet"],[1,"ant-table-expanded-row-fixed",2,"position","sticky","left","0","overflow","hidden"]],template:function(n,o){n&1&&(fe(),r(0,"td",2,0),u(2,O_,3,5,"div",3),cn(3,"async"),u(4,F_,1,1,null,4),s(),u(5,E_,1,0,"ng-template",null,1,V)),n&2&&(c(2),z(ui(3,1,o.enableAutoMeasure$)?2:4))},dependencies:[Wr,ie],encapsulation:2,changeDetection:0})}}return t})(),Sg=(()=>{class t{constructor(){this.tableLayout="auto",this.listOfColWidth=[],this.theadTemplate=null,this.contentTemplate=null,this.tfootTemplate=null}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=D({type:t,selectors:[["nz-table-inner-default"]],hostAttrs:[1,"ant-table-container"],inputs:{tableLayout:"tableLayout",listOfColWidth:"listOfColWidth",theadTemplate:"theadTemplate",contentTemplate:"contentTemplate",tfootTemplate:"tfootTemplate"},decls:2,vars:5,consts:[[1,"ant-table-content"],["nz-table-content","",3,"contentTemplate","tableLayout","listOfColWidth","theadTemplate","tfootTemplate"]],template:function(n,o){n&1&&(r(0,"div",0),h(1,"table",1),s()),n&2&&(c(),m("contentTemplate",o.contentTemplate)("tableLayout",o.tableLayout)("listOfColWidth",o.listOfColWidth)("theadTemplate",o.theadTemplate)("tfootTemplate",o.tfootTemplate))},dependencies:[qd],encapsulation:2,changeDetection:0})}}return t})(),yg=(()=>{class t{constructor(e,n){this.nzResizeObserver=e,this.ngZone=n,this.listOfMeasureColumn=[],this.listOfAutoWidth=new F,this.destroy$=new H}ngAfterViewInit(){this.listOfTdElement.changes.pipe(rt(this.listOfTdElement)).pipe(St(e=>fn(e.toArray().map(n=>this.nzResizeObserver.observe(n).pipe(ae(([o])=>{let{width:a}=o.target.getBoundingClientRect();return Math.floor(a)}))))),jr(16),P(this.destroy$)).subscribe(e=>{this.ngZone instanceof et&&et.isInAngularZone()?this.listOfAutoWidth.next(e):this.ngZone.run(()=>this.listOfAutoWidth.next(e))})}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}static{this.\u0275fac=function(n){return new(n||t)(T(to),T(et))}}static{this.\u0275cmp=D({type:t,selectors:[["tr","nz-table-measure-row",""]],viewQuery:function(n,o){if(n&1&&G(jd,5),n&2){let a;R(a=Y())&&(o.listOfTdElement=a)}},hostAttrs:[1,"ant-table-measure-now"],inputs:{listOfMeasureColumn:"listOfMeasureColumn"},outputs:{listOfAutoWidth:"listOfAutoWidth"},attrs:A_,decls:2,vars:0,consts:[["tdElement",""],[1,"nz-disable-td",2,"padding","0","border","0","height","0"]],template:function(n,o){n&1&&j(0,R_,2,0,"td",1,_n),n&2&&L(o.listOfMeasureColumn)},encapsulation:2,changeDetection:0})}}return t})(),Yt=(()=>{class t{constructor(){if(this.isInsideTable=!1,this.showEmpty$=new Ae(!1),this.noResult$=new Ae(void 0),this.listOfMeasureColumn$=new Ae([]),this.destroy$=new H,this.nzTableStyleService=_(io,{optional:!0}),this.isInsideTable=!!this.nzTableStyleService,this.nzTableStyleService){let{showEmpty$:e,noResult$:n,listOfMeasureColumn$:o}=this.nzTableStyleService;n.pipe(P(this.destroy$)).subscribe(this.noResult$),o.pipe(P(this.destroy$)).subscribe(this.listOfMeasureColumn$),e.pipe(P(this.destroy$)).subscribe(this.showEmpty$)}}onListOfAutoWidthChange(e){this.nzTableStyleService?.setListOfAutoWidth(e)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=D({type:t,selectors:[["tbody"]],hostVars:2,hostBindings:function(n,o){n&2&&B("ant-table-tbody",o.isInsideTable)},ngContentSelectors:Ri,decls:5,vars:6,consts:[["nz-table-fixed-row","",1,"ant-table-placeholder"],["nz-table-measure-row","",3,"listOfMeasureColumn"],["nz-table-measure-row","",3,"listOfAutoWidth","listOfMeasureColumn"],["nzComponentName","table",3,"specificContent"]],template:function(n,o){if(n&1&&(fe(),u(0,V_,1,1),cn(1,"async"),re(2),u(3,H_,3,3,"tr",0),cn(4,"async")),n&2){let a;z((a=ui(1,2,o.listOfMeasureColumn$))?0:-1,a),c(3),z(ui(4,4,o.showEmpty$)?3:-1)}},dependencies:[Wr,yg,zg,Wa,ia],encapsulation:2,changeDetection:0})}}return t})(),Ys=(()=>{class t{setScrollPositionClassName(e=!1){let{scrollWidth:n,scrollLeft:o,clientWidth:a}=this.tableBodyElement.nativeElement,d="ant-table-ping-left",f="ant-table-ping-right";n===a&&n!==0||e?(this.renderer.removeClass(this.tableMainElement,d),this.renderer.removeClass(this.tableMainElement,f)):o===0?(this.renderer.removeClass(this.tableMainElement,d),this.renderer.addClass(this.tableMainElement,f)):n===o+a?(this.renderer.removeClass(this.tableMainElement,f),this.renderer.addClass(this.tableMainElement,d)):(this.renderer.addClass(this.tableMainElement,d),this.renderer.addClass(this.tableMainElement,f))}constructor(e,n,o,a){this.renderer=e,this.ngZone=n,this.platform=o,this.resizeService=a,this.data=[],this.scrollX=null,this.scrollY=null,this.contentTemplate=null,this.widthConfig=[],this.listOfColWidth=[],this.theadTemplate=null,this.tfootTemplate=null,this.tfootFixed=null,this.virtualTemplate=null,this.virtualItemSize=0,this.virtualMaxBufferPx=200,this.virtualMinBufferPx=100,this.virtualForTrackBy=d=>d,this.headerStyleMap={},this.bodyStyleMap={},this.verticalScrollBarWidth=0,this.noDataVirtualHeight="182px",this.data$=new H,this.scroll$=new H,this.destroy$=new H}ngOnChanges(e){let{scrollX:n,scrollY:o,data:a}=e;if(n||o){let d=this.verticalScrollBarWidth!==0;this.headerStyleMap={overflowX:"hidden",overflowY:this.scrollY&&d?"scroll":"hidden"},this.bodyStyleMap={overflowY:this.scrollY?"scroll":"hidden",overflowX:this.scrollX?"auto":null,maxHeight:this.scrollY},this.ngZone.runOutsideAngular(()=>this.scroll$.next())}a&&this.ngZone.runOutsideAngular(()=>this.data$.next())}ngAfterViewInit(){this.platform.isBrowser&&this.ngZone.runOutsideAngular(()=>{let e=this.scroll$.pipe(rt(null),lo(0),St(()=>Qt(this.tableBodyElement.nativeElement,"scroll").pipe(rt(!0))),P(this.destroy$)),n=this.resizeService.subscribe().pipe(P(this.destroy$)),o=this.data$.pipe(P(this.destroy$));gt(e,n,o,this.scroll$).pipe(rt(!0),lo(0),P(this.destroy$)).subscribe(()=>this.setScrollPositionClassName()),e.pipe(Xe(()=>!!this.scrollY)).subscribe(()=>{this.tableHeaderElement.nativeElement.scrollLeft=this.tableBodyElement.nativeElement.scrollLeft,this.tableFootElement&&(this.tableFootElement.nativeElement.scrollLeft=this.tableBodyElement.nativeElement.scrollLeft)})})}ngOnDestroy(){this.setScrollPositionClassName(!0),this.destroy$.next(),this.destroy$.complete()}static{this.\u0275fac=function(n){return new(n||t)(T(xt),T(et),T(ki),T(as))}}static{this.\u0275cmp=D({type:t,selectors:[["nz-table-inner-scroll"]],viewQuery:function(n,o){if(n&1&&(G(j_,5,pe),G(L_,5,pe),G(B_,5,pe),G(hi,5,hi)),n&2){let a;R(a=Y())&&(o.tableHeaderElement=a.first),R(a=Y())&&(o.tableBodyElement=a.first),R(a=Y())&&(o.tableFootElement=a.first),R(a=Y())&&(o.cdkVirtualScrollViewport=a.first)}},hostAttrs:[1,"ant-table-container"],inputs:{data:"data",scrollX:"scrollX",scrollY:"scrollY",contentTemplate:"contentTemplate",widthConfig:"widthConfig",listOfColWidth:"listOfColWidth",theadTemplate:"theadTemplate",tfootTemplate:"tfootTemplate",tfootFixed:"tfootFixed",virtualTemplate:"virtualTemplate",virtualItemSize:"virtualItemSize",virtualMaxBufferPx:"virtualMaxBufferPx",virtualMinBufferPx:"virtualMinBufferPx",tableMainElement:"tableMainElement",virtualForTrackBy:"virtualForTrackBy",verticalScrollBarWidth:"verticalScrollBarWidth",noDataVirtualHeight:"noDataVirtualHeight"},features:[Q],decls:2,vars:1,consts:[["tableHeaderElement",""],["tableBodyElement",""],["tableFootElement",""],[1,"ant-table-content",3,"style"],[1,"ant-table-header","nz-table-hide-scrollbar"],["nz-table-content","","tableLayout","fixed",3,"scrollX","listOfColWidth","theadTemplate","tfootTemplate"],[1,"ant-table-body",3,"style"],[3,"itemSize","maxBufferPx","minBufferPx","height"],[1,"ant-table-summary",3,"style"],[1,"ant-table-body"],["nz-table-content","","tableLayout","fixed",3,"scrollX","listOfColWidth","contentTemplate"],[3,"itemSize","maxBufferPx","minBufferPx"],["nz-table-content","","tableLayout","fixed",3,"scrollX","listOfColWidth"],[4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ant-table-summary"],["nz-table-content","","tableLayout","fixed",3,"scrollX","listOfColWidth","tfootTemplate"],[1,"ant-table-content"],["nz-table-content","","tableLayout","fixed",3,"scrollX","listOfColWidth","theadTemplate","contentTemplate","tfootTemplate"]],template:function(n,o){n&1&&u(0,K_,6,8)(1,Z_,3,7,"div",3),n&2&&z(o.scrollY?0:1)},dependencies:[qd,Nl,ya,ba,hi,ie,Yt],encapsulation:2,changeDetection:0})}}return t})(),xg=(()=>{class t{constructor(e){this.templateRef=e}static ngTemplateContextGuard(e,n){return!0}static{this.\u0275fac=function(n){return new(n||t)(T(mt))}}static{this.\u0275dir=Ve({type:t,selectors:[["","nz-virtual-scroll",""]],exportAs:["nzVirtualScroll"]})}}return t})(),Gd=(()=>{class t{constructor(){this.title=null,this.footer=null}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=D({type:t,selectors:[["nz-table-title-footer"]],hostVars:4,hostBindings:function(n,o){n&2&&B("ant-table-title",o.title!==null)("ant-table-footer",o.footer!==null)},inputs:{title:"title",footer:"footer"},decls:2,vars:2,consts:[[4,"nzStringTemplateOutlet"]],template:function(n,o){n&1&&u(0,J_,2,1,"ng-container",0)(1,X_,2,1,"ng-container",0),n&2&&(m("nzStringTemplateOutlet",o.title),c(),m("nzStringTemplateOutlet",o.footer))},dependencies:[Re,je],encapsulation:2,changeDetection:0})}}return t})(),Vd="table",qt=(()=>{let t,i=[],e=[],n,o=[],a=[],d,f=[],x=[],k,N=[],I=[],$,b=[],v=[],S,w=[],A=[],q,ce=[],_t=[];return class Vs{static{let Je=typeof Symbol=="function"&&Symbol.metadata?Object.create(null):void 0;t=[_e()],n=[_e()],d=[_e()],k=[_e()],$=[_e()],S=[_e()],q=[_e()],he(null,null,t,{kind:"field",name:"nzLoadingIndicator",static:!1,private:!1,access:{has:X=>"nzLoadingIndicator"in X,get:X=>X.nzLoadingIndicator,set:(X,ue)=>{X.nzLoadingIndicator=ue}},metadata:Je},i,e),he(null,null,n,{kind:"field",name:"nzBordered",static:!1,private:!1,access:{has:X=>"nzBordered"in X,get:X=>X.nzBordered,set:(X,ue)=>{X.nzBordered=ue}},metadata:Je},o,a),he(null,null,d,{kind:"field",name:"nzSize",static:!1,private:!1,access:{has:X=>"nzSize"in X,get:X=>X.nzSize,set:(X,ue)=>{X.nzSize=ue}},metadata:Je},f,x),he(null,null,k,{kind:"field",name:"nzShowSizeChanger",static:!1,private:!1,access:{has:X=>"nzShowSizeChanger"in X,get:X=>X.nzShowSizeChanger,set:(X,ue)=>{X.nzShowSizeChanger=ue}},metadata:Je},N,I),he(null,null,$,{kind:"field",name:"nzHideOnSinglePage",static:!1,private:!1,access:{has:X=>"nzHideOnSinglePage"in X,get:X=>X.nzHideOnSinglePage,set:(X,ue)=>{X.nzHideOnSinglePage=ue}},metadata:Je},b,v),he(null,null,S,{kind:"field",name:"nzShowQuickJumper",static:!1,private:!1,access:{has:X=>"nzShowQuickJumper"in X,get:X=>X.nzShowQuickJumper,set:(X,ue)=>{X.nzShowQuickJumper=ue}},metadata:Je},w,A),he(null,null,q,{kind:"field",name:"nzSimple",static:!1,private:!1,access:{has:X=>"nzSimple"in X,get:X=>X.nzSimple,set:(X,ue)=>{X.nzSimple=ue}},metadata:Je},ce,_t),Je&&Object.defineProperty(this,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:Je})}onPageSizeChange(Je){this.nzTableDataService.updatePageSize(Je)}onPageIndexChange(Je){this.nzTableDataService.updatePageIndex(Je)}constructor(Je,X,ue,On,oi,$i,Wi){this.elementRef=Je,this.nzResizeObserver=X,this.nzConfigService=ue,this.cdr=On,this.nzTableStyleService=oi,this.nzTableDataService=$i,this.directionality=Wi,this._nzModuleName=Vd,this.nzTableLayout="auto",this.nzShowTotal=null,this.nzItemRender=null,this.nzTitle=null,this.nzFooter=null,this.nzNoResult=void 0,this.nzPageSizeOptions=[10,20,30,40,50],this.nzVirtualItemSize=0,this.nzVirtualMaxBufferPx=200,this.nzVirtualMinBufferPx=100,this.nzVirtualForTrackBy=qi=>qi,this.nzLoadingDelay=0,this.nzPageIndex=1,this.nzPageSize=10,this.nzTotal=0,this.nzWidthConfig=[],this.nzData=[],this.nzCustomColumn=[],this.nzPaginationPosition="bottom",this.nzScroll={x:null,y:null},this.noDataVirtualHeight="182px",this.nzPaginationType="default",this.nzFrontPagination=!0,this.nzTemplateMode=!1,this.nzShowPagination=!0,this.nzLoading=!1,this.nzOuterBordered=!1,this.nzLoadingIndicator=U(this,i,null),this.nzBordered=(U(this,e),U(this,o,!1)),this.nzSize=(U(this,a),U(this,f,"default")),this.nzShowSizeChanger=(U(this,x),U(this,N,!1)),this.nzHideOnSinglePage=(U(this,I),U(this,b,!1)),this.nzShowQuickJumper=(U(this,v),U(this,w,!1)),this.nzSimple=(U(this,A),U(this,ce,!1)),this.nzPageSizeChange=(U(this,_t),new F),this.nzPageIndexChange=new F,this.nzQueryParams=new F,this.nzCurrentPageDataChange=new F,this.nzCustomColumnChange=new F,this.data=[],this.scrollX=null,this.scrollY=null,this.theadTemplate=null,this.tfootTemplate=null,this.tfootFixed=null,this.listOfAutoColWidth=[],this.listOfManualColWidth=[],this.hasFixLeft=!1,this.hasFixRight=!1,this.showPagination=!0,this.destroy$=new H,this.templateMode$=new Ae(!1),this.dir="ltr",this.verticalScrollBarWidth=0,this.nzConfigService.getConfigChangeEventForComponent(Vd).pipe(P(this.destroy$)).subscribe(()=>{this.cdr.markForCheck()})}ngOnInit(){let{pageIndexDistinct$:Je,pageSizeDistinct$:X,listOfCurrentPageData$:ue,total$:On,queryParams$:oi,listOfCustomColumn$:$i}=this.nzTableDataService,{theadTemplate$:Wi,tfootTemplate$:qi,tfootFixed$:Eo,hasFixLeft$:Ao,hasFixRight$:Vr}=this.nzTableStyleService;this.dir=this.directionality.value,this.directionality.change?.pipe(P(this.destroy$)).subscribe(qe=>{this.dir=qe,this.cdr.detectChanges()}),oi.pipe(P(this.destroy$)).subscribe(this.nzQueryParams),Je.pipe(P(this.destroy$)).subscribe(qe=>{qe!==this.nzPageIndex&&(this.nzPageIndex=qe,this.nzPageIndexChange.next(qe))}),X.pipe(P(this.destroy$)).subscribe(qe=>{qe!==this.nzPageSize&&(this.nzPageSize=qe,this.nzPageSizeChange.next(qe))}),On.pipe(P(this.destroy$),Xe(()=>this.nzFrontPagination)).subscribe(qe=>{qe!==this.nzTotal&&(this.nzTotal=qe,this.cdr.markForCheck())}),ue.pipe(P(this.destroy$)).subscribe(qe=>{this.data=qe,this.nzCurrentPageDataChange.next(qe),this.cdr.markForCheck()}),$i.pipe(P(this.destroy$)).subscribe(qe=>{this.nzCustomColumn=qe,this.nzCustomColumnChange.next(qe),this.cdr.markForCheck()}),Wi.pipe(P(this.destroy$)).subscribe(qe=>{this.theadTemplate=qe,this.cdr.markForCheck()}),fn([qi,Eo]).pipe(P(this.destroy$)).subscribe(([qe,Ro])=>{this.tfootTemplate=qe,this.tfootFixed=Ro,this.cdr.markForCheck()}),Ao.pipe(P(this.destroy$)).subscribe(qe=>{this.hasFixLeft=qe,this.cdr.markForCheck()}),Vr.pipe(P(this.destroy$)).subscribe(qe=>{this.hasFixRight=qe,this.cdr.markForCheck()}),fn([On,this.templateMode$]).pipe(ae(([qe,Ro])=>qe===0&&!Ro),P(this.destroy$)).subscribe(qe=>{this.nzTableStyleService.setShowEmpty(qe)}),this.verticalScrollBarWidth=ec("vertical"),this.nzTableStyleService.listOfListOfThWidthPx$.pipe(P(this.destroy$)).subscribe(qe=>{this.listOfAutoColWidth=qe,this.cdr.markForCheck()}),this.nzTableStyleService.manualWidthConfigPx$.pipe(P(this.destroy$)).subscribe(qe=>{this.listOfManualColWidth=qe,this.cdr.markForCheck()})}ngOnChanges(Je){let{nzScroll:X,nzPageIndex:ue,nzPageSize:On,nzFrontPagination:oi,nzData:$i,nzCustomColumn:Wi,nzWidthConfig:qi,nzNoResult:Eo,nzTemplateMode:Ao}=Je;ue&&this.nzTableDataService.updatePageIndex(this.nzPageIndex),On&&this.nzTableDataService.updatePageSize(this.nzPageSize),$i&&(this.nzData=this.nzData||[],this.nzTableDataService.updateListOfData(this.nzData)),Wi&&(this.nzCustomColumn=this.nzCustomColumn||[],this.nzTableDataService.updateListOfCustomColumn(this.nzCustomColumn)),oi&&this.nzTableDataService.updateFrontPagination(this.nzFrontPagination),X&&this.setScrollOnChanges(),qi&&this.nzTableStyleService.setTableWidthConfig(this.nzWidthConfig),Ao&&this.templateMode$.next(this.nzTemplateMode),Eo&&this.nzTableStyleService.setNoResult(this.nzNoResult),this.updateShowPagination()}ngAfterViewInit(){this.nzResizeObserver.observe(this.elementRef).pipe(ae(([Je])=>{let{width:X}=Je.target.getBoundingClientRect(),ue=this.scrollY?this.verticalScrollBarWidth:0;return Math.floor(X-ue)}),P(this.destroy$)).subscribe(this.nzTableStyleService.hostWidth$),this.nzTableInnerScrollComponent&&this.nzTableInnerScrollComponent.cdkVirtualScrollViewport&&(this.cdkVirtualScrollViewport=this.nzTableInnerScrollComponent.cdkVirtualScrollViewport)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}setScrollOnChanges(){this.scrollX=this.nzScroll&&this.nzScroll.x||null,this.scrollY=this.nzScroll&&this.nzScroll.y||null,this.nzTableStyleService.setScroll(this.scrollX,this.scrollY)}updateShowPagination(){this.showPagination=this.nzHideOnSinglePage&&this.nzData.length>this.nzPageSize||this.nzData.length>0&&!this.nzHideOnSinglePage||!this.nzFrontPagination&&this.nzTotal>this.nzPageSize}static{this.\u0275fac=function(X){return new(X||Vs)(T(pe),T(to),T(nt),T(se),T(io),T(As),T(Ee))}}static{this.\u0275cmp=D({type:Vs,selectors:[["nz-table"]],contentQueries:function(X,ue,On){if(X&1&&it(On,xg,5),X&2){let oi;R(oi=Y())&&(ue.nzVirtualScrollDirective=oi.first)}},viewQuery:function(X,ue){if(X&1&&G(Ys,5),X&2){let On;R(On=Y())&&(ue.nzTableInnerScrollComponent=On.first)}},hostAttrs:[1,"ant-table-wrapper"],hostVars:4,hostBindings:function(X,ue){X&2&&B("ant-table-wrapper-rtl",ue.dir==="rtl")("ant-table-custom-column",ue.nzCustomColumn.length)},inputs:{nzTableLayout:"nzTableLayout",nzShowTotal:"nzShowTotal",nzItemRender:"nzItemRender",nzTitle:"nzTitle",nzFooter:"nzFooter",nzNoResult:"nzNoResult",nzPageSizeOptions:"nzPageSizeOptions",nzVirtualItemSize:"nzVirtualItemSize",nzVirtualMaxBufferPx:"nzVirtualMaxBufferPx",nzVirtualMinBufferPx:"nzVirtualMinBufferPx",nzVirtualForTrackBy:"nzVirtualForTrackBy",nzLoadingDelay:"nzLoadingDelay",nzPageIndex:"nzPageIndex",nzPageSize:"nzPageSize",nzTotal:"nzTotal",nzWidthConfig:"nzWidthConfig",nzData:"nzData",nzCustomColumn:"nzCustomColumn",nzPaginationPosition:"nzPaginationPosition",nzScroll:"nzScroll",noDataVirtualHeight:"noDataVirtualHeight",nzPaginationType:"nzPaginationType",nzFrontPagination:[2,"nzFrontPagination","nzFrontPagination",O],nzTemplateMode:[2,"nzTemplateMode","nzTemplateMode",O],nzShowPagination:[2,"nzShowPagination","nzShowPagination",O],nzLoading:[2,"nzLoading","nzLoading",O],nzOuterBordered:[2,"nzOuterBordered","nzOuterBordered",O],nzLoadingIndicator:"nzLoadingIndicator",nzBordered:[2,"nzBordered","nzBordered",O],nzSize:"nzSize",nzShowSizeChanger:[2,"nzShowSizeChanger","nzShowSizeChanger",O],nzHideOnSinglePage:[2,"nzHideOnSinglePage","nzHideOnSinglePage",O],nzShowQuickJumper:[2,"nzShowQuickJumper","nzShowQuickJumper",O],nzSimple:[2,"nzSimple","nzSimple",O]},outputs:{nzPageSizeChange:"nzPageSizeChange",nzPageIndexChange:"nzPageIndexChange",nzQueryParams:"nzQueryParams",nzCurrentPageDataChange:"nzCurrentPageDataChange",nzCustomColumnChange:"nzCustomColumnChange"},exportAs:["nzTable"],features:[Le([io,As]),Q],ngContentSelectors:Ri,decls:13,vars:26,consts:[["tableMainElement",""],["paginationTemplate",""],["contentTemplate",""],[3,"nzDelay","nzSpinning","nzIndicator"],[3,"ngTemplateOutlet"],[1,"ant-table"],[3,"title"],[3,"data","scrollX","scrollY","contentTemplate","listOfColWidth","theadTemplate","tfootTemplate","tfootFixed","verticalScrollBarWidth","virtualTemplate","virtualItemSize","virtualMaxBufferPx","virtualMinBufferPx","tableMainElement","virtualForTrackBy","noDataVirtualHeight"],[3,"tableLayout","listOfColWidth","theadTemplate","contentTemplate","tfootTemplate"],[3,"footer"],[1,"ant-table-pagination","ant-table-pagination-right",3,"hidden","nzShowSizeChanger","nzPageSizeOptions","nzItemRender","nzShowQuickJumper","nzHideOnSinglePage","nzShowTotal","nzSize","nzPageSize","nzTotal","nzSimple","nzPageIndex"],[1,"ant-table-pagination","ant-table-pagination-right",3,"nzPageSizeChange","nzPageIndexChange","hidden","nzShowSizeChanger","nzPageSizeOptions","nzItemRender","nzShowQuickJumper","nzHideOnSinglePage","nzShowTotal","nzSize","nzPageSize","nzTotal","nzSimple","nzPageIndex"]],template:function(X,ue){X&1&&(fe(),r(0,"nz-spin",3),u(1,tg,1,1,null,4),r(2,"div",5,0),u(4,ng,1,1,"nz-table-title-footer",6)(5,ig,1,16,"nz-table-inner-scroll",7)(6,og,1,5,"nz-table-inner-default",8)(7,ag,1,1,"nz-table-title-footer",9),s(),u(8,sg,1,1,null,4),s(),u(9,cg,1,1,"ng-template",null,1,V)(11,dg,1,0,"ng-template",null,2,V)),X&2&&(m("nzDelay",ue.nzLoadingDelay)("nzSpinning",ue.nzLoading)("nzIndicator",ue.nzLoadingIndicator),c(),z(ue.nzPaginationPosition==="both"||ue.nzPaginationPosition==="top"?1:-1),c(),B("ant-table-rtl",ue.dir==="rtl")("ant-table-fixed-header",ue.nzData.length&&ue.scrollY)("ant-table-fixed-column",ue.scrollX)("ant-table-has-fix-left",ue.hasFixLeft)("ant-table-has-fix-right",ue.hasFixRight)("ant-table-bordered",ue.nzBordered)("nz-table-out-bordered",ue.nzOuterBordered&&!ue.nzBordered)("ant-table-middle",ue.nzSize==="middle")("ant-table-small",ue.nzSize==="small"),c(2),z(ue.nzTitle?4:-1),c(),z(ue.scrollY||ue.scrollX?5:6),c(2),z(ue.nzFooter?7:-1),c(),z(ue.nzPaginationPosition==="both"||ue.nzPaginationPosition==="bottom"?8:-1))},dependencies:[Do,ie,Gd,Ys,Sg,Ad,Ns],encapsulation:2,changeDetection:0})}}})();var Gt=(()=>{class t{constructor(){this.destroy$=new H,this.listOfFixedColumns$=new dt(1),this.listOfColumns$=new dt(1),this.listOfFixedColumnsChanges$=this.listOfFixedColumns$.pipe(St(e=>gt(this.listOfFixedColumns$,...e.map(n=>n.changes$)).pipe(so(()=>this.listOfFixedColumns$))),P(this.destroy$)),this.listOfFixedLeftColumnChanges$=this.listOfFixedColumnsChanges$.pipe(ae(e=>e.filter(n=>n.nzLeft!==!1))),this.listOfFixedRightColumnChanges$=this.listOfFixedColumnsChanges$.pipe(ae(e=>e.filter(n=>n.nzRight!==!1))),this.listOfColumnsChanges$=this.listOfColumns$.pipe(St(e=>gt(this.listOfColumns$,...e.map(n=>n.changes$)).pipe(so(()=>this.listOfColumns$))),P(this.destroy$)),this.nzTableStyleService=_(io,{optional:!0}),this.isInsideTable=!!this.nzTableStyleService}ngAfterContentInit(){this.nzTableStyleService&&(this.listOfCellFixedDirective.changes.pipe(rt(this.listOfCellFixedDirective),P(this.destroy$)).subscribe(this.listOfFixedColumns$),this.listOfNzThDirective.changes.pipe(rt(this.listOfNzThDirective),P(this.destroy$)).subscribe(this.listOfColumns$),this.listOfFixedLeftColumnChanges$.subscribe(e=>{e.forEach(n=>n.setIsLastLeft(n===e[e.length-1]))}),this.listOfFixedRightColumnChanges$.subscribe(e=>{e.forEach(n=>n.setIsFirstRight(n===e[0]))}),fn([this.nzTableStyleService.listOfListOfThWidth$,this.listOfFixedLeftColumnChanges$]).pipe(P(this.destroy$)).subscribe(([e,n])=>{n.forEach((o,a)=>{if(o.isAutoLeft){let f=n.slice(0,a).reduce((k,N)=>k+(N.colspan||N.colSpan||1),0),x=e.slice(0,f).reduce((k,N)=>k+N,0);o.setAutoLeftWidth(`${x}px`)}})}),fn([this.nzTableStyleService.listOfListOfThWidth$,this.listOfFixedRightColumnChanges$]).pipe(P(this.destroy$)).subscribe(([e,n])=>{n.forEach((o,a)=>{let d=n[n.length-a-1];if(d.isAutoRight){let x=n.slice(n.length-a,n.length).reduce((N,I)=>N+(I.colspan||I.colSpan||1),0),k=e.slice(e.length-x,e.length).reduce((N,I)=>N+I,0);d.setAutoRightWidth(`${k}px`)}})}))}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275dir=Ve({type:t,selectors:[["tr",3,"mat-row","",3,"mat-header-row","",3,"nz-table-measure-row","",3,"nzExpand","",3,"nz-table-fixed-row",""]],contentQueries:function(n,o,a){if(n&1&&(it(a,Wt,4),it(a,Cg,4)),n&2){let d;R(d=Y())&&(o.listOfNzThDirective=d),R(d=Y())&&(o.listOfCellFixedDirective=d)}},hostVars:2,hostBindings:function(n,o){n&2&&B("ant-table-row",o.isInsideTable)}})}}return t})(),en=(()=>{class t{constructor(e,n){this.elementRef=e,this.renderer=n,this.destroy$=new H,this.isInsideTable=!1,this.nzSortOrderChange=new F,this.nzTableStyleService=_(io,{optional:!0}),this.nzTableDataService=_(As,{optional:!0}),this.isInsideTable=!!this.nzTableStyleService}ngOnInit(){this.nzTableStyleService&&this.nzTableStyleService.setTheadTemplate(this.templateRef)}ngAfterContentInit(){if(this.nzTableStyleService){let e=this.listOfNzTrDirective.changes.pipe(rt(this.listOfNzTrDirective),ae(d=>d&&d.first)),n=e.pipe(St(d=>d?d.listOfColumnsChanges$:Si),P(this.destroy$));n.subscribe(d=>this.nzTableStyleService.setListOfTh(d)),this.nzTableStyleService.enableAutoMeasure$.pipe(St(d=>d?n:we([]))).pipe(P(this.destroy$)).subscribe(d=>this.nzTableStyleService.setListOfMeasureColumn(d));let o=e.pipe(St(d=>d?d.listOfFixedLeftColumnChanges$:Si),P(this.destroy$)),a=e.pipe(St(d=>d?d.listOfFixedRightColumnChanges$:Si),P(this.destroy$));o.subscribe(d=>{this.nzTableStyleService.setHasFixLeft(d.length!==0)}),a.subscribe(d=>{this.nzTableStyleService.setHasFixRight(d.length!==0)})}if(this.nzTableDataService){let e=this.listOfNzThAddOnComponent.changes.pipe(rt(this.listOfNzThAddOnComponent));e.pipe(St(()=>gt(...this.listOfNzThAddOnComponent.map(a=>a.manualClickOrder$))),P(this.destroy$)).subscribe(a=>{let d={key:a.nzColumnKey,value:a.sortOrder};this.nzSortOrderChange.emit(d),a.nzSortFn&&a.nzSortPriority===!1&&this.listOfNzThAddOnComponent.filter(f=>f!==a).forEach(f=>f.clearSortOrder())}),e.pipe(St(a=>gt(e,...a.map(d=>d.calcOperatorChange$)).pipe(so(()=>e))),ae(a=>a.filter(d=>!!d.nzSortFn||!!d.nzFilterFn).map(d=>{let{nzSortFn:f,sortOrder:x,nzFilterFn:k,nzFilterValue:N,nzSortPriority:I,nzColumnKey:$}=d;return{key:$,sortFn:f,sortPriority:I,sortOrder:x,filterFn:k,filterValue:N}})),lo(0),P(this.destroy$)).subscribe(a=>{this.nzTableDataService?.listOfCalcOperator$.next(a)})}}ngAfterViewInit(){this.nzTableStyleService&&this.renderer.removeChild(this.renderer.parentNode(this.elementRef.nativeElement),this.elementRef.nativeElement)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static{this.\u0275fac=function(n){return new(n||t)(T(pe),T(xt))}}static{this.\u0275cmp=D({type:t,selectors:[["thead",9,"ant-table-thead"]],contentQueries:function(n,o,a){if(n&1&&(it(a,Gt,5),it(a,Wd,5)),n&2){let d;R(d=Y())&&(o.listOfNzTrDirective=d),R(d=Y())&&(o.listOfNzThAddOnComponent=d)}},viewQuery:function(n,o){if(n&1&&G(mg,7),n&2){let a;R(a=Y())&&(o.templateRef=a.first)}},outputs:{nzSortOrderChange:"nzSortOrderChange"},ngContentSelectors:Ri,decls:3,vars:1,consts:[["contentTemplate",""],[3,"ngTemplateOutlet"]],template:function(n,o){n&1&&(fe(),u(0,pg,1,0,"ng-template",null,0,V)(2,hg,1,1,null,1)),n&2&&(c(2),z(o.isInsideTable?-1:2))},dependencies:[ie],encapsulation:2,changeDetection:0})}}return t})();var Vt=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=Ce({type:t})}static{this.\u0275inj=ge({imports:[qt,Wd,oa,Yt,Gd,Ys,$d,Bd,Ud,Ld,aa]})}}return t})();function wg(t,i){if(t&1&&(te(0),h(1,"nz-icon",1),ne()),t&2){let e=i.$implicit;c(),m("nzType",e)}}var Dg=()=>({minWidth:"46px"}),Mg=()=>({visible:!1});function kg(t,i){if(t&1&&(te(0),p(1),ne()),t&2){let e=l().$implicit;c(),W(" ",e.tab.label," ")}}function Pg(t,i){if(t&1){let e=M();r(0,"li",7),y("click",function(){let o=g(e).$implicit,a=l(2);return C(a.onSelect(o))})("contextmenu",function(o){let a=g(e).$implicit,d=l(2);return C(d.onContextmenu(a,o))}),u(1,kg,2,1,"ng-container",8),s()}if(t&2){let e=i.$implicit;B("ant-tabs-dropdown-menu-item-disabled",e.disabled),m("nzSelected",e.active)("nzDisabled",e.disabled),c(),m("nzStringTemplateOutlet",e.tab.label)("nzStringTemplateOutletContext",xe(6,Mg))}}function Ig(t,i){if(t&1&&(r(0,"ul",4),j(1,Pg,2,7,"li",6,Ne),s()),t&2){let e=l();c(),L(e.items)}}function Og(t,i){if(t&1){let e=M();r(0,"button",9),y("click",function(){g(e);let o=l();return C(o.addClicked.emit())}),s()}if(t&2){let e=l();m("addIcon",e.addIcon)}}var Ng=["navWarp"],Fg=["navList"],Eg=["*"];function Ag(t,i){if(t&1){let e=M();r(0,"button",8),y("click",function(){g(e);let o=l();return C(o.addClicked.emit())}),s()}if(t&2){let e=l();m("addIcon",e.addIcon),He("tabindex",-1)}}function Rg(t,i){}function Yg(t,i){if(t&1&&(r(0,"div",7),u(1,Rg,0,0,"ng-template",9),s()),t&2){let e=l();c(),m("ngTemplateOutlet",e.extraTemplate)}}var Vg=["nz-tab-body",""];function Hg(t,i){}function jg(t,i){if(t&1&&(te(0),h(1,"nz-icon",1),ne()),t&2){let e=i.$implicit;c(),m("nzType",e)}}var Lg=["contentTemplate"],Bg=[[["","nz-tab-link",""]],"*"],Ug=["[nz-tab-link]","*"];function $g(t,i){t&1&&re(0)}function Wg(t,i){t&1&&re(0,1)}var qg=()=>({visible:!0});function Gg(t,i){if(t&1&&(te(0),p(1),ne()),t&2){let e=l().$implicit;c(),K(e.label)}}function Qg(t,i){if(t&1){let e=M();r(0,"button",10),y("click",function(o){g(e);let a=l().$index,d=l(2);return C(d.onClose(a,o))}),s()}if(t&2){let e=l().$implicit;m("closeIcon",e.nzCloseIcon)}}function Kg(t,i){if(t&1){let e=M();r(0,"div",6),y("click",function(o){let a=g(e),d=a.$implicit,f=a.$index,x=l(2);return C(x.clickNavItem(d,f,o))})("contextmenu",function(o){let a=g(e).$implicit,d=l(2);return C(d.contextmenuNavItem(a,o))}),r(1,"button",7),u(2,Gg,2,1,"ng-container",8)(3,Qg,1,1,"button",9),s()()}if(t&2){let e=i.$implicit,n=i.$index,o=l(2);pt("margin-right",o.position==="horizontal"?o.nzTabBarGutter:null,"px")("margin-bottom",o.position==="vertical"?o.nzTabBarGutter:null,"px"),B("ant-tabs-tab-active",o.nzSelectedIndex===n)("ant-tabs-tab-disabled",e.nzDisabled),c(),m("id",o.getTabContentId(n))("disabled",e.nzDisabled)("tab",e)("active",o.nzSelectedIndex===n),He("tabIndex",o.getTabIndex(e,n))("aria-disabled",e.nzDisabled)("aria-selected",o.nzSelectedIndex===n&&!o.nzHideAll)("aria-controls",o.getTabContentId(n)),c(),m("nzStringTemplateOutlet",e.label)("nzStringTemplateOutletContext",xe(19,qg)),c(),z(e.nzClosable&&o.closable&&!e.nzDisabled?3:-1)}}function Zg(t,i){if(t&1){let e=M();r(0,"nz-tabs-nav",4),y("tabScroll",function(o){g(e);let a=l();return C(a.nzTabListScroll.emit(o))})("selectFocusedIndex",function(o){g(e);let a=l();return C(a.setSelectedIndex(o))})("addClicked",function(){g(e);let o=l();return C(o.onAdd())}),j(1,Kg,4,20,"div",5,Ne),s()}if(t&2){let e=l();ve(e.nzTabBarStyle),m("selectedIndex",e.nzSelectedIndex||0)("inkBarAnimated",e.inkBarAnimated)("addable",e.addable)("addIcon",e.nzAddIcon)("hideBar",e.nzHideAll)("position",e.position)("extraTemplate",e.nzTabBarExtraContent),c(),L(e.tabs)}}function Jg(t,i){}function Xg(t,i){if(t&1&&u(0,Jg,0,0,"ng-template",11),t&2){l();let e=E(4);m("ngTemplateOutlet",e)}}function e0(t,i){}function t0(t,i){if(t&1&&u(0,e0,0,0,"ng-template",11),t&2){l(2);let e=E(4);m("ngTemplateOutlet",e)}}function n0(t,i){if(t&1&&u(0,t0,1,1,null,11),t&2){let e=l().$index,n=l(2);z(n.nzSelectedIndex===e?0:-1)}}function i0(t,i){}function o0(t,i){if(t&1&&u(0,i0,0,0,"ng-template",11),t&2){l(2);let e=E(4);m("ngTemplateOutlet",e)}}function a0(t,i){if(t&1&&u(0,o0,1,1,null,11),t&2){let e=l(),n=e.$implicit,o=e.$index,a=l(2);z(a.nzSelectedIndex===o||n.hasBeenActive?0:-1)}}function r0(t,i){if(t&1&&h(0,"div",12),t&2){let e=l(),n=e.$implicit,o=e.$index,a=l(2);m("id",a.getTabContentId(o))("active",a.nzSelectedIndex===o)("content",n.content)("animated",a.tabPaneAnimated),He("aria-labelledby",a.getTabContentId(o))}}function s0(t,i){if(t&1&&u(0,Xg,1,1,null,11)(1,n0,1,1)(2,a0,1,1)(3,r0,1,5,"ng-template",null,0,V),t&2){let e=i.$implicit,n=l(2);z(e.nzForceRender?0:n.nzDestroyInactiveTabPane?1:2)}}function l0(t,i){if(t&1&&j(0,s0,5,1,null,null,Ne),t&2){let e=l();L(e.tabs)}}var Ja=(()=>{class t{constructor(e){this.elementRef=e,this.addIcon="plus",this.element=this.elementRef.nativeElement}getElementWidth(){return this.element?.offsetWidth||0}getElementHeight(){return this.element?.offsetHeight||0}static{this.\u0275fac=function(n){return new(n||t)(T(pe))}}static{this.\u0275cmp=D({type:t,selectors:[["nz-tab-add-button"],["button","nz-tab-add-button",""]],hostAttrs:["aria-label","Add tab","type","button",1,"ant-tabs-nav-add"],inputs:{addIcon:"addIcon"},decls:1,vars:1,consts:[[4,"nzStringTemplateOutlet"],["nzTheme","outline",3,"nzType"]],template:function(n,o){n&1&&u(0,wg,2,1,"ng-container",0),n&2&&m("nzStringTemplateOutlet",o.addIcon)},dependencies:[Re,je,J,me],encapsulation:2})}}return t})(),Qd=(()=>{class t{get _animated(){return this.animationMode!=="NoopAnimations"&&this.animated}constructor(e,n){this.elementRef=e,this.ngZone=n,this.position="horizontal",this.animated=!0,this.animationMode=_(fa,{optional:!0})}alignToElement(e){this.ngZone.runOutsideAngular(()=>{fi(()=>this.setStyles(e))})}setStyles(e){let n=this.elementRef.nativeElement;this.position==="horizontal"?(n.style.top="",n.style.height="",n.style.left=this.getLeftPosition(e),n.style.width=this.getElementWidth(e)):(n.style.left="",n.style.width="",n.style.top=this.getTopPosition(e),n.style.height=this.getElementHeight(e))}getLeftPosition(e){return e?`${e.offsetLeft||0}px`:"0"}getElementWidth(e){return e?`${e.offsetWidth||0}px`:"0"}getTopPosition(e){return e?`${e.offsetTop||0}px`:"0"}getElementHeight(e){return e?`${e.offsetHeight||0}px`:"0"}static{this.\u0275fac=function(n){return new(n||t)(T(pe),T(et))}}static{this.\u0275dir=Ve({type:t,selectors:[["nz-tabs-ink-bar"],["","nz-tabs-ink-bar",""]],hostAttrs:[1,"ant-tabs-ink-bar"],hostVars:2,hostBindings:function(n,o){n&2&&B("ant-tabs-ink-bar-animated",o._animated)},inputs:{position:"position",animated:"animated"}})}}return t})(),Xd=(()=>{class t{constructor(e){this.elementRef=e,this.disabled=!1,this.active=!1,this.el=e.nativeElement,this.parentElement=this.el.parentElement}focus(){this.el.focus()}get width(){return this.parentElement.offsetWidth}get height(){return this.parentElement.offsetHeight}get left(){return this.parentElement.offsetLeft}get top(){return this.parentElement.offsetTop}static{this.\u0275fac=function(n){return new(n||t)(T(pe))}}static{this.\u0275dir=Ve({type:t,selectors:[["","nzTabNavItem",""]],inputs:{disabled:[2,"disabled","disabled",O],tab:"tab",active:[2,"active","active",O]}})}}return t})(),Hs=(()=>{class t{constructor(e,n){this.cdr=e,this.elementRef=n,this.items=[],this.addable=!1,this.addIcon="plus",this.addClicked=new F,this.selected=new F,this.menuOpened=!1,this.element=this.elementRef.nativeElement}onSelect(e){e.disabled||(e.tab.nzClick.emit(),this.selected.emit(e))}onContextmenu(e,n){e.disabled||e.tab.nzContextmenu.emit(n)}showItems(){clearTimeout(this.closeAnimationWaitTimeoutId),this.menuOpened=!0,this.cdr.markForCheck()}menuVisChange(e){e||(this.closeAnimationWaitTimeoutId=setTimeout(()=>{this.menuOpened=!1,this.cdr.markForCheck()},150))}getElementWidth(){return this.element?.offsetWidth||0}getElementHeight(){return this.element?.offsetHeight||0}ngOnDestroy(){clearTimeout(this.closeAnimationWaitTimeoutId)}static{this.\u0275fac=function(n){return new(n||t)(T(se),T(pe))}}static{this.\u0275cmp=D({type:t,selectors:[["nz-tab-nav-operation"]],hostAttrs:[1,"ant-tabs-nav-operations"],hostVars:2,hostBindings:function(n,o){n&2&&B("ant-tabs-nav-operations-hidden",o.items.length===0)},inputs:{items:"items",addable:[2,"addable","addable",O],addIcon:"addIcon"},outputs:{addClicked:"addClicked",selected:"selected"},exportAs:["nzTabNavOperation"],decls:7,vars:6,consts:[["dropdownTrigger","nzDropdown"],["menu","nzDropdownMenu"],["nz-dropdown","","type","button","tabindex","-1","aria-hidden","true","nzOverlayClassName","nz-tabs-dropdown",1,"ant-tabs-nav-more",3,"nzVisibleChange","mouseenter","nzDropdownMenu","nzOverlayStyle","nzMatchWidthElement"],["nzType","ellipsis"],["nz-menu",""],["nz-tab-add-button","",3,"addIcon"],["nz-menu-item","",1,"ant-tabs-dropdown-menu-item",3,"ant-tabs-dropdown-menu-item-disabled","nzSelected","nzDisabled"],["nz-menu-item","",1,"ant-tabs-dropdown-menu-item",3,"click","contextmenu","nzSelected","nzDisabled"],[4,"nzStringTemplateOutlet","nzStringTemplateOutletContext"],["nz-tab-add-button","",3,"click","addIcon"]],template:function(n,o){if(n&1){let a=M();r(0,"button",2,0),y("nzVisibleChange",function(f){return g(a),C(o.menuVisChange(f))})("mouseenter",function(){return g(a),C(o.showItems())}),h(2,"nz-icon",3),s(),r(3,"nz-dropdown-menu",null,1),u(5,Ig,3,0,"ul",4),s(),u(6,Og,1,1,"button",5)}if(n&2){let a=E(4);m("nzDropdownMenu",a)("nzOverlayStyle",xe(5,Dg))("nzMatchWidthElement",null),c(5),z(o.menuOpened?5:-1),c(),z(o.addable?6:-1)}},dependencies:[J,me,Re,je,Ja,na,Oa,qo,Wo,gi],encapsulation:2,changeDetection:0})}}return t})(),c0=.1,Kd=.01,Ka=20,Zd=.995**Ka,d0=(()=>{class t{constructor(e,n){this.ngZone=e,this.elementRef=n,this.lastWheelDirection=null,this.lastWheelTimestamp=0,this.lastTimestamp=0,this.lastTimeDiff=0,this.lastMixedWheel=0,this.lastWheelPrevent=!1,this.touchPosition=null,this.lastOffset=null,this.motion=-1,this.unsubscribe=()=>{},this.offsetChange=new F,this.tabScroll=new F,this.onTouchEnd=o=>{if(!this.touchPosition)return;let a=this.lastOffset,d=this.lastTimeDiff;if(this.lastOffset=this.touchPosition=null,a){let f=a.x/d,x=a.y/d,k=Math.abs(f),N=Math.abs(x);if(Math.max(k,N)<c0)return;let I=f,$=x;this.motion=window.setInterval(()=>{if(Math.abs(I)<Kd&&Math.abs($)<Kd){window.clearInterval(this.motion);return}I*=Zd,$*=Zd,this.onOffset(I*Ka,$*Ka,o)},Ka)}},this.onTouchMove=o=>{if(!this.touchPosition)return;o.preventDefault();let{screenX:a,screenY:d}=o.touches[0],f=a-this.touchPosition.x,x=d-this.touchPosition.y;this.onOffset(f,x,o);let k=Date.now();this.lastTimeDiff=k-this.lastTimestamp,this.lastTimestamp=k,this.lastOffset={x:f,y:x},this.touchPosition={x:a,y:d}},this.onTouchStart=o=>{let{screenX:a,screenY:d}=o.touches[0];this.touchPosition={x:a,y:d},window.clearInterval(this.motion)},this.onWheel=o=>{let{deltaX:a,deltaY:d}=o,f,x=Math.abs(a),k=Math.abs(d);x===k?f=this.lastWheelDirection==="x"?a:d:x>k?(f=a,this.lastWheelDirection="x"):(f=d,this.lastWheelDirection="y");let N=Date.now(),I=Math.abs(f);(N-this.lastWheelTimestamp>100||I-this.lastMixedWheel>10)&&(this.lastWheelPrevent=!1),this.onOffset(-f,-f,o),(o.defaultPrevented||this.lastWheelPrevent)&&(this.lastWheelPrevent=!0),this.lastWheelTimestamp=N,this.lastMixedWheel=I}}ngOnInit(){this.unsubscribe=this.ngZone.runOutsideAngular(()=>{let e=this.elementRef.nativeElement,n=mi(e,"wheel"),o=mi(e,"touchstart"),a=mi(e,"touchmove"),d=mi(e,"touchend"),f=new Sn;return f.add(this.subscribeWrap("wheel",n,this.onWheel)),f.add(this.subscribeWrap("touchstart",o,this.onTouchStart)),f.add(this.subscribeWrap("touchmove",a,this.onTouchMove)),f.add(this.subscribeWrap("touchend",d,this.onTouchEnd)),()=>{f.unsubscribe()}})}subscribeWrap(e,n,o){return n.subscribe(a=>{this.tabScroll.emit({type:e,event:a}),a.defaultPrevented||o(a)})}onOffset(e,n,o){this.ngZone.run(()=>{this.offsetChange.emit({x:e,y:n,event:o})})}ngOnDestroy(){this.unsubscribe()}static{this.\u0275fac=function(n){return new(n||t)(T(et),T(pe))}}static{this.\u0275dir=Ve({type:t,selectors:[["","nzTabScrollList",""]],outputs:{offsetChange:"offsetChange",tabScroll:"tabScroll"}})}}return t})(),m0=typeof requestAnimationFrame<"u"?la:el,Jd=150,js=(()=>{class t{get selectedIndex(){return this._selectedIndex}set selectedIndex(e){let n=Vo(e);this._selectedIndex!==n&&(this._selectedIndex=e,this.selectedIndexChanged=!0,this.keyManager&&this.keyManager.updateActiveItem(e))}get focusIndex(){return this.keyManager?this.keyManager.activeItemIndex:0}set focusIndex(e){!this.isValidIndex(e)||this.focusIndex===e||!this.keyManager||this.keyManager.setActiveItem(e)}get showAddButton(){return this.hiddenItems.length===0&&this.addable}constructor(e,n,o,a,d){this.cdr=e,this.ngZone=n,this.viewportRuler=o,this.nzResizeObserver=a,this.dir=d,this.indexFocused=new F,this.selectFocusedIndex=new F,this.addClicked=new F,this.tabScroll=new F,this.position="horizontal",this.addable=!1,this.hideBar=!1,this.addIcon="plus",this.inkBarAnimated=!0,this.translate=null,this.transformX=0,this.transformY=0,this.pingLeft=!1,this.pingRight=!1,this.pingTop=!1,this.pingBottom=!1,this.hiddenItems=[],this.destroy$=new H,this._selectedIndex=0,this.wrapperWidth=0,this.wrapperHeight=0,this.scrollListWidth=0,this.scrollListHeight=0,this.operationWidth=0,this.operationHeight=0,this.addButtonWidth=0,this.addButtonHeight=0,this.selectedIndexChanged=!1}ngAfterViewInit(){let e=this.dir?this.dir.change.asObservable():we(null),n=this.viewportRuler.change(150),o=()=>{this.updateScrollListPosition(),this.alignInkBarToSelectedTab()};this.keyManager=new Al(this.items).withHorizontalOrientation(this.getLayoutDirection()).withWrap(),this.keyManager.updateActiveItem(this.selectedIndex),fi(o),gt(this.nzResizeObserver.observe(this.navWarpRef),this.nzResizeObserver.observe(this.navListRef)).pipe(P(this.destroy$),ma(16,m0)).subscribe(()=>{o()}),gt(e,n,this.items.changes).pipe(P(this.destroy$)).subscribe(()=>{Promise.resolve().then(o),this.keyManager.withHorizontalOrientation(this.getLayoutDirection())}),this.keyManager.change.pipe(P(this.destroy$)).subscribe(a=>{this.indexFocused.emit(a),this.setTabFocus(a),this.scrollToTab(this.keyManager.activeItem)})}ngAfterContentChecked(){this.selectedIndexChanged&&(this.updateScrollListPosition(),this.alignInkBarToSelectedTab(),this.selectedIndexChanged=!1,this.cdr.markForCheck())}ngOnDestroy(){clearTimeout(this.lockAnimationTimeoutId),clearTimeout(this.cssTransformTimeWaitingId),this.destroy$.next(),this.destroy$.complete()}onSelectedFromMenu(e){let n=this.items.toArray().findIndex(o=>o===e);n!==-1&&(this.keyManager.updateActiveItem(n),this.focusIndex!==this.selectedIndex&&(this.selectFocusedIndex.emit(this.focusIndex),this.scrollToTab(e)))}onOffsetChange(e){if(this.position==="horizontal"){if(!this.lockAnimationTimeoutId&&(this.transformX>=0&&e.x>0||this.transformX<=this.wrapperWidth-this.scrollListWidth&&e.x<0))return;e.event.preventDefault(),this.transformX=this.clampTransformX(this.transformX+e.x),this.setTransform(this.transformX,0)}else{if(!this.lockAnimationTimeoutId&&(this.transformY>=0&&e.y>0||this.transformY<=this.wrapperHeight-this.scrollListHeight&&e.y<0))return;e.event.preventDefault(),this.transformY=this.clampTransformY(this.transformY+e.y),this.setTransform(0,this.transformY)}this.lockAnimation(),this.setVisibleRange(),this.setPingStatus()}handleKeydown(e){let n=this.navWarpRef.nativeElement.contains(e.target);if(!(uo(e)||!n))switch(e.keyCode){case 37:case 38:case 39:case 40:this.lockAnimation(),this.keyManager.onKeydown(e);break;case 13:case 32:this.focusIndex!==this.selectedIndex&&this.selectFocusedIndex.emit(this.focusIndex);break;default:this.keyManager.onKeydown(e)}}isValidIndex(e){if(!this.items)return!0;let n=this.items?this.items.toArray()[e]:null;return!!n&&!n.disabled}scrollToTab(e){if(!this.items.find(o=>o===e))return;let n=this.items.toArray();if(this.position==="horizontal"){let o=this.transformX;if(this.getLayoutDirection()==="rtl"){let a=n[0].left+n[0].width-e.left-e.width;a<this.transformX?o=a:a+e.width>this.transformX+this.wrapperWidth&&(o=a+e.width-this.wrapperWidth)}else e.left<-this.transformX?o=-e.left:e.left+e.width>-this.transformX+this.wrapperWidth&&(o=-(e.left+e.width-this.wrapperWidth));this.transformX=o,this.transformY=0,this.setTransform(o,0)}else{let o=this.transformY;e.top<-this.transformY?o=-e.top:e.top+e.height>-this.transformY+this.wrapperHeight&&(o=-(e.top+e.height-this.wrapperHeight)),this.transformY=o,this.transformX=0,this.setTransform(0,o)}clearTimeout(this.cssTransformTimeWaitingId),this.cssTransformTimeWaitingId=setTimeout(()=>{this.setVisibleRange()},Jd)}lockAnimation(){this.lockAnimationTimeoutId||this.ngZone.runOutsideAngular(()=>{this.navListRef.nativeElement.style.transition="none",this.lockAnimationTimeoutId=setTimeout(()=>{this.navListRef.nativeElement.style.transition="",this.lockAnimationTimeoutId=void 0},Jd)})}setTransform(e,n){this.navListRef.nativeElement.style.transform=`translate(${e}px, ${n}px)`}clampTransformX(e){let n=this.wrapperWidth-this.scrollListWidth;return this.getLayoutDirection()==="rtl"?Math.max(Math.min(n,e),0):Math.min(Math.max(n,e),0)}clampTransformY(e){return Math.min(Math.max(this.wrapperHeight-this.scrollListHeight,e),0)}updateScrollListPosition(){this.resetSizes(),this.transformX=this.clampTransformX(this.transformX),this.transformY=this.clampTransformY(this.transformY),this.setVisibleRange(),this.setPingStatus(),this.keyManager&&(this.keyManager.updateActiveItem(this.keyManager.activeItemIndex),this.keyManager.activeItem&&this.scrollToTab(this.keyManager.activeItem))}resetSizes(){this.addButtonWidth=this.addBtnRef?this.addBtnRef.getElementWidth():0,this.addButtonHeight=this.addBtnRef?this.addBtnRef.getElementHeight():0,this.operationWidth=this.operationRef.getElementWidth(),this.operationHeight=this.operationRef.getElementHeight(),this.wrapperWidth=this.navWarpRef.nativeElement.offsetWidth||0,this.wrapperHeight=this.navWarpRef.nativeElement.offsetHeight||0,this.scrollListHeight=this.navListRef.nativeElement.offsetHeight||0,this.scrollListWidth=this.navListRef.nativeElement.offsetWidth||0}alignInkBarToSelectedTab(){let e=this.items&&this.items.length?this.items.toArray()[this.selectedIndex]:null,n=e?e.elementRef.nativeElement:null;n&&this.inkBar.alignToElement(n.parentElement)}setPingStatus(){let e={top:!1,right:!1,bottom:!1,left:!1},n=this.navWarpRef.nativeElement;this.position==="horizontal"?this.getLayoutDirection()==="rtl"?(e.right=this.transformX>0,e.left=this.transformX+this.wrapperWidth<this.scrollListWidth):(e.left=this.transformX<0,e.right=-this.transformX+this.wrapperWidth<this.scrollListWidth):(e.top=this.transformY<0,e.bottom=-this.transformY+this.wrapperHeight<this.scrollListHeight),Object.keys(e).forEach(o=>{let a=`ant-tabs-nav-wrap-ping-${o}`;e[o]?n.classList.add(a):n.classList.remove(a)})}setVisibleRange(){let e,n,o,a,d,f,x=this.items.toArray(),k={width:0,height:0,left:0,top:0,right:0},N=A=>{let q,ce=x[A]||k;return n==="right"?q=x[0].left+x[0].width-x[A].left-x[A].width:q=ce[n],q};this.position==="horizontal"?(e="width",a=this.wrapperWidth,d=this.scrollListWidth-(this.hiddenItems.length?this.operationWidth:0),f=this.addButtonWidth,o=Math.abs(this.transformX),this.getLayoutDirection()==="rtl"?(n="right",this.pingRight=this.transformX>0,this.pingLeft=this.transformX+this.wrapperWidth<this.scrollListWidth):(this.pingLeft=this.transformX<0,this.pingRight=-this.transformX+this.wrapperWidth<this.scrollListWidth,n="left")):(e="height",a=this.wrapperHeight,d=this.scrollListHeight-(this.hiddenItems.length?this.operationHeight:0),f=this.addButtonHeight,n="top",o=-this.transformY,this.pingTop=this.transformY<0,this.pingBottom=-this.transformY+this.wrapperHeight<this.scrollListHeight);let I=a;if(d+f>a&&(I=a-f),!x.length){this.hiddenItems=[],this.cdr.markForCheck();return}let $=x.length,b=$;for(let A=0;A<$;A+=1){let q=N(A),ce=x[A]||k;if(q+ce[e]>o+I){b=A-1;break}}let v=0;for(let A=$-1;A>=0;A-=1)if(N(A)<o){v=A+1;break}let S=x.slice(0,v),w=x.slice(b+1);this.hiddenItems=[...S,...w],this.cdr.markForCheck()}getLayoutDirection(){return this.dir&&this.dir.value==="rtl"?"rtl":"ltr"}setTabFocus(e){}ngOnChanges(e){let{position:n}=e;n&&!n.isFirstChange()&&(this.alignInkBarToSelectedTab(),this.lockAnimation(),this.updateScrollListPosition())}static{this.\u0275fac=function(n){return new(n||t)(T(se),T(et),T(xa),T(to),T(Ee))}}static{this.\u0275cmp=D({type:t,selectors:[["nz-tabs-nav"]],contentQueries:function(n,o,a){if(n&1&&it(a,Xd,5),n&2){let d;R(d=Y())&&(o.items=d)}},viewQuery:function(n,o){if(n&1&&(G(Ng,7),G(Fg,7),G(Hs,7),G(Ja,5),G(Qd,7)),n&2){let a;R(a=Y())&&(o.navWarpRef=a.first),R(a=Y())&&(o.navListRef=a.first),R(a=Y())&&(o.operationRef=a.first),R(a=Y())&&(o.addBtnRef=a.first),R(a=Y())&&(o.inkBar=a.first)}},hostAttrs:[1,"ant-tabs-nav"],hostBindings:function(n,o){n&1&&y("keydown",function(d){return o.handleKeydown(d)})},inputs:{position:"position",addable:[2,"addable","addable",O],hideBar:[2,"hideBar","hideBar",O],addIcon:"addIcon",inkBarAnimated:"inkBarAnimated",extraTemplate:"extraTemplate",selectedIndex:"selectedIndex"},outputs:{indexFocused:"indexFocused",selectFocusedIndex:"selectFocusedIndex",addClicked:"addClicked",tabScroll:"tabScroll"},exportAs:["nzTabsNav"],features:[Q],ngContentSelectors:Eg,decls:9,vars:16,consts:[["navWarp",""],["navList",""],[1,"ant-tabs-nav-wrap"],["nzTabScrollList","","role","tablist",1,"ant-tabs-nav-list",3,"offsetChange","tabScroll"],["role","tab","nz-tab-add-button","",3,"addIcon"],["nz-tabs-ink-bar","",3,"hidden","position","animated"],[3,"addClicked","selected","addIcon","addable","items"],[1,"ant-tabs-extra-content"],["role","tab","nz-tab-add-button","",3,"click","addIcon"],[3,"ngTemplateOutlet"]],template:function(n,o){if(n&1){let a=M();fe(),r(0,"div",2,0)(2,"div",3,1),y("offsetChange",function(f){return g(a),C(o.onOffsetChange(f))})("tabScroll",function(f){return g(a),C(o.tabScroll.emit(f))}),re(4),u(5,Ag,1,2,"button",4),h(6,"div",5),s()(),r(7,"nz-tab-nav-operation",6),y("addClicked",function(){return g(a),C(o.addClicked.emit())})("selected",function(f){return g(a),C(o.onSelectedFromMenu(f))}),s(),u(8,Yg,2,1,"div",7)}n&2&&(B("ant-tabs-nav-wrap-ping-left",o.pingLeft)("ant-tabs-nav-wrap-ping-right",o.pingRight)("ant-tabs-nav-wrap-ping-top",o.pingTop)("ant-tabs-nav-wrap-ping-bottom",o.pingBottom),c(5),z(o.showAddButton?5:-1),c(),m("hidden",o.hideBar)("position",o.position)("animated",o.inkBarAnimated),c(),m("addIcon",o.addIcon)("addable",o.addable)("items",o.hiddenItems),c(),z(o.extraTemplate?8:-1))},dependencies:[d0,Ja,Qd,Hs,ie],encapsulation:2,changeDetection:0})}}return t})(),p0=(()=>{class t{constructor(){this.content=null,this.active=!1,this.animated=!0}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=D({type:t,selectors:[["","nz-tab-body",""]],hostAttrs:[1,"ant-tabs-tabpane"],hostVars:10,hostBindings:function(n,o){n&2&&(Yo("@tabSwitchMotion",o.active?"enter":"leave")("@.disabled",!o.animated),He("tabindex",o.active?0:-1)("aria-hidden",!o.active),pt("overflow-y",o.animated?o.active?null:"none":null),B("ant-tabs-tabpane-active",o.active)("ant-tabs-tabpane-hidden",o.animated?null:!o.active))},inputs:{content:"content",active:"active",animated:"animated"},exportAs:["nzTabBody"],attrs:Vg,decls:1,vars:1,consts:[[3,"ngTemplateOutlet"]],template:function(n,o){n&1&&u(0,Hg,0,0,"ng-template",0),n&2&&m("ngTemplateOutlet",o.content)},dependencies:[ie],encapsulation:2,data:{animation:[ql]},changeDetection:0})}}return t})(),em=(()=>{class t{constructor(){this.closeIcon="close"}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=D({type:t,selectors:[["nz-tab-close-button"],["button","nz-tab-close-button",""]],hostAttrs:["aria-label","Close tab","type","button",1,"ant-tabs-tab-remove"],inputs:{closeIcon:"closeIcon"},decls:1,vars:1,consts:[[4,"nzStringTemplateOutlet"],["nzTheme","outline",3,"nzType"]],template:function(n,o){n&1&&u(0,jg,2,1,"ng-container",0),n&2&&m("nzStringTemplateOutlet",o.closeIcon)},dependencies:[Re,je,J,me],encapsulation:2})}}return t})(),u0=(()=>{class t{constructor(){this.templateRef=_(mt,{host:!0})}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275dir=Ve({type:t,selectors:[["ng-template","nzTabLink",""]],exportAs:["nzTabLinkTemplate"]})}}return t})(),h0=(()=>{class t{constructor(e){this.elementRef=e,this.routerLink=_(Pt,{self:!0,optional:!0})}static{this.\u0275fac=function(n){return new(n||t)(T(pe))}}static{this.\u0275dir=Ve({type:t,selectors:[["a","nz-tab-link",""]],exportAs:["nzTabLink"]})}}return t})(),f0=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275dir=Ve({type:t,selectors:[["","nz-tab",""]],exportAs:["nzTab"]})}}return t})(),tm=new tn("NZ_TAB_SET"),oo=(()=>{class t{constructor(){this.nzTitle="",this.nzClosable=!1,this.nzCloseIcon="close",this.nzDisabled=!1,this.nzForceRender=!1,this.nzSelect=new F,this.nzDeselect=new F,this.nzClick=new F,this.nzContextmenu=new F,this.template=null,this.isActive=!1,this.hasBeenActive=!1,this.position=null,this.origin=null,this.closestTabSet=_(tm),this.stateChanges=new H}get content(){return this.template||this.contentTemplate}get label(){return this.nzTitle||this.nzTabLinkTemplateDirective?.templateRef}ngOnChanges(e){let{nzTitle:n,nzDisabled:o,nzForceRender:a}=e;(n||o||a)&&this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete()}setActive(e){this.isActive=e,e&&(this.hasBeenActive=!0)}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=D({type:t,selectors:[["nz-tab"]],contentQueries:function(n,o,a){if(n&1&&(it(a,u0,5),it(a,f0,5,mt),it(a,h0,5)),n&2){let d;R(d=Y())&&(o.nzTabLinkTemplateDirective=d.first),R(d=Y())&&(o.template=d.first),R(d=Y())&&(o.linkDirective=d.first)}},viewQuery:function(n,o){if(n&1&&G(Lg,7),n&2){let a;R(a=Y())&&(o.contentTemplate=a.first)}},inputs:{nzTitle:"nzTitle",nzClosable:[2,"nzClosable","nzClosable",O],nzCloseIcon:"nzCloseIcon",nzDisabled:[2,"nzDisabled","nzDisabled",O],nzForceRender:[2,"nzForceRender","nzForceRender",O]},outputs:{nzSelect:"nzSelect",nzDeselect:"nzDeselect",nzClick:"nzClick",nzContextmenu:"nzContextmenu"},exportAs:["nzTab"],features:[Q],ngContentSelectors:Ug,decls:4,vars:0,consts:[["tabLinkTemplate",""],["contentTemplate",""]],template:function(n,o){n&1&&(fe(Bg),u(0,$g,1,0,"ng-template",null,0,V)(2,Wg,1,0,"ng-template",null,1,V))},encapsulation:2,changeDetection:0})}}return t})(),Ls=class{},_0="tabs",g0=0,ao=(()=>{let t,i=[],e=[],n,o=[],a=[],d,f=[],x=[],k,N=[],I=[];return class Za{static{let b=typeof Symbol=="function"&&Symbol.metadata?Object.create(null):void 0;t=[_e()],n=[_e()],d=[_e()],k=[_e()],he(null,null,t,{kind:"field",name:"nzType",static:!1,private:!1,access:{has:v=>"nzType"in v,get:v=>v.nzType,set:(v,S)=>{v.nzType=S}},metadata:b},i,e),he(null,null,n,{kind:"field",name:"nzSize",static:!1,private:!1,access:{has:v=>"nzSize"in v,get:v=>v.nzSize,set:(v,S)=>{v.nzSize=S}},metadata:b},o,a),he(null,null,d,{kind:"field",name:"nzAnimated",static:!1,private:!1,access:{has:v=>"nzAnimated"in v,get:v=>v.nzAnimated,set:(v,S)=>{v.nzAnimated=S}},metadata:b},f,x),he(null,null,k,{kind:"field",name:"nzTabBarGutter",static:!1,private:!1,access:{has:v=>"nzTabBarGutter"in v,get:v=>v.nzTabBarGutter,set:(v,S)=>{v.nzTabBarGutter=S}},metadata:b},N,I),b&&Object.defineProperty(this,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:b})}get nzSelectedIndex(){return this.selectedIndex}set nzSelectedIndex(b){this.indexToSelect=Vo(b,null)}get position(){return["top","bottom"].indexOf(this.nzTabPosition)===-1?"vertical":"horizontal"}get addable(){return this.nzType==="editable-card"&&!this.nzHideAdd}get closable(){return this.nzType==="editable-card"}get line(){return this.nzType==="line"}get inkBarAnimated(){return this.line&&(typeof this.nzAnimated=="boolean"?this.nzAnimated:this.nzAnimated.inkBar)}get tabPaneAnimated(){return typeof this.nzAnimated=="boolean"?this.nzAnimated:this.nzAnimated.tabPane}constructor(b,v,S,w){this.nzConfigService=b,this.ngZone=v,this.cdr=S,this.directionality=w,this._nzModuleName=_0,this.nzTabPosition="top",this.nzCanDeactivate=null,this.nzAddIcon="plus",this.nzTabBarStyle=null,this.nzType=U(this,i,"line"),this.nzSize=(U(this,e),U(this,o,"default")),this.nzAnimated=(U(this,a),U(this,f,!0)),this.nzTabBarGutter=(U(this,x),U(this,N,void 0)),this.nzHideAdd=(U(this,I),!1),this.nzCentered=!1,this.nzHideAll=!1,this.nzLinkRouter=!1,this.nzLinkExact=!0,this.nzDestroyInactiveTabPane=!1,this.nzSelectChange=new F(!0),this.nzSelectedIndexChange=new F,this.nzTabListScroll=new F,this.nzClose=new F,this.nzAdd=new F,this.allTabs=new Br,this.tabs=new Br,this.dir="ltr",this.destroy$=new H,this.indexToSelect=0,this.selectedIndex=null,this.tabLabelSubscription=Sn.EMPTY,this.tabsSubscription=Sn.EMPTY,this.canDeactivateSubscription=Sn.EMPTY,this.router=_(bt,{optional:!0}),this.tabSetId=g0++}ngOnInit(){this.dir=this.directionality.value,this.directionality.change?.pipe(P(this.destroy$)).subscribe(b=>{this.dir=b,this.cdr.detectChanges()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.tabs.destroy(),this.tabLabelSubscription.unsubscribe(),this.tabsSubscription.unsubscribe(),this.canDeactivateSubscription.unsubscribe()}ngAfterContentInit(){this.ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>this.setUpRouter())}),this.subscribeToTabLabels(),this.subscribeToAllTabChanges(),this.tabsSubscription=this.tabs.changes.subscribe(()=>{if(this.clampTabIndex(this.indexToSelect)===this.selectedIndex){let v=this.tabs.toArray();for(let S=0;S<v.length;S++)if(v[S].isActive){this.indexToSelect=this.selectedIndex=S;break}}this.subscribeToTabLabels(),this.cdr.markForCheck()})}ngAfterContentChecked(){let b=this.indexToSelect=this.clampTabIndex(this.indexToSelect);if(this.selectedIndex!==b){let v=this.selectedIndex==null;v||this.nzSelectChange.emit(this.createChangeEvent(b)),Promise.resolve().then(()=>{this.tabs.forEach((S,w)=>S.setActive(w===b)),v||this.nzSelectedIndexChange.emit(b)})}this.tabs.forEach((v,S)=>{v.position=S-b,this.selectedIndex!=null&&v.position===0&&!v.origin&&(v.origin=b-this.selectedIndex)}),this.selectedIndex!==b&&(this.selectedIndex=b,this.cdr.markForCheck())}onClose(b,v){v.preventDefault(),v.stopPropagation(),this.nzClose.emit({index:b})}onAdd(){this.nzAdd.emit()}clampTabIndex(b){return Math.min(this.tabs.length-1,Math.max(b||0,0))}createChangeEvent(b){let v=new Ls;return v.index=b,this.tabs&&this.tabs.length&&(v.tab=this.tabs.toArray()[b],this.tabs.forEach((S,w)=>{w!==b&&S.nzDeselect.emit()}),v.tab.nzSelect.emit()),v}subscribeToTabLabels(){this.tabLabelSubscription&&this.tabLabelSubscription.unsubscribe(),this.tabLabelSubscription=gt(...this.tabs.map(b=>b.stateChanges)).subscribe(()=>this.cdr.markForCheck())}subscribeToAllTabChanges(){this.allTabs.changes.pipe(rt(this.allTabs)).subscribe(b=>{this.tabs.reset(b.filter(v=>v.closestTabSet===this)),this.tabs.notifyOnChanges()})}canDeactivateFun(b,v){return typeof this.nzCanDeactivate=="function"?tc(this.nzCanDeactivate(b,v)).pipe(Lr(),P(this.destroy$)):we(!0)}clickNavItem(b,v,S){b.nzDisabled||(b.nzClick.emit(),this.isRouterLinkClickEvent(v,S)||this.setSelectedIndex(v))}isRouterLinkClickEvent(b,v){let S=v.target;return this.nzLinkRouter?!!this.tabs.toArray()[b]?.linkDirective?.elementRef.nativeElement.contains(S):!1}contextmenuNavItem(b,v){b.nzDisabled||b.nzContextmenu.emit(v)}setSelectedIndex(b){this.canDeactivateSubscription.unsubscribe(),this.canDeactivateSubscription=this.canDeactivateFun(this.selectedIndex,b).subscribe(v=>{v&&(this.nzSelectedIndex=b,this.tabNavBarRef.focusIndex=b,this.cdr.markForCheck())})}getTabIndex(b,v){return b.nzDisabled?null:this.selectedIndex===v?0:-1}getTabContentId(b){return`nz-tabs-${this.tabSetId}-tab-${b}`}setUpRouter(){if(this.nzLinkRouter){if(!this.router)throw new Error(`${ho} you should import 'RouterModule' if you want to use 'nzLinkRouter'!`);this.router.events.pipe(P(this.destroy$),Xe(b=>b instanceof za),rt(!0),lo(0)).subscribe(()=>{this.updateRouterActive(),this.cdr.markForCheck()})}}updateRouterActive(){if(this.router?.navigated){let b=this.findShouldActiveTabIndex();b!==this.selectedIndex&&this.setSelectedIndex(b),this.nzHideAll=b===-1}}findShouldActiveTabIndex(){let b=this.tabs.toArray(),v=this.isLinkActive(this.router);return b.findIndex(S=>{let w=S.linkDirective;return w?v(w.routerLink):!1})}isLinkActive(b){return v=>v?!!b?.isActive(v.urlTree||"",{paths:this.nzLinkExact?"exact":"subset",queryParams:this.nzLinkExact?"exact":"subset",fragment:"ignored",matrixParams:"ignored"}):!1}static{this.\u0275fac=function(v){return new(v||Za)(T(nt),T(et),T(se),T(Ee))}}static{this.\u0275cmp=D({type:Za,selectors:[["nz-tabset"]],contentQueries:function(v,S,w){if(v&1&&it(w,oo,5),v&2){let A;R(A=Y())&&(S.allTabs=A)}},viewQuery:function(v,S){if(v&1&&G(js,5),v&2){let w;R(w=Y())&&(S.tabNavBarRef=w.first)}},hostAttrs:[1,"ant-tabs"],hostVars:24,hostBindings:function(v,S){v&2&&B("ant-tabs-card",S.nzType==="card"||S.nzType==="editable-card")("ant-tabs-editable",S.nzType==="editable-card")("ant-tabs-editable-card",S.nzType==="editable-card")("ant-tabs-centered",S.nzCentered)("ant-tabs-rtl",S.dir==="rtl")("ant-tabs-top",S.nzTabPosition==="top")("ant-tabs-bottom",S.nzTabPosition==="bottom")("ant-tabs-left",S.nzTabPosition==="left")("ant-tabs-right",S.nzTabPosition==="right")("ant-tabs-default",S.nzSize==="default")("ant-tabs-small",S.nzSize==="small")("ant-tabs-large",S.nzSize==="large")},inputs:{nzSelectedIndex:"nzSelectedIndex",nzTabPosition:"nzTabPosition",nzTabBarExtraContent:"nzTabBarExtraContent",nzCanDeactivate:"nzCanDeactivate",nzAddIcon:"nzAddIcon",nzTabBarStyle:"nzTabBarStyle",nzType:"nzType",nzSize:"nzSize",nzAnimated:"nzAnimated",nzTabBarGutter:"nzTabBarGutter",nzHideAdd:[2,"nzHideAdd","nzHideAdd",O],nzCentered:[2,"nzCentered","nzCentered",O],nzHideAll:[2,"nzHideAll","nzHideAll",O],nzLinkRouter:[2,"nzLinkRouter","nzLinkRouter",O],nzLinkExact:[2,"nzLinkExact","nzLinkExact",O],nzDestroyInactiveTabPane:[2,"nzDestroyInactiveTabPane","nzDestroyInactiveTabPane",O]},outputs:{nzSelectChange:"nzSelectChange",nzSelectedIndexChange:"nzSelectedIndexChange",nzTabListScroll:"nzTabListScroll",nzClose:"nzClose",nzAdd:"nzAdd"},exportAs:["nzTabset"],features:[Le([{provide:tm,useExisting:mn(()=>Za)}])],decls:4,vars:12,consts:[["tabpaneTmpl",""],[3,"style","selectedIndex","inkBarAnimated","addable","addIcon","hideBar","position","extraTemplate"],[1,"ant-tabs-content-holder"],[1,"ant-tabs-content"],[3,"tabScroll","selectFocusedIndex","addClicked","selectedIndex","inkBarAnimated","addable","addIcon","hideBar","position","extraTemplate"],[1,"ant-tabs-tab",3,"margin-right","margin-bottom","ant-tabs-tab-active","ant-tabs-tab-disabled"],[1,"ant-tabs-tab",3,"click","contextmenu"],["type","button","role","tab","nzTabNavItem","","cdkMonitorElementFocus","",1,"ant-tabs-tab-btn",3,"id","disabled","tab","active"],[4,"nzStringTemplateOutlet","nzStringTemplateOutletContext"],["type","button","nz-tab-close-button","",3,"closeIcon"],["type","button","nz-tab-close-button","",3,"click","closeIcon"],[3,"ngTemplateOutlet"],["role","tabpanel","nz-tab-body","",3,"id","active","content","animated"]],template:function(v,S){v&1&&(u(0,Zg,3,9,"nz-tabs-nav",1),r(1,"div",2)(2,"div",3),u(3,l0,2,0),s()()),v&2&&(z(S.tabs.length||S.addable?0:-1),c(2),B("ant-tabs-content-top",S.nzTabPosition==="top")("ant-tabs-content-bottom",S.nzTabPosition==="bottom")("ant-tabs-content-left",S.nzTabPosition==="left")("ant-tabs-content-right",S.nzTabPosition==="right")("ant-tabs-content-animated",S.tabPaneAnimated),c(),z(S.nzHideAll?-1:3))},dependencies:[js,ie,Xd,Hl,Vl,Re,je,em,p0],encapsulation:2})}}})();var Yi=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=Ce({type:t})}static{this.\u0275inj=ge({imports:[ao,js,Hs,Ja,em]})}}return t})();var We=class t{_supabaseClient=_(yn).supabaseClient;_authService=_(tt);selectedStationId="";_state=yt({stations:[],loading:!1,error:!1});_shared_stations_state=yt({stations:[],loading:!1,error:!1});stations=de(()=>this._state().stations);loading=de(()=>this._state().loading);error=de(()=>this._state().error);shared_stations=de(()=>this._shared_stations_state().stations);shared_st_loading=de(()=>this._shared_stations_state().loading);shared_st_error=de(()=>this._shared_stations_state().error);stations_linked=de(()=>this.stations().filter(i=>!!i.v2_stationcode));shared_stations_linked=de(()=>this.shared_stations().filter(i=>!!i.v2_stationcode));STATION_STATES={created:"CREADA"};constructor(){}updateStateLoading(i){this._state.update(e=>Fe(ee({},e),{loading:i}))}updateStateError(i){this._state.update(e=>Fe(ee({},e),{error:i}))}updateStateStations(i){this._state.update(e=>Fe(ee({},e),{stations:i}))}updateStateSharedLoading(i){this._shared_stations_state.update(e=>Fe(ee({},e),{loading:i}))}updateStateSharedError(i){this._shared_stations_state.update(e=>Fe(ee({},e),{error:i}))}updateStateSharedStations(i){this._shared_stations_state.update(e=>Fe(ee({},e),{stations:i}))}getStationById(i,e){let n=null;return i.forEach(o=>{o.id===e&&(n=o)}),n}getContactsUserIdsStationIsSharedWith(i){if(!i)return[];let e=this.stations().find(o=>o.id===i);return e?e.v2_sharedstations.map(o=>o.target_user_id):[]}loadAllCurrentUserStations(){return oe(this,null,function*(){try{this.updateStateLoading(!0);let i=this._authService.getCurrentUser(),{data:e}=yield this._supabaseClient.from("v2_virtualweatherstations").select("*, v2_sharedstations(*), v2_stationcode:v2_stationcodes(*), v2_alert_virtualstations(*,alert:v2_alerts(*))").eq("id_user_owner",i?.id).returns();e?(this.updateStateStations(e),this.updateStateError(!1)):this.updateStateError(!0)}catch{this.updateStateError(!0)}finally{this.updateStateLoading(!1)}})}loadAllStationsSharedWithCurrentUser(){return oe(this,null,function*(){try{this.updateStateSharedLoading(!0);let i=this._authService.getCurrentUser(),{data:e}=yield this._supabaseClient.from("v2_sharedstations").select(`
          *,
          v2_virtualweatherstations(*, v2_stationcode:v2_stationcodes(*))
          `).eq("target_user_id",i?.id);e?(this.updateStateSharedStations(e.map(n=>n.v2_virtualweatherstations)),this.updateStateSharedError(!1)):this.updateStateSharedError(!0)}catch{this.updateStateSharedError(!0)}finally{this.updateStateSharedLoading(!1)}})}updateStation(i,e){if(!i)return we(!1);try{return st(this._supabaseClient.from("v2_virtualweatherstations").update(ee({},e)).eq("id",i)).pipe(ae(({error:n})=>!n))}catch{return we(!1)}}deleteStation(i){return oe(this,null,function*(){if(i)try{yield this._supabaseClient.from("v2_virtualweatherstations").delete().eq("id",i),this.loadAllCurrentUserStations()}catch{this.updateStateError(!0)}})}insertStation(i,e,n){return oe(this,null,function*(){try{let o=this._authService.getCurrentUser(),a=this._authService.currentUserProfile(),{data:d}=yield this._supabaseClient.from("v2_virtualweatherstations").insert({name:i,description:n,state:this.STATION_STATES.created,id_user_owner:o?.id,user_owner_profile_id:a?.id}).select().returns();d?this.loadAllCurrentUserStations():this.updateStateError(!0)}catch{this.updateStateError(!0)}})}getStationByCodeId(i){if(!i)return we(null);try{return st(this._supabaseClient.from("v2_virtualweatherstations").select("*, v2_sharedstations(*), v2_stationcode:v2_stationcodes(*), v2_alert_virtualstations(*)").eq("imei_code_id",i).returns().limit(1).single()).pipe(ae(({data:e,error:n})=>n?null:e||null))}catch{return this.updateStateError(!0),we(null)}}stopSharingStationsWith(i){try{let e=this._authService.getCurrentUser();return st(this._supabaseClient.from("v2_sharedstations").delete().eq("target_user_id",i).eq("ower_user_id",e?.id)).pipe(ae(({error:n})=>(this.loadAllCurrentUserStations(),!n)))}catch{return this.updateStateError(!0),we(!1)}}stopGettingStationsSharedFrom(i){try{let e=this._authService.getCurrentUser();return st(this._supabaseClient.from("v2_sharedstations").delete().eq("target_user_id",e?.id).eq("ower_user_id",i)).pipe(ae(({error:n})=>(this.loadAllCurrentUserStations(),!n)))}catch{return this.updateStateError(!0),we(!1)}}getStationWIthContactIds(i){return oe(this,null,function*(){if(!i)return null;let{data:e,error:n}=yield this._supabaseClient.from("v2_virtualweatherstations").select("*, v2_sharedstations(*), v2_stationcode:v2_stationcodes(*)").eq("id",i).single();return n?null:e})}simple_getAllCurrentUserStations(){return oe(this,null,function*(){try{let i=this._authService.getCurrentUser(),{data:e}=yield this._supabaseClient.from("v2_virtualweatherstations").select().eq("id_user_owner",i?.id).returns();return e||[]}catch{return[]}})}getCurrentUserStationById(i){if(i===null)return we(null);try{let e=this._authService.getCurrentUser();return st(this._supabaseClient.from("v2_virtualweatherstations").select().eq("id_user_owner",e?.id).eq("id",i).returns().limit(1).single()).pipe(ae(({data:n,error:o})=>o?null:n||null))}catch{return we(null)}}simple_GetCurrentUserStationById(i){return oe(this,null,function*(){if(i===null)return we(null);let e=this._authService.getCurrentUser(),{data:n}=yield this._supabaseClient.from("v2_virtualweatherstations").select().eq("id_user_owner",e?.id).eq("id",i).returns().limit(1).single();return n||null})}simple_getAllStationsSharedWithCurrentUser(){return oe(this,null,function*(){try{let i=this._authService.getCurrentUser(),{data:e}=yield this._supabaseClient.from("v2_sharedstations").select(`
          *,
          v2_virtualweatherstations(*)
          `).eq("target_user_id",i?.id);return e?e.map(n=>n.v2_virtualweatherstations):[]}catch{return[]}})}stationBelongsToCurrentUser(i){if(this._authService.getCurrentUser())if(i){if(this.stations().some(e=>e.id===i))return!0}else return!1;else return!1;return!1}stationIsSharedWithCurrentUser(i){if(!this._authService.getCurrentUser()||!i)return we(!1);try{let e=this._authService.getCurrentUser();return st(this._supabaseClient.from("v2_sharedStation").select().eq("id",i).eq("target_user_id",e?.id).returns()).pipe(ae(({data:n,error:o})=>o?!1:n?n.length>0:!1))}catch{return we(!1)}}shareStationsWithContact(i,e){if(!i||e.length===0)return we(!1);try{let n=this._authService.getCurrentUser(),o=e.map(a=>({station_id:a,target_user_id:i,ower_user_id:n?.id}));return st(this._supabaseClient.from("v2_sharedstations").insert(o)).pipe(ae(({error:a})=>!a))}catch{return we(!1)}}simple_shareStationWithContacts(i,e){return oe(this,null,function*(){if(!i||e.length===0)return!1;try{let n=this._authService.getCurrentUser(),o=e.map(d=>({station_id:i,target_user_id:d,ower_user_id:n?.id})),{error:a}=yield this._supabaseClient.from("v2_sharedstations").insert(o);return!a}catch{return!1}})}simple_removeStationShare(i,e){return oe(this,null,function*(){if(!i||!e)return!1;try{let n=this._authService.getCurrentUser();if(!n)return!1;let{error:o}=yield this._supabaseClient.from("v2_sharedstations").delete().eq("station_id",i).eq("target_user_id",e).eq("ower_user_id",n.id);return!o}catch{return!1}})}removeStationShare(i,e){if(!i||!e)return we(!1);try{let n=this._authService.getCurrentUser();return n?st(this._supabaseClient.from("v2_sharedstations").delete().eq("station_id",i).eq("target_user_id",e).eq("ower_user_id",n.id)).pipe(ae(({error:o})=>!o)):we(!1)}catch{return we(!1)}}static \u0275fac=function(e){return new(e||t)};static \u0275prov=Ye({token:t,factory:t.\u0275fac,providedIn:"root"})};function C0(t,i){t&1&&h(0,"div")}function v0(t,i){if(t&1&&u(0,C0,1,0,"div",4),t&2){let e=l(2);m("ngTemplateOutlet",e.closeButton)}}function z0(t,i){if(t&1&&u(0,v0,1,1,"div"),t&2){let e=l();z(e.closeButton?0:-1)}}function S0(t,i){if(t&1&&(r(0,"div",5)(1,"form",6)(2,"div",7)(3,"div",8)(4,"nz-form-item")(5,"nz-form-control",9)(6,"nz-form-label",10),p(7,"Nombre "),s(),h(8,"input",11),s()()(),r(9,"div",8)(10,"nz-form-item")(11,"nz-form-control")(12,"nz-form-label",10),p(13,"Descripci\xF3n "),s(),r(14,"nz-textarea-count"),h(15,"textarea",12),s()()()()()()()),t&2){let e=l();c(),m("formGroup",e.form),c(),m("nzGutter",24),c(),m("nzSpan",(e.screenInfoService.isMobile,24)),c(3),m("nzFor","nombre"),c(2),He("id","nombre"),c(),m("nzSpan",24),c(3),m("nzFor","descripcion")}}function y0(t,i){if(t&1){let e=M();r(0,"div",13)(1,"div",14)(2,"button",15),y("click",function(){g(e);let o=l();return C(o.resetForm())}),p(3,"Limpiar"),s(),r(4,"button",16),y("click",function(){g(e);let o=l();return C(o.submitForm())}),h(5,"nz-icon",17),p(6," Agregar Estaci\xF3n "),s()()()}}var Mo=class t{useFullHeight=!1;closeButton;_fb=_(on);_modal=_(Wn);_stationsService=_(We);screenInfoService=_(be);controlArray=[];isCollapse=!0;form=this._fb.nonNullable.group({nombre:this._fb.nonNullable.control("",[le.required]),descripcion:this._fb.control(null,[])});constructor(){}ngOnInit(){for(let i=0;i<10;i++)this.controlArray.push({index:i,show:i<6})}resetForm(){Object.values(this.form.controls).forEach(i=>{i.reset()})}submitForm(){if(this.form.valid){let i=this.form.getRawValue();this._stationsService.insertStation(i.nombre,null,i.descripcion).then(()=>{this.form.reset(),this.showStationCreationSuccessModal()})}else Object.values(this.form.controls).forEach(i=>{i.invalid&&(i.markAsDirty(),i.updateValueAndValidity({onlySelf:!0}))})}showStationCreationSuccessModal(){this._modal.info({nzTitle:"Estaci\xF3n  creada correctamente!",nzContent:"<p>Ahora puede hacer uso de la estaci\xF3n.</p>",nzZIndex:10001,nzOnOk:()=>{}})}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=D({type:t,selectors:[["app-create-station"]],inputs:{useFullHeight:"useFullHeight",closeButton:"closeButton"},decls:7,vars:5,consts:[["close_create_station",""],["page_content",""],["footer_content",""],["headerIconSource","","headerTitleText","Registrar Estaci\xF3n",3,"useFullHeight","useDefaultHeader","headerRightSideElement","content","footerContent"],[4,"ngTemplateOutlet"],[1,"base-div"],["nz-form","",1,"ant-advanced-search-form",3,"formGroup"],["nz-row","",3,"nzGutter"],["nz-col","",3,"nzSpan"],["nzErrorTip","La estaci\xF3n debe tener nombre!"],[3,"nzFor"],["nz-input","","placeholder","Nombre de la estaci\xF3n","formControlName","nombre"],["rows","8","formControlName","descripcion","nz-input",""],["nz-row","",2,"width","100%"],["nz-flex","","nzJustify","space-between","nzAlign","center",1,"btn-wrappers"],["nz-button","","nzType","default",3,"click"],["nz-button","","nzType","primary","nzSize","default",3,"click"],["nzType","plus"]],template:function(e,n){if(e&1&&(h(0,"app-content-frame",3),u(1,z0,1,1,"ng-template",null,0,V)(3,S0,16,7,"ng-template",null,1,V)(5,y0,7,0,"ng-template",null,2,V)),e&2){let o=E(2),a=E(4),d=E(6);m("useFullHeight",n.useFullHeight)("useDefaultHeader",!0)("headerRightSideElement",o)("content",a)("footerContent",d)}},dependencies:[Be,ie,Ue,Zt,vt,Oe,Kt,Jt,It,Dt,De,Pe,Me,ke,Ft,Ot,wt,Nt,Bt,Yn,Ut,J,me,ht,kc,Tt,$e,Ge,sn],styles:[".base-div[_ngcontent-%COMP%]{color:#000;width:100%;height:100%}.ant-advanced-search-form[_ngcontent-%COMP%]{height:100%;padding:24px;background:#fbfbfb}.search-result-list[_ngcontent-%COMP%]{margin-top:16px;border:1px dashed #e9e9e9;border-radius:6px;background-color:#fafafa;min-height:200px;text-align:center;padding-top:80px}[nz-form-label][_ngcontent-%COMP%]{overflow:visible}button[_ngcontent-%COMP%]{margin-left:8px}.collapse[_ngcontent-%COMP%]{margin-left:8px;font-size:12px}.search-area[_ngcontent-%COMP%]{text-align:right}.btn-wrappers[_ngcontent-%COMP%]{width:100%}"]})};var nm=t=>({stations:t,belongToUser:!1}),er=t=>[t],x0=(t,i)=>i.id;function b0(t,i){t&1&&h(0,"nz-result",13)}function T0(t,i){t&1&&u(0,b0,1,0,"nz-result",17)}function w0(t,i){t&1&&h(0,"nz-result",14)}function D0(t,i){t&1&&u(0,w0,1,0,"nz-result",18)}function M0(t,i){if(t&1&&lt(0,15),t&2){let e=l(2),n=E(4);m("ngTemplateOutlet",n)("ngTemplateOutletContext",Ie(2,nm,e.stationsService.stations()))}}function k0(t,i){t&1&&h(0,"nz-result",13)}function P0(t,i){t&1&&u(0,k0,1,0,"nz-result",17)}function I0(t,i){if(t&1&&lt(0,15),t&2){let e=l(2),n=E(4);m("ngTemplateOutlet",n)("ngTemplateOutletContext",Ie(2,nm,e.stationsService.shared_stations()))}}function O0(t,i){if(t&1&&(r(0,"div",9)(1,"div",10)(2,"nz-tabset")(3,"nz-tab",11)(4,"div",12),u(5,T0,1,0,"nz-result",13)(6,D0,1,0,"nz-result",14)(7,M0,1,4,"ng-container",15),s()(),r(8,"nz-tab",16)(9,"div",12),u(10,P0,1,0,"nz-result",13)(11,I0,1,4,"ng-container",15),s()()()()()),t&2){let e=l();c(5),z(e.stationsService.error()?5:e.stationsService.loading()?6:7),c(5),z(e.stationsService.shared_st_error()||e.stationsService.shared_st_loading()?10:11)}}function N0(t,i){t&1&&(r(0,"th"),p(1," Estaciones "),s())}function F0(t,i){t&1&&(r(0,"th",20),p(1," Nombre "),s(),r(2,"th",21),p(3," Estado "),s(),r(4,"th"),p(5," Descripci\xF3n "),s(),r(6,"th",22),p(7," Lecturas "),s(),r(8,"th",22),p(9," Estaci\xF3n "),s())}function E0(t,i){if(t&1&&(r(0,"a",27),p(1," Ver Lecturas "),s()),t&2){let e=l(2).$implicit,n=l(2);m("routerLink",n.routesAccessService.insertParamsInRoute(n.routesAccessService.MEASUREMENTS_ROUTES_PATHS.station_measurements,Ie(1,er,e.id)))}}function A0(t,i){t&1&&(r(0,"p",28),p(1,"Lecturas no disponibles."),s())}function R0(t,i){if(t&1&&(r(0,"nz-collapse",23)(1,"nz-collapse-panel",24)(2,"div",25)(3,"p",26)(4,"strong"),p(5,"Estado:"),s()(),r(6,"p",26),p(7),s()(),h(8,"br"),r(9,"div",25)(10,"p",26)(11,"strong"),p(12,"Lecturas:"),s()(),r(13,"p",26),u(14,E0,2,3,"a",27)(15,A0,2,0,"p",28),s()(),h(16,"br"),r(17,"div",25)(18,"p",26)(19,"strong"),p(20,"Estaci\xF3n:"),s()(),r(21,"a",27),p(22," Ver Estaci\xF3n "),s()(),h(23,"br"),r(24,"p",26)(25,"strong"),p(26,"Descripci\xF3n:"),s()(),r(27,"p",26),p(28),s()()()),t&2){let e=l().$implicit,n=l(2);c(),m("nzHeader",e.name)("nzActive",!1)("nzDisabled",!1),c(6),W(" ",e.state," "),c(7),z(e.imei_code_id?14:15),c(7),m("routerLink",n.routesAccessService.insertParamsInRoute(n.routesAccessService.STATIONS_ROUTES_PATHS.station_info,Ie(7,er,e.id))),c(7),W(" ",e.description?e.description:"(No cuenta con descripci\xF3n)"," ")}}function Y0(t,i){if(t&1&&(r(0,"a",27),p(1," Ver "),s()),t&2){let e=l(2).$implicit,n=l(2);m("routerLink",n.routesAccessService.insertParamsInRoute(n.routesAccessService.MEASUREMENTS_ROUTES_PATHS.station_measurements,Ie(1,er,e.id)))}}function V0(t,i){t&1&&p(0," --- ")}function H0(t,i){if(t&1&&(r(0,"td",29),p(1),s(),r(2,"td"),p(3),s(),r(4,"td",29),p(5),s(),r(6,"td",30),u(7,Y0,2,3,"a",27)(8,V0,1,0),s(),r(9,"td",30)(10,"a",27),p(11," Ver "),s()()),t&2){let e=l().$implicit,n=l(2);c(),K(e.name),c(2),K(e.state),c(2),W(" ",e.description?e.description:""," "),c(2),z(e.imei_code_id?7:8),c(3),m("routerLink",n.routesAccessService.insertParamsInRoute(n.routesAccessService.STATIONS_ROUTES_PATHS.station_info,Ie(5,er,e.id)))}}function j0(t,i){if(t&1&&(r(0,"tr"),u(1,R0,29,9,"nz-collapse",23)(2,H0,12,7),s()),t&2){let e=l(2);c(),z(e.screenInfoService.isMobile?1:2)}}function L0(t,i){if(t&1&&(r(0,"nz-table",19,4)(2,"thead")(3,"tr"),u(4,N0,2,0,"th")(5,F0,10,0),s()(),r(6,"tbody"),j(7,j0,3,1,"tr",null,x0),s()()),t&2){let e=i.stations,n=E(1),o=l();m("nzData",e),c(4),z(o.screenInfoService.isMobile?4:5),c(3),L(n.data)}}function B0(t,i){if(t&1){let e=M();r(0,"div",31)(1,"button",32),y("click",function(){g(e);let o=l();return C(o.toggleAddStation())}),h(2,"nz-icon",33),p(3," Agregar Estaciones "),s()()}}function U0(t,i){if(t&1){let e=M();r(0,"div",34),y("click",function(){g(e);let o=l();return C(o.closeAddStation())}),s()}}function $0(t,i){if(t&1){let e=M();r(0,"button",35),y("click",function(){g(e);let o=l();return C(o.closeAddStation())}),h(1,"nz-icon",36),s()}}var Xa=class t{stationsService=_(We);screenInfoService=_(be);routesAccessService=_(Qe);router=_(bt);constructor(){}isMenuOpen=!1;toggleAddStation(){this.isMenuOpen=!this.isMenuOpen}closeAddStation(){this.isMenuOpen=!1}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=D({type:t,selectors:[["app-my-stations"]],decls:12,vars:8,consts:[["page_content",""],["stations_table",""],["add_stations_button",""],["crate_station_close_button",""],["basicTable",""],["headerTitleText","Estaciones",3,"useDefaultHeader","headerRightSideElement","content"],["class","overlay",3,"click",4,"ngIf"],[1,"drawer"],[3,"useFullHeight","closeButton"],[1,"base-div"],[1,"inner-content"],["nzTitle","Mis estaciones",2,"height","100%"],[1,"full-nztable-10-items-hight",2,"height","100%","width","100%"],["nzStatus","warning","nzTitle","No se ha podido acceder a las estaciones"],["nzStatus","warning","nzTitle","Cargando..."],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["nzTitle","Me comparten",2,"height","100%"],["nzStatus","warning","nzTitle","No se ha podido acceder a las estaciones",4,"appDashboardCardContentDirective"],["nzStatus","warning","nzTitle","Cargando...",4,"appDashboardCardContentDirective"],["nzTableLayout","fixed",2,"width","100%",3,"nzData"],["nzWidth","180px"],["nzWidth","110px"],["nzWidth","90px"],["nzGhost",""],[3,"nzHeader","nzActive","nzDisabled"],["nz-flex","","nzJustify","space-between","nzAlign","center",1,"station-details-wrappers"],[2,"margin","0"],[3,"routerLink"],[2,"margin","0","color","red"],["nzEllipsis",""],["nzAlign","center"],[1,"button-container"],["nz-button","","nzType","primary","nzSize","default",3,"click"],["nzType","plus"],[1,"overlay",3,"click"],["nz-button","","nzType","primary",3,"click"],["nzType","close"]],template:function(e,n){if(e&1&&(h(0,"app-content-frame",5),u(1,O0,12,2,"ng-template",null,0,V)(3,L0,9,2,"ng-template",null,1,V)(5,B0,4,0,"ng-template",null,2,V)(7,U0,1,0,"div",6),r(8,"div",7),h(9,"app-create-station",8),s(),u(10,$0,2,0,"ng-template",null,3,V)),e&2){let o=E(2),a=E(6),d=E(11);m("useDefaultHeader",!0)("headerRightSideElement",a)("content",o),c(7),m("ngIf",n.isMenuOpen),c(),B("active",n.isMenuOpen),c(),m("useFullHeight",!0)("closeButton",d)}},dependencies:[Be,Ca,ie,Pt,xn,zn,vn,De,Pe,Me,ke,at,ct,Vt,qt,Xt,Wt,en,Yt,Gt,un,qn,Yi,ao,oo,J,me,$e,Ge,Mo,Dt],styles:[".inner-content[_ngcontent-%COMP%]{background:#fff;padding:24px;min-height:280px}.base-div[_ngcontent-%COMP%]{color:#a9a9a9;padding:24px;width:100%;height:100%}.image-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:48px;width:48px;max-width:48px}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:inline-block;height:32px;width:32px;vertical-align:middle}.overlay[_ngcontent-%COMP%]{background-color:#00000080;position:fixed;inset:0;z-index:100}.drawer[_ngcontent-%COMP%]{position:fixed;top:0;right:-60vw;width:60vw;height:100%;background-color:#fff;transition:right .3s ease;z-index:100}.drawer.active[_ngcontent-%COMP%]{right:0}.drawer[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:0}@media (max-width: 670px){.drawer[_ngcontent-%COMP%]{position:fixed;top:0;right:-80vw;width:80vw;height:100%}}"]})};var Us=["*"];function W0(t,i){}function q0(t,i){if(t&1&&(r(0,"span",1),u(1,W0,0,0,"ng-template",2),h(2,"nz-icon",3),s()),t&2){let e=l(),n=E(4);m("nzDropdownMenu",e.nzOverlay),c(),m("ngTemplateOutlet",n)}}function G0(t,i){}function Q0(t,i){if(t&1&&u(0,G0,0,0,"ng-template",2),t&2){l();let e=E(4);m("ngTemplateOutlet",e)}}function K0(t,i){if(t&1&&(te(0),p(1),ne()),t&2){let e=l(2);c(),W(" ",e.nzBreadCrumbComponent.nzSeparator," ")}}function Z0(t,i){if(t&1&&(r(0,"nz-breadcrumb-separator"),u(1,K0,2,1,"ng-container",4),s()),t&2){let e=l();c(),m("nzStringTemplateOutlet",e.nzBreadCrumbComponent.nzSeparator)}}function J0(t,i){t&1&&(r(0,"span",5),re(1),s())}var X0=(t,i)=>i.url;function eC(t,i){if(t&1){let e=M();r(0,"nz-breadcrumb-item")(1,"a",0),y("click",function(o){let a=g(e).$implicit,d=l(2);return C(d.navigate(a.url,o))}),p(2),s()()}if(t&2){let e=i.$implicit;c(),He("href",e.url,ga),c(),K(e.label)}}function tC(t,i){if(t&1&&j(0,eC,3,2,"nz-breadcrumb-item",null,X0),t&2){let e=l();L(e.breadcrumbs)}}var nC=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=D({type:t,selectors:[["nz-breadcrumb-separator"]],hostAttrs:[1,"ant-breadcrumb-separator"],exportAs:["nzBreadcrumbSeparator"],ngContentSelectors:Us,decls:1,vars:0,template:function(n,o){n&1&&(fe(),re(0))},encapsulation:2})}}return t})(),tr=class{},di=(()=>{class t{constructor(e){this.nzBreadCrumbComponent=e}static{this.\u0275fac=function(n){return new(n||t)(T(tr))}}static{this.\u0275cmp=D({type:t,selectors:[["nz-breadcrumb-item"]],inputs:{nzOverlay:"nzOverlay"},exportAs:["nzBreadcrumbItem"],ngContentSelectors:Us,decls:5,vars:2,consts:[["noMenuTpl",""],["nz-dropdown","",1,"ant-breadcrumb-overlay-link",3,"nzDropdownMenu"],[3,"ngTemplateOutlet"],["nzType","down"],[4,"nzStringTemplateOutlet"],[1,"ant-breadcrumb-link"]],template:function(n,o){n&1&&(fe(),u(0,q0,3,2,"span",1)(1,Q0,1,1,null,2)(2,Z0,2,1,"nz-breadcrumb-separator")(3,J0,2,0,"ng-template",null,0,V)),n&2&&(z(o.nzOverlay?0:1),c(2),z(o.nzBreadCrumbComponent.nzSeparator?2:-1))},dependencies:[ie,nC,To,gi,J,me,Re,je],encapsulation:2,changeDetection:0})}}return t})(),Ci=(()=>{class t{constructor(e,n,o,a,d){this.injector=e,this.cdr=n,this.elementRef=o,this.renderer=a,this.directionality=d,this.nzAutoGenerate=!1,this.nzSeparator="/",this.nzRouteLabel="breadcrumb",this.nzRouteLabelFn=f=>f,this.nzRouteFn=f=>f,this.breadcrumbs=[],this.dir="ltr",this.destroy$=new H}ngOnInit(){this.nzAutoGenerate&&this.registerRouterChange(),this.directionality.change?.pipe(P(this.destroy$)).subscribe(e=>{this.dir=e,this.prepareComponentForRtl(),this.cdr.detectChanges()}),this.dir=this.directionality.value,this.prepareComponentForRtl()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}navigate(e,n){n.preventDefault(),this.injector.get(bt).navigateByUrl(e)}registerRouterChange(){try{let e=this.injector.get(bt),n=this.injector.get(jn);e.events.pipe(Xe(o=>o instanceof za),P(this.destroy$),rt(!0)).subscribe(()=>{this.breadcrumbs=this.getBreadcrumbs(n.root),this.cdr.markForCheck()})}catch{throw new Error(`${ho} You should import RouterModule if you want to use 'NzAutoGenerate'.`)}}getBreadcrumbs(e,n="",o=[]){let a=e.children;if(a.length===0)return o;for(let d of a)if(d.outlet===Pl){let f=d.snapshot.url.map(I=>I.path).filter(I=>I).join("/"),x=f?`${n}/${f}`:n,k=this.nzRouteLabelFn(d.snapshot.data[this.nzRouteLabel]),N=this.nzRouteFn(x);if(f&&k){let I={label:k,params:d.snapshot.params,url:N};o.push(I)}return this.getBreadcrumbs(d,x,o)}return o}prepareComponentForRtl(){this.dir==="rtl"?this.renderer.addClass(this.elementRef.nativeElement,"ant-breadcrumb-rtl"):this.renderer.removeClass(this.elementRef.nativeElement,"ant-breadcrumb-rtl")}static{this.\u0275fac=function(n){return new(n||t)(T(ln),T(se),T(pe),T(xt),T(Ee))}}static{this.\u0275cmp=D({type:t,selectors:[["nz-breadcrumb"]],hostAttrs:[1,"ant-breadcrumb"],inputs:{nzAutoGenerate:[2,"nzAutoGenerate","nzAutoGenerate",O],nzSeparator:"nzSeparator",nzRouteLabel:"nzRouteLabel",nzRouteLabelFn:"nzRouteLabelFn",nzRouteFn:"nzRouteFn"},exportAs:["nzBreadcrumb"],features:[Le([{provide:tr,useExisting:mn(()=>t)}])],ngContentSelectors:Us,decls:2,vars:1,consts:[[3,"click"]],template:function(n,o){n&1&&(fe(),re(0),u(1,tC,2,0)),n&2&&(c(),z(o.nzAutoGenerate&&o.breadcrumbs.length?1:-1))},dependencies:[di],encapsulation:2,changeDetection:0})}}return t})(),Vi=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=Ce({type:t})}static{this.\u0275inj=ge({imports:[Ci,di]})}}return t})();function iC(t,i){if(t&1&&(te(0),p(1),ne()),t&2){let e=l(2);c(),K(e.nzText)}}function oC(t,i){if(t&1&&(r(0,"span",0),u(1,iC,2,1,"ng-container",1),s()),t&2){let e=l();c(),m("nzStringTemplateOutlet",e.nzText)}}var vi=(()=>{class t{constructor(){this.nzType="horizontal",this.nzOrientation="center",this.nzVariant="solid",this.nzDashed=!1,this.nzPlain=!1}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=D({type:t,selectors:[["nz-divider"]],hostAttrs:[1,"ant-divider"],hostVars:18,hostBindings:function(n,o){n&2&&B("ant-divider-horizontal",o.nzType==="horizontal")("ant-divider-vertical",o.nzType==="vertical")("ant-divider-with-text",o.nzText)("ant-divider-plain",o.nzPlain)("ant-divider-with-text-left",o.nzText&&o.nzOrientation==="left")("ant-divider-with-text-right",o.nzText&&o.nzOrientation==="right")("ant-divider-with-text-center",o.nzText&&o.nzOrientation==="center")("ant-divider-dashed",o.nzDashed||o.nzVariant==="dashed")("ant-divider-dotted",o.nzVariant==="dotted")},inputs:{nzText:"nzText",nzType:"nzType",nzOrientation:"nzOrientation",nzVariant:"nzVariant",nzDashed:[2,"nzDashed","nzDashed",O],nzPlain:[2,"nzPlain","nzPlain",O]},exportAs:["nzDivider"],decls:1,vars:1,consts:[[1,"ant-divider-inner-text"],[4,"nzStringTemplateOutlet"]],template:function(n,o){n&1&&u(0,oC,2,1,"span",0),n&2&&z(o.nzText?0:-1)},dependencies:[Re,je],encapsulation:2,changeDetection:0})}}return t})(),Hi=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=Ce({type:t})}static{this.\u0275inj=ge({imports:[vi]})}}return t})();var aC=["map_wrapper"],rC=["map"],sC=(t,i)=>({width:t,height:i}),ko=class t{_detector=_(se);map_coordinate_x=null;map_coordinate_y=null;map_wrapper;map;canResizeMap=!1;_mapSize={mapWidth:"100%",mapHeight:"100%"};mapDimensions={height:"1px",width:"1px"};constructor(){window.addEventListener("resize",i=>{this.resizeMap()}),this.resizeMap()}ngOnInit(){this.resizeMap()}ngAfterViewInit(){setTimeout(()=>{this.canResizeMap=!0,this.resizeMap(),this.addLocationToMap()},0)}resizeMap(){this.canResizeMap&&(this.mapDimensions.width=this.map_wrapper.nativeElement.offsetWidth+"px",this.mapDimensions.height=this.map_wrapper.nativeElement.offsetHeight+"px")}addLocationToMap(){if(!this.map_coordinate_x||!this.map_coordinate_y)return;let i={lat:this.map_coordinate_x,lon:this.map_coordinate_y,pop:100},e=new Cc;e.minimumValue=10,e.maximumValue=60;let n=["rgb(252, 32, 32)"],o=new vc;o.brushes=n,o.minimumValue=30,o.maximumValue=300;let a=new Sc;a.markerType=fc.Circle,a.radiusScale=e,a.fillScale=o,a.fillMemberPath="pop",a.radiusMemberPath="pop",a.latitudeMemberPath="lat",a.longitudeMemberPath="lon",a.markerOutline="rgba(14, 194, 14, 9)",a.dataSource=[i],this.map.series.add(a);let d={top:i.lat-.025,left:i.lon-.05,width:.05,height:.05};this.map.zoomToGeographic(d)}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=D({type:t,selectors:[["app-responsive-map"]],viewQuery:function(e,n){if(e&1&&(G(aC,5),G(rC,7)),e&2){let o;R(o=Y())&&(n.map_wrapper=o.first),R(o=Y())&&(n.map=o.first)}},inputs:{map_coordinate_x:"map_coordinate_x",map_coordinate_y:"map_coordinate_y"},decls:5,vars:7,consts:[["map_wrapper",""],["map",""],[1,"map-wrapper"],["zoomable","true",3,"width","height"]],template:function(e,n){e&1&&(r(0,"div",2,0)(2,"div"),h(3,"igx-geographic-map",3,1),s()()),e&2&&(c(2),ve(Kn(4,sC,n.mapDimensions.width,n.mapDimensions.height)),c(),m("width",n._mapSize.mapWidth)("height",n._mapSize.mapHeight))},dependencies:[Aa,zc],styles:["[_nghost-%COMP%]{display:block;width:100%;height:100%}.map-wrapper[_ngcontent-%COMP%]{height:100%;min-height:280px;width:100%;display:flex;align-items:center;justify-content:center}"]})};var hn=class t{_supabaseClient=_(yn).supabaseClient;_authService=_(tt);_state=yt({stationsCodes:[],loading:!1,error:!1});stationsCodes=de(()=>this._state().stationsCodes);loading=de(()=>this._state().loading);error=de(()=>this._state().error);constructor(){}updateStateLoading(i){this._state.update(e=>Fe(ee({},e),{loading:i}))}updateStateError(i){this._state.update(e=>Fe(ee({},e),{error:i}))}updateStateStationCodes(i){this._state.update(e=>Fe(ee({},e),{stationsCodes:i}))}loadAllStationCodes(){return oe(this,null,function*(){try{this.updateStateLoading(!0);let i=this._authService.getCurrentUser(),{data:e}=yield this._supabaseClient.from("v2_stationcodes").select().eq("user_id",i?.id).returns();e&&this.updateStateStationCodes(e)}catch{this.updateStateError(!0)}finally{this.updateStateLoading(!1)}})}getStationCodeById(i){if(!i)return we(null);try{return st(this._supabaseClient.from("v2_stationcodes").select().eq("id",i).returns().limit(1).single()).pipe(ae(({data:e,error:n})=>n?null:e||null))}catch{return this.updateStateError(!0),we(null)}}insertStationCode(i){try{let e=this._authService.getCurrentUser();return st(this._supabaseClient.from("v2_stationcodes").insert(Fe(ee({},i),{user_id:e?.id})).select().returns().limit(1).single()).pipe(ae(({data:n,error:o})=>!!n))}catch{return we(!1)}}deleteStationCode(i){try{return st(this._supabaseClient.from("v2_stationcodes").delete().eq("id",i)).pipe(ae(({error:e})=>!e))}catch{return we(!1)}}updateStationCode(i,e){try{return st(this._supabaseClient.from("v2_stationcodes").update(ee({},e)).eq("id",i)).pipe(ae(({error:n})=>!n))}catch{return we(!1)}}static \u0275fac=function(e){return new(e||t)};static \u0275prov=Ye({token:t,factory:t.\u0275fac,providedIn:"root"})};var Ht=class t{_supabaseClient=_(yn).supabaseClient;_authService=_(tt);_currentUserProfileState=yt({profile:null,loading:!1,error:!1});user_profile=de(()=>this._currentUserProfileState().profile);user_loading=de(()=>this._currentUserProfileState().loading);user_error=de(()=>this._currentUserProfileState().error);_state=yt({contacts:[],loading:!1,error:!1});contacts_profiles=de(()=>this._state().contacts);contacts_loading=de(()=>this._state().loading);contacts_error=de(()=>this._state().error);constructor(){}updateState_UserLoading(i){this._currentUserProfileState.update(e=>Fe(ee({},e),{loading:i}))}updateState_UserError(i){this._currentUserProfileState.update(e=>Fe(ee({},e),{error:i}))}updateState_UserProfile(i){this._currentUserProfileState.update(e=>Fe(ee({},e),{profile:i}))}updateState_ContactsLoading(i){this._state.update(e=>Fe(ee({},e),{loading:i}))}updateState_ContactsError(i){this._state.update(e=>Fe(ee({},e),{error:i}))}updateState_Contacts(i){this._state.update(e=>Fe(ee({},e),{contacts:i}))}getContactProfileById(i,e){if(!i)return null;let n=null;return e.forEach(o=>{o.id===i&&(n=o)}),n}createProfile(i,e,n){return oe(this,null,function*(){try{yield this._supabaseClient.from("v2_profiles").insert({user_id:i,username:e,email:n})}catch{this.updateState_UserError(!0)}})}loadCurrentUserProfile(){return oe(this,null,function*(){try{this.updateState_UserLoading(!0);let i=this._authService.getCurrentUser(),{data:e}=yield this._supabaseClient.from("v2_profiles").select().eq("user_id",i?.id).returns();e?this.updateState_UserProfile(e[0]):this.updateState_UserError(!0)}catch{this.updateState_UserError(!0)}finally{this.updateState_UserLoading(!1)}})}deleteContact(i){try{let e=this._authService.getCurrentUser();return st(this._supabaseClient.from("v2_contacts").delete().or(`user_1_id.eq.${e?.id}, user_2_id.eq.${e?.id}`).or(`user_1_id.eq.${i}, user_2_id.eq.${i}`)).pipe(ae(({error:n})=>(this.loadAllCurrentUserContacts(),!n)))}catch{return this.updateState_ContactsError(!0),we(!1)}}insertContact(i){try{let e=this._authService.getCurrentUser();return st(this._supabaseClient.from("v2_contacts").insert({user_1_id:e?.id,user_2_id:i})).pipe(ae(({error:n})=>(n||this.loadAllCurrentUserContacts(),!n)))}catch{return this.updateState_ContactsError(!0),we(!1)}}getProfileByUsername(i){try{return st(this._supabaseClient.from("v2_profiles").select().ilike("username",i).returns().limit(1).single()).pipe(ae(({data:e})=>e))}catch{return we(null)}}simple_getCurrentUserProfile(){return oe(this,null,function*(){try{let i=this._authService.getCurrentUser(),{data:e}=yield this._supabaseClient.from("v2_profiles").select().eq("user_id",i?.id).returns().limit(1).single();return e||null}catch{return null}})}loadAllCurrentUserContacts(){return oe(this,null,function*(){try{this.updateState_ContactsLoading(!0);let i=this._authService.getCurrentUser(),{data:e}=yield this._supabaseClient.from("v2_contacts").select().or(`user_1_id.eq.${i?.id}, user_2_id.eq.${i?.id}`).returns();if(e){let n=e.map(o=>o.user_1_id===i?.id?o.user_2_id:o.user_1_id);this.loadAllCurrentUserContacts_Aux(n)}else this.updateState_ContactsError(!0)}catch{this.updateState_ContactsError(!0)}finally{this.updateState_ContactsLoading(!1)}})}loadAllCurrentUserContacts_Aux(i){return oe(this,null,function*(){try{let{data:e}=yield this._supabaseClient.from("v2_profiles").select().in("user_id",i).returns();e?this.updateState_Contacts(e):this.updateState_ContactsError(!0)}catch{this.updateState_ContactsError(!0)}finally{this.updateState_ContactsLoading(!1)}})}static \u0275fac=function(e){return new(e||t)};static \u0275prov=Ye({token:t,factory:t.\u0275fac,providedIn:"root"})};var Tn=class t{_supabaseClient=_(yn).supabaseClient;_authService=_(tt);_alertsState=yt({alerts:[],loading:!1,error:!1});alerts=de(()=>this._alertsState().alerts);alerts_loading=de(()=>this._alertsState().loading);alerts_error=de(()=>this._alertsState().error);variableSelectOptions=[{value:"temperature",display:"Temperatura"},{value:"humidity",display:"Humedad"}];conditionSelectOptions=[{value:"greaterthan",display:"Mayor que"},{value:"lessthan",display:"Menor que"}];constructor(){}updateState_AlertsLoading(i){this._alertsState.update(e=>Fe(ee({},e),{loading:i}))}updateState_AlertsError(i){this._alertsState.update(e=>Fe(ee({},e),{error:i}))}updateState_Alerts(i){this._alertsState.update(e=>Fe(ee({},e),{alerts:i}))}loadAllCurrentUserAlerts(){return oe(this,null,function*(){try{this.updateState_AlertsLoading(!0);let i=this._authService.currentUserProfile(),{data:e}=yield this._supabaseClient.from("v2_alerts").select("*, v2_alert_virtualstations(virtualstation_id, v2_virtualweatherstations(*))").eq("owner_profile_id",i?.id);if(e){let n=[];e.forEach(o=>{n.push({id:o.id,name:o.name,created_at:o.created_at,owner_profile_id:o.owner_profile_id,owner_profile:i,variable:o.variable,condition:o.condition,value:o.value,stations:o.v2_alert_virtualstations.map(a=>a.v2_virtualweatherstations)})}),this.updateState_AlertsError(!1),this.updateState_Alerts(n)}else this.updateState_AlertsError(!0)}catch{this.updateState_AlertsError(!0)}finally{this.updateState_AlertsLoading(!1)}})}insertAlert(i){try{let e=this._authService.currentUserProfile();return st(this._supabaseClient.from("v2_alerts").insert(Fe(ee({},i),{owner_profile_id:e?.id})).select().returns().limit(1).single()).pipe(ae(({data:n,error:o})=>!o&&n?n:null))}catch{return this.updateState_AlertsError(!0),we(null)}}updateAlert(i,e){try{let n=this._authService.currentUserProfile();return st(this._supabaseClient.from("v2_alerts").update(ee({},e)).eq("id",i).eq("owner_profile_id",n?.id)).pipe(ae(({error:o})=>o?!!o:!o))}catch{return this.updateState_AlertsError(!0),we(!1)}}deleteAlert(i){try{let e=this._authService.currentUserProfile();return st(this._supabaseClient.from("v2_alerts").delete().eq("id",i).eq("owner_profile_id",e?.id)).pipe(ae(({error:n})=>n?!!n:!n))}catch{return we(!1)}}insertAlertStationLink(i,e){try{return st(this._supabaseClient.from("v2_alert_virtualstations").insert({alert_id:i,virtualstation_id:e}).select().returns().limit(1).single()).pipe(ae(({data:n,error:o})=>!o&&n?n:null))}catch{return we(null)}}deleteAlertStationLinks(i,e){try{return st(this._supabaseClient.from("v2_alert_virtualstations").delete().eq("alert_id",i).in("virtualstation_id",e)).pipe(ae(({error:n})=>n?!!n:!n))}catch{return we(!1)}}deleteAlertStationLinksByStationId(i,e){try{return st(this._supabaseClient.from("v2_alert_virtualstations").delete().eq("virtualstation_id",i).in("alert_id",e)).pipe(ae(({error:n})=>n?!!n:!n))}catch{return we(!1)}}static \u0275fac=function(e){return new(e||t)};static \u0275prov=Ye({token:t,factory:t.\u0275fac,providedIn:"root"})};var lC=(t,i)=>i.profile.id;function cC(t,i){t&1&&h(0,"div")}function dC(t,i){if(t&1&&u(0,cC,1,0,"div",5),t&2){let e=l(2);m("ngTemplateOutlet",e.closeButton)}}function mC(t,i){if(t&1&&u(0,dC,1,1,"div"),t&2){let e=l();z(e.closeButton?0:-1)}}function pC(t,i){t&1&&(r(0,"div",8),h(1,"nz-result",9),s())}function uC(t,i){if(t&1){let e=M();r(0,"tr")(1,"td",12),y("nzCheckedChange",function(o){let a=g(e).$implicit,d=l(3);return C(d.onItemChecked(a.profile.user_id,o))}),s(),r(2,"td"),h(3,"img",13),s(),r(4,"td",14),p(5),s()()}if(t&2){let e=i.$implicit,n=l(3);c(),m("nzChecked",n.setOfCheckedId.has(e.profile.user_id))("nzDisabled",e.disabled)("nzLabel",e.profile.username),c(4),K(e.profile.username)}}function hC(t,i){if(t&1){let e=M();r(0,"div")(1,"span"),p(2,"*La estaci\xF3n ya est\xE1 siendo compartida con los contactos que se muestran deshabilitados."),s(),r(3,"nz-table",10,3),y("nzCurrentPageDataChange",function(o){g(e);let a=l(2);return C(a.onCurrentPageDataChange(o))}),r(5,"thead")(6,"tr")(7,"th",11),y("nzCheckedChange",function(o){g(e);let a=l(2);return C(a.onAllChecked(o))}),s(),h(8,"th"),r(9,"th"),p(10,"Usuario"),s()()(),r(11,"tbody"),j(12,uC,6,4,"tr",null,lC),s()()()}if(t&2){let e=E(4),n=l(2);c(3),m("nzData",n.contacts),c(4),m("nzChecked",n.checked)("nzIndeterminate",n.indeterminate),c(5),L(e.data)}}function fC(t,i){if(t&1&&(r(0,"div",6)(1,"div",7),u(2,pC,2,0,"div",8)(3,hC,14,3,"div"),s()()),t&2){let e=l();c(2),z(e.currentStationId?3:2)}}function _C(t,i){if(t&1){let e=M();r(0,"button",18),y("click",function(){g(e);let o=l(2);return C(o.shareStationWithSelectedUsers())}),h(1,"nz-icon",19),p(2," Compartir "),s()}}function gC(t,i){if(t&1&&(r(0,"div",15)(1,"div",16),u(2,_C,3,0,"button",17),s()()),t&2){let e=l();c(2),z(e.currentStationId?2:-1)}}var ro=class t{useFullHeight=!1;closeButton;stationId=null;onStationsShared=new F;_modal=_(Wn);_activateRoute=_(jn);_stationsService=_(We);_contactsService=_(Ht);routesAccessService=_(Qe);_nzMessageService=_(ut);currentStationId=null;checked=!1;loading=!1;indeterminate=!1;setOfCheckedId=new Set;alreadySharedWithUserdId=[];contacts=[];contactsOfCurrentPage=[];constructor(){this.currentStationId=this.getSelectedContactId();let i=this._stationsService.stations().find(e=>e.id===this.currentStationId);if(i){this.alreadySharedWithUserdId=i.v2_sharedstations.map(n=>n.target_user_id);let e=this._contactsService.contacts_profiles();this.contacts=this.getDisabledWrappedContactsProfiles(e)}kt(()=>{let e=this._stationsService.stations().find(n=>n.id===this.currentStationId);if(e){this.alreadySharedWithUserdId=e.v2_sharedstations.map(o=>o.target_user_id);let n=this._contactsService.contacts_profiles();this.contacts=this.getDisabledWrappedContactsProfiles(n)}})}getDisabledWrappedContactsProfiles(i){return i.map(e=>({profile:e,disabled:this.alreadySharedWithUserdId.some(n=>n===e.user_id)}))}getSelectedContactId(){return this.stationId?this.stationId:this._activateRoute.snapshot.paramMap.get(this.routesAccessService.STATIONS_PARAMS.station_id)}ngOnInit(){}updateCheckedSet(i,e){e?this.setOfCheckedId.add(i):this.setOfCheckedId.delete(i)}onCurrentPageDataChange(i){this.contactsOfCurrentPage=i,this.refreshCheckedStatus()}refreshCheckedStatus(){let i=this.contactsOfCurrentPage.filter(({disabled:e})=>!e);this.checked=i.every(({profile:e})=>this.setOfCheckedId.has(e.user_id)),this.indeterminate=i.some(({profile:e})=>this.setOfCheckedId.has(e.id))&&!this.checked}onItemChecked(i,e){this.updateCheckedSet(i,e),this.refreshCheckedStatus()}onAllChecked(i){this.contactsOfCurrentPage.filter(({disabled:e})=>!e).forEach(({profile:e})=>this.updateCheckedSet(e.user_id,i)),this.refreshCheckedStatus()}sendRequest(){this.loading=!0;let i=this.contacts.filter(e=>this.setOfCheckedId.has(e.profile.user_id));setTimeout(()=>{this.setOfCheckedId.clear(),this.refreshCheckedStatus(),this.loading=!1},1e3)}shareStationWithSelectedUsers(){return oe(this,null,function*(){(yield this._stationsService.simple_shareStationWithContacts(this.currentStationId,Array.from(this.setOfCheckedId)))&&(this.onStationsShared.emit(),this._nzMessageService.create("success","La estaci\xF3n se comparti\xF3 correctamente."),this.setOfCheckedId.clear(),this._stationsService.loadAllCurrentUserStations())})}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=D({type:t,selectors:[["app-share-station"]],inputs:{useFullHeight:"useFullHeight",closeButton:"closeButton",stationId:"stationId"},outputs:{onStationsShared:"onStationsShared"},decls:7,vars:5,consts:[["close_create_station",""],["page_content",""],["footer_content",""],["rowSelectionTable",""],["headerIconSource","","headerTitleText","Compartir Estaci\xF3n",3,"useFullHeight","useDefaultHeader","headerRightSideElement","content","footerContent"],[4,"ngTemplateOutlet"],[1,"base-div"],[1,"ant-advanced-search-form"],[1,"content-body-wrapper"],["nzStatus","warning","nzTitle","No se pudo acceder a la estaci\xF3n"],["nzShowPagination","","nzShowSizeChanger","","nzSize","middle",3,"nzCurrentPageDataChange","nzData"],["nzLabel","Seleccionar todos",3,"nzCheckedChange","nzChecked","nzIndeterminate"],[3,"nzCheckedChange","nzChecked","nzDisabled","nzLabel"],["width","35","height","35","src","images/account_profile_circle.png",1,"profile-image"],["nzEllipsis",""],["nz-row","",2,"width","100%"],["nz-flex","","nzJustify","flex-end","nzAlign","center",1,"btn-wrappers"],["nz-button","","nzType","primary","nzSize","default"],["nz-button","","nzType","primary","nzSize","default",3,"click"],["nzType","share-alt","nzTheme","outline"]],template:function(e,n){if(e&1&&(h(0,"app-content-frame",4),u(1,mC,1,1,"ng-template",null,0,V)(3,fC,4,1,"ng-template",null,1,V)(5,gC,3,1,"ng-template",null,2,V)),e&2){let o=E(2),a=E(4),d=E(6);m("useFullHeight",n.useFullHeight)("useDefaultHeader",!0)("headerRightSideElement",o)("content",a)("footerContent",d)}},dependencies:[Dt,Ue,Be,ie,De,Pe,Me,ke,Ft,wt,J,me,ht,$e,Ge,sn,Vt,qt,Xt,Wt,oa,en,Yt,Gt,qn,aa,at,ct],styles:[".base-div[_ngcontent-%COMP%]{color:#000;width:100%;height:100%}.ant-advanced-search-form[_ngcontent-%COMP%]{height:100%;padding:24px;background:#fbfbfb}.search-result-list[_ngcontent-%COMP%]{margin-top:16px;border:1px dashed #e9e9e9;border-radius:6px;background-color:#fafafa;min-height:200px;text-align:center;padding-top:80px}[nz-form-label][_ngcontent-%COMP%]{overflow:visible}button[_ngcontent-%COMP%]{margin-left:8px}.collapse[_ngcontent-%COMP%]{margin-left:8px;font-size:12px}.search-area[_ngcontent-%COMP%]{text-align:right}.btn-wrappers[_ngcontent-%COMP%]{width:100%}"]})};var CC=["drawerTemplate"];function vC(t,i){if(t&1){let e=M();r(0,"div",9),y("click",function(){g(e);let o=l(2);return C(o.maskClick())}),s()}if(t&2){let e=l(2);ve(e.nzMaskStyle),m("@drawerMaskMotion",void 0)}}function zC(t,i){if(t&1&&(te(0),h(1,"nz-icon",17),ne()),t&2){let e=i.$implicit;c(),m("nzType",e)}}function SC(t,i){if(t&1){let e=M();r(0,"button",15),y("click",function(){g(e);let o=l(3);return C(o.closeClick())}),u(1,zC,2,1,"ng-container",16),s()}if(t&2){let e=l(3);c(),m("nzStringTemplateOutlet",e.nzCloseIcon)}}function yC(t,i){if(t&1&&(te(0),p(1),ne()),t&2){let e=l(4);c(),K(e.nzTitle)}}function xC(t,i){if(t&1&&(r(0,"div",13),u(1,yC,2,1,"ng-container",16),s()),t&2){let e=l(3);c(),m("nzStringTemplateOutlet",e.nzTitle)}}function bC(t,i){if(t&1&&(te(0),p(1),ne()),t&2){let e=l(4);c(),K(e.nzExtra)}}function TC(t,i){if(t&1&&(r(0,"div",14),u(1,bC,2,1,"ng-container",16),s()),t&2){let e=l(3);c(),m("nzStringTemplateOutlet",e.nzExtra)}}function wC(t,i){if(t&1&&(r(0,"div",10)(1,"div",11),u(2,SC,2,1,"button",12)(3,xC,2,1,"div",13),s(),u(4,TC,2,1,"div",14),s()),t&2){let e=l(2);B("ant-drawer-header-close-only",!e.nzTitle),c(2),z(e.nzClosable?2:-1),c(),z(e.nzTitle?3:-1),c(),z(e.nzExtra?4:-1)}}function DC(t,i){}function MC(t,i){t&1&&lt(0)}function kC(t,i){if(t&1&&u(0,MC,1,0,"ng-container",18),t&2){let e=l(3);m("ngTemplateOutlet",e.nzContent)("ngTemplateOutletContext",e.templateContext)}}function PC(t,i){if(t&1&&u(0,kC,1,2,"ng-container"),t&2){let e=l(2);z(e.isNzContentTemplateRef?0:-1)}}function IC(t,i){}function OC(t,i){if(t&1&&u(0,IC,0,0,"ng-template",19),t&2){let e=l(3);m("ngTemplateOutlet",e.contentFromContentChild)}}function NC(t,i){if(t&1&&u(0,OC,1,1,null,19),t&2){let e=l(2);z(e.contentFromContentChild&&(e.isOpen||e.inAnimation)?0:-1)}}function FC(t,i){if(t&1&&(te(0),p(1),ne()),t&2){let e=l(3);c(),K(e.nzFooter)}}function EC(t,i){if(t&1&&(r(0,"div",8),u(1,FC,2,1,"ng-container",16),s()),t&2){let e=l(2);c(),m("nzStringTemplateOutlet",e.nzFooter)}}function AC(t,i){if(t&1&&(r(0,"div",1),u(1,vC,1,3,"div",2),r(2,"div")(3,"div",3)(4,"div",4),u(5,wC,5,5,"div",5),r(6,"div",6),u(7,DC,0,0,"ng-template",7)(8,PC,1,1)(9,NC,1,1),s(),u(10,EC,2,1,"div",8),s()()()()),t&2){let e=l();pt("transform",e.offsetTransform)("transition",e.placementChanging?"none":null)("z-index",e.nzZIndex),B("ant-drawer-rtl",e.dir==="rtl")("ant-drawer-open",e.isOpen)("no-mask",!e.nzMask)("ant-drawer-top",e.nzPlacement==="top")("ant-drawer-bottom",e.nzPlacement==="bottom")("ant-drawer-right",e.nzPlacement==="right")("ant-drawer-left",e.nzPlacement==="left"),m("nzNoAnimation",e.nzNoAnimation),c(),z(e.nzMask&&e.isOpen?1:-1),c(),fl("ant-drawer-content-wrapper ",e.nzWrapClassName,""),pt("width",e.width)("height",e.height)("transform",e.transform)("transition",e.placementChanging?"none":null),c(2),pt("height",e.isLeftOrRight?"100%":null),c(),z(e.nzTitle||e.nzClosable?5:-1),c(),ve(e.nzBodyStyle),c(2),z(e.nzContent?8:9),c(2),z(e.nzFooter?10:-1)}}var Hn=(()=>{class t{constructor(e){this.templateRef=e}static{this.\u0275fac=function(n){return new(n||t)(T(mt))}}static{this.\u0275dir=Ve({type:t,selectors:[["","nzDrawerContent",""]],exportAs:["nzDrawerContent"]})}}return t})(),im=378,om=736,RC=new tn("NZ_DRAWER_DATA"),or=class{},YC=300,VC="drawer",wn=(()=>{let t=or,i,e=[],n=[],o,a=[],d=[],f,x=[],k=[],N,I=[],$=[];return class $s extends t{static{let v=typeof Symbol=="function"&&Symbol.metadata?Object.create(t[Symbol.metadata]??null):void 0;i=[_e()],o=[_e()],f=[_e()],N=[_e()],he(null,null,i,{kind:"field",name:"nzMaskClosable",static:!1,private:!1,access:{has:S=>"nzMaskClosable"in S,get:S=>S.nzMaskClosable,set:(S,w)=>{S.nzMaskClosable=w}},metadata:v},e,n),he(null,null,o,{kind:"field",name:"nzMask",static:!1,private:!1,access:{has:S=>"nzMask"in S,get:S=>S.nzMask,set:(S,w)=>{S.nzMask=w}},metadata:v},a,d),he(null,null,f,{kind:"field",name:"nzCloseOnNavigation",static:!1,private:!1,access:{has:S=>"nzCloseOnNavigation"in S,get:S=>S.nzCloseOnNavigation,set:(S,w)=>{S.nzCloseOnNavigation=w}},metadata:v},x,k),he(null,null,N,{kind:"field",name:"nzDirection",static:!1,private:!1,access:{has:S=>"nzDirection"in S,get:S=>S.nzDirection,set:(S,w)=>{S.nzDirection=w}},metadata:v},I,$),v&&Object.defineProperty(this,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:v})}set nzVisible(v){this.isOpen=v}get nzVisible(){return this.isOpen}get offsetTransform(){if(!this.isOpen||this.nzOffsetX+this.nzOffsetY===0)return null;switch(this.nzPlacement){case"left":return`translateX(${this.nzOffsetX}px)`;case"right":return`translateX(-${this.nzOffsetX}px)`;case"top":return`translateY(${this.nzOffsetY}px)`;case"bottom":return`translateY(-${this.nzOffsetY}px)`}}get transform(){if(this.isOpen)return null;switch(this.nzPlacement){case"left":return"translateX(-100%)";case"right":return"translateX(100%)";case"top":return"translateY(-100%)";case"bottom":return"translateY(100%)"}}get width(){if(this.isLeftOrRight){let v=this.nzSize==="large"?om:im;return this.nzWidth===void 0?Xi(v):Xi(this.nzWidth)}return null}get height(){if(!this.isLeftOrRight){let v=this.nzSize==="large"?om:im;return this.nzHeight===void 0?Xi(v):Xi(this.nzHeight)}return null}get isLeftOrRight(){return this.nzPlacement==="left"||this.nzPlacement==="right"}get afterOpen(){return this.nzAfterOpen.asObservable()}get afterClose(){return this.nzAfterClose.asObservable()}get isNzContentTemplateRef(){return Kl(this.nzContent)}constructor(v,S,w,A,q,ce,_t,Ze,Je,X){super(),this.cdr=v,this.nzConfigService=S,this.renderer=w,this.overlay=A,this.injector=q,this.changeDetectorRef=ce,this.focusTrapFactory=_t,this.viewContainerRef=Ze,this.overlayKeyboardDispatcher=Je,this.directionality=X,this._nzModuleName=VC,this.nzCloseIcon="close",this.nzClosable=!0,this.nzMaskClosable=U(this,e,!0),this.nzMask=(U(this,n),U(this,a,!0)),this.nzCloseOnNavigation=(U(this,d),U(this,x,!0)),this.nzNoAnimation=(U(this,k),!1),this.nzKeyboard=!0,this.nzPlacement="right",this.nzSize="default",this.nzMaskStyle={},this.nzBodyStyle={},this.nzZIndex=1e3,this.nzOffsetX=0,this.nzOffsetY=0,this.componentInstance=null,this.componentRef=null,this.nzOnViewInit=new F,this.nzOnClose=new F,this.nzVisibleChange=new F,this.destroy$=new H,this.placementChanging=!1,this.isOpen=!1,this.inAnimation=!1,this.templateContext={$implicit:void 0,drawerRef:this},this.nzAfterOpen=new H,this.nzAfterClose=new H,this.nzDirection=U(this,I,void 0),this.dir=(U(this,$),"ltr"),this.document=_(Qi)}ngOnInit(){this.directionality.change?.pipe(P(this.destroy$)).subscribe(v=>{this.dir=v,this.cdr.detectChanges()}),this.dir=this.nzDirection||this.directionality.value,this.attachOverlay(),this.updateOverlayStyle(),this.updateBodyOverflow(),this.templateContext={$implicit:this.nzData||this.nzContentParams,drawerRef:this},this.changeDetectorRef.detectChanges()}ngAfterViewInit(){this.attachBodyContent(),this.nzOnViewInit.observers.length&&setTimeout(()=>{this.nzOnViewInit.emit()})}ngOnChanges(v){let{nzPlacement:S,nzVisible:w}=v;w&&(v.nzVisible.currentValue?this.open():this.close()),S&&!S.isFirstChange()&&this.triggerPlacementChangeCycleOnce()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),clearTimeout(this.placementChangeTimeoutId),this.disposeOverlay()}getAnimationDuration(){return this.nzNoAnimation?0:YC}triggerPlacementChangeCycleOnce(){this.nzNoAnimation||(this.placementChanging=!0,this.changeDetectorRef.markForCheck(),clearTimeout(this.placementChangeTimeoutId),this.placementChangeTimeoutId=setTimeout(()=>{this.placementChanging=!1,this.changeDetectorRef.markForCheck()},this.getAnimationDuration()))}close(v){this.isOpen=!1,this.inAnimation=!0,this.nzVisibleChange.emit(!1),this.updateOverlayStyle(),this.overlayKeyboardDispatcher.remove(this.overlayRef),this.changeDetectorRef.detectChanges(),setTimeout(()=>{this.updateBodyOverflow(),this.restoreFocus(),this.inAnimation=!1,this.nzAfterClose.next(v),this.nzAfterClose.complete(),this.componentInstance=null,this.componentRef=null},this.getAnimationDuration())}open(){this.attachOverlay(),this.isOpen=!0,this.inAnimation=!0,this.nzVisibleChange.emit(!0),this.overlayKeyboardDispatcher.add(this.overlayRef),this.updateOverlayStyle(),this.updateBodyOverflow(),this.savePreviouslyFocusedElement(),this.trapFocus(),this.changeDetectorRef.detectChanges(),setTimeout(()=>{this.inAnimation=!1,this.changeDetectorRef.detectChanges(),this.nzAfterOpen.next()},this.getAnimationDuration())}getContentComponent(){return this.componentInstance}getContentComponentRef(){return this.componentRef}closeClick(){this.nzOnClose.emit()}maskClick(){this.nzMaskClosable&&this.nzMask&&this.nzOnClose.emit()}attachBodyContent(){if(this.bodyPortalOutlet.dispose(),this.nzContent instanceof pa){let v=ln.create({parent:this.injector,providers:[{provide:or,useValue:this},{provide:RC,useValue:this.nzData}]}),S=new Pi(this.nzContent,null,v);this.componentRef=this.bodyPortalOutlet.attachComponentPortal(S),this.componentInstance=this.componentRef.instance,Object.assign(this.componentRef.instance,this.nzData||this.nzContentParams),this.componentRef.changeDetectorRef.detectChanges()}}attachOverlay(){this.overlayRef||(this.portal=new Ii(this.drawerTemplate,this.viewContainerRef),this.overlayRef=this.overlay.create(this.getOverlayConfig()),ka(this.overlayRef,this.nzZIndex)),this.overlayRef&&!this.overlayRef.hasAttached()&&(this.overlayRef.attach(this.portal),this.overlayRef.keydownEvents().pipe(P(this.destroy$)).subscribe(v=>{v.keyCode===27&&this.isOpen&&this.nzKeyboard&&this.nzOnClose.emit()}),this.overlayRef.detachments().pipe(P(this.destroy$)).subscribe(()=>{this.close(),this.disposeOverlay()}))}disposeOverlay(){this.overlayRef?.dispose(),this.overlayRef=null}getOverlayConfig(){return new wa({disposeOnNavigation:this.nzCloseOnNavigation,positionStrategy:this.overlay.position().global(),scrollStrategy:this.overlay.scrollStrategies.block()})}updateOverlayStyle(){this.overlayRef&&this.overlayRef.overlayElement&&this.renderer.setStyle(this.overlayRef.overlayElement,"pointer-events",this.isOpen?"auto":"none")}updateBodyOverflow(){this.overlayRef&&(this.isOpen?this.overlayRef.getConfig().scrollStrategy.enable():this.overlayRef.getConfig().scrollStrategy.disable())}savePreviouslyFocusedElement(){this.document&&!this.previouslyFocusedElement&&(this.previouslyFocusedElement=this.document.activeElement,this.previouslyFocusedElement&&typeof this.previouslyFocusedElement.blur=="function"&&this.previouslyFocusedElement.blur())}trapFocus(){!this.focusTrap&&this.overlayRef&&this.overlayRef.overlayElement&&(this.focusTrap=this.focusTrapFactory.create(this.overlayRef.overlayElement),this.focusTrap.focusInitialElement())}restoreFocus(){this.previouslyFocusedElement&&typeof this.previouslyFocusedElement.focus=="function"&&(this.previouslyFocusedElement.focus(),this.previouslyFocusedElement=void 0),this.focusTrap&&this.focusTrap.destroy()}static{this.\u0275fac=function(S){return new(S||$s)(T(se),T(nt),T(xt),T(Ji),T(ln),T(se),T(Ta),T(Fn),T(jl),T(Ee))}}static{this.\u0275cmp=D({type:$s,selectors:[["nz-drawer"]],contentQueries:function(S,w,A){if(S&1&&it(A,Hn,7,mt),S&2){let q;R(q=Y())&&(w.contentFromContentChild=q.first)}},viewQuery:function(S,w){if(S&1&&(G(CC,7),G(Ln,5)),S&2){let A;R(A=Y())&&(w.drawerTemplate=A.first),R(A=Y())&&(w.bodyPortalOutlet=A.first)}},inputs:{nzContent:"nzContent",nzCloseIcon:"nzCloseIcon",nzClosable:[2,"nzClosable","nzClosable",O],nzMaskClosable:[2,"nzMaskClosable","nzMaskClosable",O],nzMask:[2,"nzMask","nzMask",O],nzCloseOnNavigation:[2,"nzCloseOnNavigation","nzCloseOnNavigation",O],nzNoAnimation:[2,"nzNoAnimation","nzNoAnimation",O],nzKeyboard:[2,"nzKeyboard","nzKeyboard",O],nzTitle:"nzTitle",nzExtra:"nzExtra",nzFooter:"nzFooter",nzPlacement:"nzPlacement",nzSize:"nzSize",nzMaskStyle:"nzMaskStyle",nzBodyStyle:"nzBodyStyle",nzWrapClassName:"nzWrapClassName",nzWidth:"nzWidth",nzHeight:"nzHeight",nzZIndex:"nzZIndex",nzOffsetX:"nzOffsetX",nzOffsetY:"nzOffsetY",nzVisible:[2,"nzVisible","nzVisible",O]},outputs:{nzOnViewInit:"nzOnViewInit",nzOnClose:"nzOnClose",nzVisibleChange:"nzVisibleChange"},exportAs:["nzDrawer"],features:[bi,Q],decls:2,vars:0,consts:[["drawerTemplate",""],[1,"ant-drawer",3,"nzNoAnimation"],[1,"ant-drawer-mask",3,"style"],[1,"ant-drawer-content"],[1,"ant-drawer-wrapper-body"],[1,"ant-drawer-header",3,"ant-drawer-header-close-only"],["cdkScrollable","",1,"ant-drawer-body"],["cdkPortalOutlet",""],[1,"ant-drawer-footer"],[1,"ant-drawer-mask",3,"click"],[1,"ant-drawer-header"],[1,"ant-drawer-header-title"],["aria-label","Close",1,"ant-drawer-close"],[1,"ant-drawer-title"],[1,"ant-drawer-extra"],["aria-label","Close",1,"ant-drawer-close",3,"click"],[4,"nzStringTemplateOutlet"],[3,"nzType"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngTemplateOutlet"]],template:function(S,w){S&1&&u(0,AC,11,40,"ng-template",null,0,V)},dependencies:[Jn,Re,je,J,me,Zi,Ln,ie,jo],encapsulation:2,data:{animation:[$l]},changeDetection:0})}}})(),Ws=class{constructor(i,e){this.overlay=i,this.options=e,this.unsubscribe$=new H;let a=this.options,{nzOnCancel:n}=a,o=sa(a,["nzOnCancel"]);this.overlayRef=this.overlay.create(),this.drawerRef=this.overlayRef.attach(new Pi(wn)).instance,this.updateOptions(o),this.drawerRef.savePreviouslyFocusedElement(),this.drawerRef.nzOnViewInit.pipe(P(this.unsubscribe$)).subscribe(()=>{this.drawerRef.open()}),this.drawerRef.nzOnClose.subscribe(()=>{n?n().then(d=>{d!==!1&&this.drawerRef.close()}):this.drawerRef.close()}),this.drawerRef.afterClose.pipe(P(this.unsubscribe$)).subscribe(()=>{this.overlayRef.dispose(),this.drawerRef=null,this.unsubscribe$.next(),this.unsubscribe$.complete()})}getInstance(){return this.drawerRef}updateOptions(i){Object.assign(this.drawerRef,i)}},HC=(()=>{class t{constructor(e){this.overlay=e}create(e){return new Ws(this.overlay,e).getInstance()}static{this.\u0275fac=function(n){return new(n||t)(pi(Ji))}}static{this.\u0275prov=Ye({token:t,factory:t.\u0275fac})}}return t})(),Gn=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=Ce({type:t})}static{this.\u0275inj=ge({providers:[HC],imports:[wn]})}}return t})();var ji=class{_supabaseClient=_(yn).supabaseClient;_authService=_(tt);measurements_subjectObject=new Ae([]);measurements_observable=this.measurements_subjectObject.asObservable();measurementsToday_subjectObject=new Ae([]);measurementsToday_observable=this.measurementsToday_subjectObject.asObservable();hourlyAvaragesFromDays_subjectObject=new Ae([]);hourlyAvaragesFromDays_observable=this.hourlyAvaragesFromDays_subjectObject.asObservable();hourlyAvaragesLast24Hours_subjectObject=new Ae([]);hourlyAvaragesLast24Hours_observable=this.hourlyAvaragesLast24Hours_subjectObject.asObservable();measurementsSummary_subjectObject=new Ae(null);measurementsSummary_observable=this.measurementsSummary_subjectObject.asObservable();currentImei=null;setCurrentImei(i){this.currentImei=i}constructor(){this.measurementsToday_observable.subscribe(i=>oe(this,null,function*(){this.measurementsSummary_subjectObject.next(this.getMessurementsSummary(i))})),this.obtainMeasurements()}getMessurementsSummary(i){if(i.length===0)return null;let e=null,n=null,o=null,a=null,d=null,f=null,x=null,k=null,N=null,I=null,$=null,b=null,v=null,S=null,w=null,A=null;for(let ce of i)e=e?Math.max(ce.temperature,e):ce.temperature,n=n?Math.min(ce.temperature,n):ce.temperature,o=ce.temperature,a=a?Math.max(ce.humidity,a):ce.humidity,d=d?Math.min(ce.humidity,d):ce.humidity,f=ce.humidity,x=x?Math.max(ce.atmospheric_pressure,x):ce.atmospheric_pressure,k=k?Math.min(ce.atmospheric_pressure,k):ce.atmospheric_pressure,N=ce.atmospheric_pressure,I=I?Math.max(ce.rain,I):ce.rain,$=$?Math.min(ce.rain,$):ce.rain,b=ce.rain,v=v?Math.max(ce.wind,v):ce.wind,S=S?Math.min(ce.wind,S):ce.wind,w=ce.wind,A=ce.wind;return{temperature_max:e,temperature_min:n,temperature_current:o,humidity_max:a,humidity_min:d,humidity_current:f,pressure_max:x,pressure_min:k,pressure_current:N,rain_max:I,rain_min:$,rain_current:b,windspeed_max:v,windspeed_min:S,windspeed_current:w,wind_dir:A}}obtainMeasurements(){let i=this._supabaseClient.channel("measurement"),e=n=>{if(!this.currentImei)return;let o=this.measurements_subjectObject.getValue(),a=this.measurementsToday_subjectObject.getValue(),d=n.new;d.imei===this.currentImei&&(o.push(d),this.measurements_subjectObject.next(o),a.push(d),this.measurementsToday_subjectObject.next(o))};i.on("postgres_changes",{event:"*",schema:"public",table:"measurement"},e).subscribe()}loadInitialMeasurements(i,e){return oe(this,null,function*(){try{let{data:n,error:o}=yield this._supabaseClient.from("measurement").select("*").eq("imei",i).order("timestamp",{ascending:!1}).limit(e);if(o)throw o;this.measurements_subjectObject.next(n||[])}catch{}})}loadMeasurementsMinutesAgo(i,e){return oe(this,null,function*(){let o=new Date(Date.now()),a=new Date(Date.now()-e*6e4);try{let d=[],f=1,x=!0;for(;x;){let{data:k,error:N}=yield this.getBatchMeasurements(i,o,a,1e3,f);if(N)return;k&&(d=d.concat(k));let I=k?k.length:null;(k===null||I===null||I<1e3)&&(x=!1),f++}this.measurements_subjectObject.next(d||[])}catch{}})}getBatchMeasurements(i,e,n,o,a){return oe(this,null,function*(){try{let{data:d,error:f}=yield this._supabaseClient.from("measurement").select("*").eq("imei",i).lte("timestamp",Fi(e)).gte("timestamp",Fi(n)).range(a*o-o,a*o-1).order("timestamp",{ascending:!0});return{data:d,error:f}}catch(d){return{data:null,error:d}}})}loadMeasurementsToday(i){return oe(this,null,function*(){let n=new Date(Date.now()),o=new Date,a=new Date(o.getFullYear(),o.getMonth(),o.getDate());try{let d=[],f=1,x=!0;for(;x;){let{data:k,error:N}=yield this.getBatchMeasurements(i,n,a,1e3,f);if(N)return;k&&(d=d.concat(k));let I=k?k.length:null;x=!(k===null||I===null||I<1e3),f++}this.measurementsToday_subjectObject.next(d||[])}catch{}})}loadHourlyAvaragesFromDays(i,e,n){return oe(this,null,function*(){try{let o=new Date(Date.now()),a=new Date(Date.now()-e*24*60*60*1e3),{data:d,error:f}=yield this._supabaseClient.from("measurement_avg_per_hour_of_day").select("*").eq("imei",i).eq("hour_of_day",n).lte("timestamp",Fi(o)).gte("timestamp",Fi(a)).order("timestamp",{ascending:!0});if(f)return;this.hourlyAvaragesFromDays_subjectObject.next(d||[])}catch{}})}loadHourlyAvaragesLast24Hours(i){return oe(this,null,function*(){try{let{data:e,error:n}=yield this._supabaseClient.from("measurement_avg_per_hour_of_day").select("*").eq("imei",i).order("timestamp",{ascending:!1}).order("hour_of_day",{ascending:!1}).limit(24);if(n)return;this.hourlyAvaragesLast24Hours_subjectObject.next(e||[])}catch{}})}getLatestMeasurement(i){return oe(this,null,function*(){try{let{data:e,error:n}=yield this._supabaseClient.from("measurement").select("*").eq("imei",i).order("timestamp",{ascending:!1}).returns().limit(1);return n?null:e&&e.length>0?e[0]:null}catch{return null}})}};var jC=["numericInputElementLatitude"],LC=["numericInputElementLongitude"],BC=()=>({overflow:"auto"}),UC=(t,i)=>i.id;function $C(t,i){if(t&1&&h(0,"nz-option",12),t&2){let e=i.$implicit;m("nzLabel",e.name)("nzValue",e.id)}}function WC(t,i){t&1&&p(0," Deshabilitar edici\xF3n ")}function qC(t,i){t&1&&p(0," Editar manualmente ")}function GC(t,i){if(t&1){let e=M();r(0,"form",5)(1,"div",6)(2,"div",7)(3,"nz-form-item")(4,"nz-form-control")(5,"nz-form-label"),p(6,"Nombre"),s(),h(7,"input",8),s()()(),r(8,"div",7)(9,"nz-form-item")(10,"nz-form-control")(11,"nz-form-label"),p(12,"Descripci\xF3n"),s(),r(13,"textarea",9),p(14,"                        "),s()()()(),r(15,"div",7)(16,"nz-form-item")(17,"nz-form-control")(18,"nz-form-label"),p(19,"Enlace a Estaci\xF3n F\xEDsica"),s(),r(20,"nz-select",10),h(21,"nz-option",11),j(22,$C,1,2,"nz-option",12,UC),s()()()(),r(24,"div",7)(25,"h3"),p(26,"Coordenadas:"),s()(),r(27,"div",7)(28,"nz-form-item")(29,"nz-form-control")(30,"nz-form-label"),p(31,"Latitud "),s(),r(32,"input",13,1),y("ngModelChange",function(o){g(e);let a=l();return C(a.onLatitudeChange(o))})("blur",function(){g(e);let o=l();return C(o.onLatitudeBlur())}),s()()()(),r(34,"div",7)(35,"nz-form-item")(36,"nz-form-control")(37,"nz-form-label"),p(38,"Longitud "),s(),r(39,"input",14,2),y("ngModelChange",function(o){g(e);let a=l();return C(a.onLongitudeChange(o))})("blur",function(){g(e);let o=l();return C(o.onLongitudeBlur())}),s()()()(),r(41,"div",7)(42,"nz-form-item")(43,"nz-form-control")(44,"button",15),y("click",function(){g(e);let o=l();return C(o.onGetFromMeasurements())}),p(45," Obtener desde Lecturas "),s(),r(46,"button",16),y("click",function(){g(e);let o=l();return C(o.onTogleEnableCoordinates())}),u(47,WC,1,0)(48,qC,1,0),s()()()()()()}if(t&2){let e=l();m("formGroup",e.form),c(),m("nzGutter",8),c(),m("nzSpan",(e.screenInfoService.isMobile,24)),c(6),m("nzSpan",(e.screenInfoService.isMobile,24)),c(7),m("nzSpan",(e.screenInfoService.isMobile,24)),c(6),m("nzValue",null),c(),L(e.stationCodes()),c(2),m("nzSpan",(e.screenInfoService.isMobile,24)),c(3),m("nzSpan",e.screenInfoService.isMobile?24:12),c(7),m("nzSpan",e.screenInfoService.isMobile?24:12),c(7),m("nzSpan",(e.screenInfoService.isMobile,24)),c(5),ve(e.screenInfoService.isMobile?"margin: 0px; margin-top: 8px;":"margin: 0px; margin-left: 8px;"),c(),z(e.isEditCoordinatesEnabled?47:48)}}function QC(t,i){if(t&1){let e=M();r(0,"div",17)(1,"div",18)(2,"button",16),y("click",function(){g(e);let o=l();return C(o.onClose())}),p(3,"Cancelar"),s(),r(4,"button",16),y("click",function(){g(e);let o=l();return C(o.onUndo())}),p(5,"Deshacer"),s(),r(6,"button",19),y("click",function(){g(e);let o=l();return C(o.onUpdate())}),p(7,"Actualizar"),s()()()}}var ar=class t{_v1MeasurementsService=_(ji);_stationcodesService=_(hn);_nzMessageService=_(ut);_stationsService=_(We);_alertsService=_(Tn);_fb=_(on);screenInfoService=_(be);selectedStation=null;visible=null;nonInputVisible=!1;onClosed=new F;form=this._fb.nonNullable.group({coordinate_x:this._fb.control({value:"",disabled:!0},[le.required,le.pattern(/^-?\d*\.?\d*$/)]),coordinate_y:this._fb.control({value:"",disabled:!0},[le.required,le.pattern(/^-?\d*\.?\d*$/)]),name:this._fb.control("",[le.required]),description:this._fb.control("",[le.required]),imei_code_id:this._fb.control("",[le.required])});stations=this._stationsService.stations;stationCodes=this._stationcodesService.stationsCodes;constructor(){}ngOnInit(){this.setupForm()}ngOnChanges(i){if(i.selectedStation){let e=i.selectedStation.currentValue,n=i.selectedStation.previousValue;e!==n&&(this.selectedStation=e)}this.setupForm()}setupForm(){this.selectedStation?this.form=this._fb.nonNullable.group({name:this._fb.control(this.selectedStation.name,[le.required]),coordinate_x:this._fb.control({value:this.selectedStation.coordinate_x,disabled:!0},[]),coordinate_y:this._fb.control({value:this.selectedStation.coordinate_y,disabled:!0},[]),description:this._fb.control(this.selectedStation.description,[]),imei_code_id:this._fb.control(this.selectedStation.imei_code_id,[])}):this.form=this._fb.nonNullable.group({name:this._fb.control("",[le.required]),coordinate_x:this._fb.control("",[]),coordinate_y:this._fb.control("",[]),description:this._fb.control("",[]),imei_code_id:this._fb.control("",[])})}isEditCoordinatesEnabled=!1;onTogleEnableCoordinates(){this.isEditCoordinatesEnabled?this.disableEditCoordinates():(this.form.get("coordinate_x")?.enable(),this.form.get("coordinate_y")?.enable(),this.isEditCoordinatesEnabled=!0)}disableEditCoordinates(){this.form.get("coordinate_x")?.disable(),this.form.get("coordinate_y")?.disable(),this.isEditCoordinatesEnabled=!1}onGetFromMeasurements(){return oe(this,null,function*(){if(!this.selectedStation?.v2_stationcode){this._nzMessageService.warning("Opci\xF3n solo disponible para Estaciones Virtuales enlazadas.");return}let i=this.selectedStation?.v2_stationcode.imei_code,e=yield this._v1MeasurementsService.getLatestMeasurement(i);if(!e){this._nzMessageService.error("No se pudo obtener las coordenadas, porque el sistema no ha recibido lecturas de la estaci\xF3n.");return}this.form.get("coordinate_x")?.setValue(e.latitude),this.form.get("coordinate_y")?.setValue(e.longitude),this.disableEditCoordinates()})}onClose(){this.disableEditCoordinates(),this.onClosed.emit(),this.nonInputVisible=!1}onUndo(){this.selectedStation?(this.form.patchValue({name:this.selectedStation.name,coordinate_x:this.selectedStation.coordinate_x,coordinate_y:this.selectedStation.coordinate_y,description:this.selectedStation.description,imei_code_id:this.selectedStation.imei_code_id}),this.disableEditCoordinates()):this.form.patchValue({name:"",coordinate_x:"",coordinate_y:"",description:"",imei_code_id:""})}onUpdate(){this.form.valid?this.updateStation():Object.values(this.form.controls).forEach(i=>{i.invalid&&(i.markAsDirty(),i.updateValueAndValidity({onlySelf:!0}))})}alreadyProcessingUpdate=!1;updateStation(){if(!this.selectedStation||this.alreadyProcessingUpdate)return;this.alreadyProcessingUpdate=!0;let i=this.form.getRawValue();if(!i.name){this.alreadyProcessingUpdate=!1;return}if(this.isNullOrEmpty(i.coordinate_x)!==this.isNullOrEmpty(i.coordinate_y)){this.alreadyProcessingUpdate=!1,this._nzMessageService.warning("Ambas coordenadas deben tener un valor, o estar vac\xEDas.");return}if(i.coordinate_x==="-"||i.coordinate_y==="-"){this.alreadyProcessingUpdate=!1,this._nzMessageService.warning("Los valores de las coordenas deben ser nuemricos.");return}let e=90,n=-90;if(!this.isNullOrEmpty(i.coordinate_x)&&(i.coordinate_x>e||i.coordinate_x<n)){this.alreadyProcessingUpdate=!1,this._nzMessageService.warning(`El valor de la latitud debe estar entre ${e} y ${n}.`);return}let o=180,a=-180;if(!this.isNullOrEmpty(i.coordinate_y)&&(i.coordinate_y>o||i.coordinate_y<a)){this.alreadyProcessingUpdate=!1,this._nzMessageService.warning(`El valor de la longitud debe estar entre ${o} y ${a}.`);return}let d={name:i.name,coordinate_x:i.coordinate_x===""?null:i.coordinate_x,coordinate_y:i.coordinate_y===""?null:i.coordinate_y,description:i.description,imei_code_id:i.imei_code_id};this._stationsService.updateStation(this.selectedStation.id,d).subscribe(f=>{f?(this.alreadyProcessingUpdate=!1,this._stationsService.loadAllCurrentUserStations(),this._nzMessageService.success(`La estaci\xF3n "${d.name}" se actualizo correctamente.`),this.disableEditCoordinates()):this._nzMessageService.error("No se puedo modificar la estaci\xF3n. Intento de nuevo m\xE1s tarde.")})}isNullOrEmpty(i){return!i||i===""}latitudeValue="";inputElementLatitude;onLatitudeChange(i){this.updateLatitudeValue(i)}onLatitudeBlur(){(this.latitudeValue.charAt(this.latitudeValue.length-1)==="."||this.latitudeValue==="-")&&this.updateLatitudeValue(this.latitudeValue.slice(0,-1))}updateLatitudeValue(i){let e=/^-?(0|[1-9][0-9]*)(\.[0-9]*)?$/;(!isNaN(+i)&&e.test(i)||i===""||i==="-")&&(this.latitudeValue=i),this.inputElementLatitude.nativeElement.value=this.latitudeValue}longitudeValue="";inputElementLongitude;onLongitudeChange(i){this.updateLongitudeValue(i)}onLongitudeBlur(){(this.longitudeValue.charAt(this.longitudeValue.length-1)==="."||this.longitudeValue==="-")&&this.updateLongitudeValue(this.longitudeValue.slice(0,-1))}updateLongitudeValue(i){let e=/^-?(0|[1-9][0-9]*)(\.[0-9]*)?$/;(!isNaN(+i)&&e.test(i)||i===""||i==="-")&&(this.longitudeValue=i),this.inputElementLongitude.nativeElement.value=this.longitudeValue}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=D({type:t,selectors:[["app-edit-station"]],viewQuery:function(e,n){if(e&1&&(G(jC,5),G(LC,5)),e&2){let o;R(o=Y())&&(n.inputElementLatitude=o.first),R(o=Y())&&(n.inputElementLongitude=o.first)}},inputs:{selectedStation:"selectedStation",visible:"visible"},outputs:{onClosed:"onClosed"},features:[Le([ji]),Q],decls:4,vars:5,consts:[["footerTpl",""],["numericInputElementLatitude",""],["numericInputElementLongitude",""],["nzTitle","Editar Estaci\xF3n",3,"nzOnClose","nzBodyStyle","nzWidth","nzVisible","nzFooter"],["nz-form","",3,"formGroup",4,"nzDrawerContent"],["nz-form","",3,"formGroup"],["nz-row","",3,"nzGutter"],["nz-col","",3,"nzSpan"],["nzSize","large","nz-input","","placeholder","Nombre de la Estaci\xF3n","formControlName","name"],["rows","4","nz-input","","formControlName","description"],["nzSize","large","formControlName","imei_code_id",2,"width","100%"],["nzLabel","",3,"nzValue"],[3,"nzLabel","nzValue"],["nzSize","large","nz-input","","formControlName","coordinate_x",3,"ngModelChange","blur"],["nzSize","large","nz-input","","formControlName","coordinate_y",3,"ngModelChange","blur"],["nz-button","",2,"margin","0px",3,"click"],["nz-button","",3,"click"],["nz-flex","","nzJustify","flex-end","nzAlign","center",1,"btn-wrappers"],[2,"float","right","vertical-align","column"],["nz-button","","nzType","primary",3,"click"]],template:function(e,n){if(e&1){let o=M();r(0,"nz-drawer",3),y("nzOnClose",function(){return g(o),C(n.onClose())}),u(1,GC,49,13,"form",4)(2,QC,8,0,"ng-template",null,0,V),s()}if(e&2){let o=E(3);m("nzBodyStyle",xe(4,BC))("nzWidth",n.screenInfoService.isMobile?330:720)("nzVisible",n.visible===null?n.nonInputVisible:n.visible)("nzFooter",o)}},dependencies:[Ue,Zt,vt,Oe,Kt,Jt,It,De,Pe,Me,ke,Gn,wn,Hn,ft,nn,$t,ht,Tt,Ft,Ot,wt,Nt,Bt,Yn,Ut,J,$e,Ge],styles:[".base-div[_ngcontent-%COMP%]{padding:24px;width:100%;min-height:100%;overflow:auto}.content-wrapper[_ngcontent-%COMP%]{background-color:#fff;padding:24px;min-height:280px;min-height:100%;width:100%}input[_ngcontent-%COMP%]{width:100%}.ant-advanced-search-form[_ngcontent-%COMP%]{height:100%;padding:24px;background:#fbfbfb}.search-result-list[_ngcontent-%COMP%]{margin-top:16px;border:1px dashed #e9e9e9;border-radius:6px;background-color:#fafafa;min-height:200px;text-align:center;padding-top:80px}[nz-form-label][_ngcontent-%COMP%]{overflow:visible}button[_ngcontent-%COMP%]{margin-left:8px}.collapse[_ngcontent-%COMP%]{margin-left:8px;font-size:12px}.search-area[_ngcontent-%COMP%]{text-align:right}.btn-wrappers[_ngcontent-%COMP%]{width:100%}@media (max-width: 710px){.content-wrapper[_ngcontent-%COMP%]{padding:12px}}"]})};var Li=t=>[t],KC=()=>[12,12,24,24],ZC=()=>["Detalles","Ubicaci\xF3n","Compartida con:","Alertas:"],JC=()=>({xxl:1,xl:1,lg:1,md:1,sm:1,xs:1}),rm=(t,i)=>i.id;function XC(t,i){t&1&&(r(0,"div",11),h(1,"nz-result",18),s())}function ev(t,i){if(t&1&&lt(0,25),t&2){l(2);let e=E(5);m("ngTemplateOutlet",e)}}function tv(t,i){if(t&1&&h(0,"app-responsive-map",23),t&2){let e=l(3);m("map_coordinate_x",e.currentWeatherStation.coordinate_x)("map_coordinate_y",e.currentWeatherStation.coordinate_y)}}function nv(t,i){t&1&&u(0,tv,1,2,"app-responsive-map",26)}function iv(t,i){t&1&&h(0,"nz-result",24)}function ov(t,i){t&1&&u(0,iv,1,0,"nz-result",27)}function av(t,i){if(t&1&&lt(0,25),t&2){l(3);let e=E(13);m("ngTemplateOutlet",e)}}function rv(t,i){if(t&1&&lt(0,25),t&2){l(3);let e=E(17);m("ngTemplateOutlet",e)}}function sv(t,i){t&1&&u(0,av,1,1,"ng-container",22)(1,rv,1,1,"ng-container",22)}function lv(t,i){if(t&1&&(r(0,"nz-breadcrumb",19)(1,"nz-breadcrumb-item")(2,"a",20),p(3," Estaciones "),s()(),r(4,"nz-breadcrumb-item")(5,"a",20),p(6),s()()(),r(7,"div",11)(8,"app-dashboard-layout",21),u(9,ev,1,1,"ng-container",22)(10,nv,1,0,"app-responsive-map",23)(11,ov,1,0,"nz-result",24)(12,sv,2,0),s()()),t&2){let e=l();c(2),m("routerLink",Ie(7,Li,e.routesAccessService.STATIONS_ROUTES_PATHS.my_stations)),c(3),m("routerLink",Ie(11,Li,e.routesAccessService.insertParamsInRoute(e.routesAccessService.STATIONS_ROUTES_PATHS.station_info,Ie(9,Li,e.currentWeatherStation.id)))),c(),W(" ",e.currentWeatherStation.name," "),c(2),m("gridCellSpans",xe(13,KC))("gridCellTitles",xe(14,ZC)),c(2),z(e.currentWeatherStation.coordinate_x&&e.currentWeatherStation.coordinate_y?10:11),c(2),z(e.stationBelongsToCurrentUser?12:-1)}}function cv(t,i){if(t&1&&(p(0),r(1,"strong"),p(2," (YO)"),s()),t&2){let e=l(3);W(" ",e.stationOwner.username,"")}}function dv(t,i){if(t&1&&p(0),t&2){let e=l(3);W(" ",e.stationOwner.username," ")}}function mv(t,i){if(t&1&&u(0,cv,3,1)(1,dv,1,1),t&2){let e=l(2);z(e.stationBelongsToCurrentUser?0:1)}}function pv(t,i){t&1&&(r(0,"span",36),p(1,"ERROR"),s())}function uv(t,i){if(t&1&&p(0),t&2){let e=l(3);W(" ",e.stationCode.name," ")}}function hv(t,i){t&1&&(r(0,"p",39),p(1," Sin enlazar "),s())}function fv(t,i){if(t&1&&(r(0,"nz-descriptions-item",30)(1,"div"),u(2,uv,1,1)(3,hv,2,0,"p",39),s()()),t&2){let e=l(2),n=E(9);m("nzTitle",n),c(),ve(e.screenInfoService.isMobile?"text-align: right; width: 100%;":""),c(),z(e.stationCode?2:3)}}function _v(t,i){if(t&1&&(r(0,"a",20),p(1," Ir a Lecturas "),s()),t&2){let e=l(2);m("routerLink",e.routesAccessService.insertParamsInRoute(e.routesAccessService.MEASUREMENTS_ROUTES_PATHS.station_measurements,Ie(1,Li,e.currentWeatherStation.id)))}}function gv(t,i){t&1&&(r(0,"span"),p(1,"No disponible para esta estaci\xF3n"),s())}function Cv(t,i){if(t&1){let e=M();r(0,"div",38)(1,"h4"),p(2,"Opciones:"),s(),r(3,"div",40)(4,"div"),p(5," Editar estaci\xF3n: "),s(),r(6,"button",41),y("click",function(){g(e);let o=l(2);return C(o.editStationCode())}),h(7,"nz-icon",42),p(8," Editar "),s()(),r(9,"div",43)(10,"div"),p(11," Eliminar estaci\xF3n: "),s(),r(12,"button",44),y("click",function(){g(e);let o=l(2);return C(o.toggleDeleteStation())}),h(13,"nz-icon",45),p(14," Eliminar "),s()()()}}function vv(t,i){if(t&1&&(r(0,"div",28)(1,"nz-descriptions",29)(2,"nz-descriptions-item",30)(3,"div"),p(4),s()(),r(5,"nz-descriptions-item",31)(6,"div"),p(7),cn(8,"date"),s()(),r(9,"nz-descriptions-item",32)(10,"div"),p(11),s()(),r(12,"nz-descriptions-item",33)(13,"div"),p(14),s()(),r(15,"nz-descriptions-item",34)(16,"div"),p(17),s()(),r(18,"nz-descriptions-item",35)(19,"div"),u(20,mv,2,1)(21,pv,2,0,"span",36),s()(),u(22,fv,4,4,"nz-descriptions-item",30),r(23,"nz-descriptions-item",37)(24,"div"),u(25,_v,2,3,"a",20)(26,gv,2,0,"span"),s()(),r(27,"nz-descriptions-item",30)(28,"div"),p(29),s()()(),h(30,"br"),u(31,Cv,15,0,"div",38),s()),t&2){let e=l(),n=E(7),o=E(11);c(),m("nzLayout",e.screenInfoService.isMobile?"vertical":"horizontal")("nzColumn",xe(33,JC)),c(),m("nzTitle",n),c(),ve(e.screenInfoService.isMobile?"text-align: right; width: 100%;":""),c(),W(" ",e.currentWeatherStation==null?null:e.currentWeatherStation.name," "),c(2),ve(e.screenInfoService.isMobile?"text-align: right; width: 100%;":""),c(),W(" ",wi(8,30,e.currentWeatherStation==null?null:e.currentWeatherStation.created_at,"medium")," "),c(3),ve(e.screenInfoService.isMobile?"text-align: right; width: 100%;":""),c(),W(" ",(e.currentWeatherStation==null?null:e.currentWeatherStation.coordinate_x)||"Sin fijar"," "),c(2),ve(e.screenInfoService.isMobile?"text-align: right; width: 100%;":""),c(),W(" ",(e.currentWeatherStation==null?null:e.currentWeatherStation.coordinate_y)||"Sin fijar"," "),c(2),ve(e.screenInfoService.isMobile?"text-align: right; width: 100%;":""),c(),W(" ",e.currentWeatherStation==null?null:e.currentWeatherStation.state," "),c(2),ve(e.screenInfoService.isMobile?"text-align: right; width: 100%;":""),c(),z(e.currentWeatherStation&&e.stationOwner?20:21),c(2),z(e.stationBelongsToCurrentUser?22:-1),c(2),ve(e.screenInfoService.isMobile?"text-align: right; width: 100%;":""),c(),z(e.stationCode?25:26),c(2),m("nzTitle",o),c(),ve(e.screenInfoService.isMobile?"text-align: right; width: 100%;":"width: 100%;"),c(),W(" ",e.currentWeatherStation==null?null:e.currentWeatherStation.description," "),c(2),z(e.stationBelongsToCurrentUser?31:-1)}}function zv(t,i){t&1&&(r(0,"div",46)(1,"div"),p(2," Nombre "),s()())}function Sv(t,i){t&1&&(r(0,"div",46)(1,"div"),p(2," Enlazada a "),s()())}function yv(t,i){t&1&&(r(0,"div",46)(1,"div"),p(2," Descripci\xF3n "),s()())}function xv(t,i){t&1&&(r(0,"th"),p(1,"Contactos"),s())}function bv(t,i){t&1&&(h(0,"th"),r(1,"th"),p(2,"Usuario"),s(),r(3,"th"),p(4,"Email"),s(),r(5,"th"),p(6,"Acciones"),s())}function Tv(t,i){if(t&1){let e=M();r(0,"nz-collapse",49)(1,"nz-collapse-panel",50)(2,"div",51),h(3,"img",52),s(),h(4,"br"),r(5,"p",53)(6,"strong"),p(7,"Email:"),s()(),r(8,"p",53),p(9),s(),h(10,"br"),r(11,"p",53)(12,"strong"),p(13,"Acciones:"),s()(),r(14,"div",51)(15,"a",20),p(16," Ver perfil "),s(),h(17,"nz-divider",54),r(18,"a",55),y("click",function(){g(e);let o=l().$implicit,a=l(2);return C(a.onClickRemover(o.user_id))}),p(19," Remover "),s()()()()}if(t&2){let e=l().$implicit,n=l(2);c(),m("nzHeader",e.username)("nzActive",!1)("nzDisabled",!1),c(8),W(" ",e.email," "),c(6),m("routerLink",Ie(7,Li,n.routesAccessService.insertParamsInRoute(n.routesAccessService.CONTACTS_ROUTES_PATHS.contact_profile,Ie(5,Li,e.id))))}}function wv(t,i){if(t&1){let e=M();r(0,"td",56),h(1,"img",52),s(),r(2,"td"),p(3),s(),r(4,"td"),p(5),s(),r(6,"td")(7,"a",20),p(8," Ver perfil "),s(),h(9,"nz-divider",54),r(10,"a",55),y("click",function(){g(e);let o=l().$implicit,a=l(2);return C(a.onClickRemover(o.user_id))}),p(11," Remover "),s()()}if(t&2){let e=l().$implicit,n=l(2);c(3),K(e.username),c(2),K(e.email),c(2),m("routerLink",Ie(5,Li,n.routesAccessService.insertParamsInRoute(n.routesAccessService.CONTACTS_ROUTES_PATHS.contact_profile,Ie(3,Li,e.id))))}}function Dv(t,i){if(t&1&&(r(0,"tr"),u(1,Tv,20,9,"nz-collapse",49)(2,wv,12,7),s()),t&2){let e=l(2);c(),z(e.screenInfoService.isMobile?1:2)}}function Mv(t,i){if(t&1&&(r(0,"div",28)(1,"div",47)(2,"nz-table",48,8)(4,"thead")(5,"tr"),u(6,xv,2,0,"th")(7,bv,7,0),s()(),r(8,"tbody"),j(9,Dv,3,1,"tr",null,rm),s()()()()),t&2){let e=E(3),n=l(),o=E(15);c(2),m("nzData",n.profilesStationIsSharedWith)("nzFrontPagination",!1)("nzFooter",o),c(4),z(n.screenInfoService.isMobile?6:7),c(3),L(e.data)}}function kv(t,i){if(t&1){let e=M();r(0,"button",41),y("click",function(){g(e);let o=l();return C(o.toggleShareWithContactM())}),h(1,"nz-icon",57),p(2," Agregar "),s()}}function Pv(t,i){t&1&&(r(0,"th"),p(1,"Alertas"),s())}function Iv(t,i){t&1&&(r(0,"th"),p(1,"Nombre"),s(),r(2,"th"),p(3,"Variable"),s(),r(4,"th"),p(5,"Condici\xF3n"),s(),r(6,"th"),p(7,"Valor"),s(),r(8,"th"),p(9,"Acciones"),s())}function Ov(t,i){if(t&1){let e=M();r(0,"nz-collapse",49)(1,"nz-collapse-panel",50)(2,"p",53)(3,"strong"),p(4,"Variable:"),s()(),r(5,"p",53),p(6),s(),h(7,"br"),r(8,"p",53)(9,"strong"),p(10,"Condici\xF3n:"),s()(),r(11,"p",53),p(12),s(),h(13,"br"),r(14,"p",53)(15,"strong"),p(16,"Valor:"),s()(),r(17,"p",53),p(18),s(),h(19,"br"),r(20,"p",53)(21,"strong"),p(22,"Acciones:"),s()(),r(23,"div",51)(24,"a",55),y("click",function(){g(e);let o=l().$implicit,a=l(2);return C(a.onClickRemoveAlert(o))}),p(25," Remover "),s()()()()}if(t&2){let e=l().$implicit,n=l(2);c(),m("nzHeader",e.name)("nzActive",!1)("nzDisabled",!1),c(5),W(" ",n.variableToDisplay(e.variable)," "),c(6),W(" ",n.conditionToDisplay(e.condition)," "),c(6),W(" ",e.value," ")}}function Nv(t,i){if(t&1){let e=M();r(0,"td"),p(1),s(),r(2,"td"),p(3),s(),r(4,"td"),p(5),s(),r(6,"td"),p(7),s(),r(8,"td")(9,"a",55),y("click",function(){g(e);let o=l().$implicit,a=l(2);return C(a.onClickRemoveAlert(o))}),p(10," Remover "),s()()}if(t&2){let e=l().$implicit,n=l(2);c(),K(e.name),c(2),K(n.variableToDisplay(e.variable)),c(2),K(n.conditionToDisplay(e.condition)),c(2),K(e.value)}}function Fv(t,i){if(t&1&&(r(0,"tr"),u(1,Ov,26,6,"nz-collapse",49)(2,Nv,11,4),s()),t&2){let e=l(2);c(),z(e.screenInfoService.isMobile?1:2)}}function Ev(t,i){if(t&1&&(r(0,"div",28)(1,"div",47)(2,"nz-table",58,8)(4,"thead")(5,"tr"),u(6,Pv,2,0,"th")(7,Iv,10,0),s()(),r(8,"tbody"),j(9,Fv,3,1,"tr",null,rm),s()()()()),t&2){let e=E(3),n=l();c(2),m("nzData",n.stationAlerts)("nzFrontPagination",!1),c(4),z(n.screenInfoService.isMobile?6:7),c(3),L(e.data)}}function Av(t,i){if(t&1){let e=M();r(0,"div",59),y("click",function(){g(e);let o=l();return C(o.closeShareWithContactMenu())}),s()}}function Rv(t,i){if(t&1){let e=M();r(0,"app-share-station",60),y("onStationsShared",function(o){g(e);let a=l();return C(a.setUpContactsCurrentStatioIsSharedWith(o))}),s()}if(t&2){let e=l(),n=E(22);m("useFullHeight",!0)("closeButton",n)("stationId",e.currentStationId)}}function Yv(t,i){if(t&1){let e=M();r(0,"button",61),y("click",function(){g(e);let o=l();return C(o.closeShareWithContactMenu())}),h(1,"nz-icon",62),s()}}function Vv(t,i){t&1&&(te(0),r(1,"p"),p(2,"\xBFEsta seguro que desea eliminar la estaci\xF3n?"),s(),r(3,"p"),p(4,"Una vez eliminada, no se puede recuperar."),s(),ne())}var rr=class t{_router=_(bt);_authService=_(tt);_alertsService=_(Tn);_activateRoute=_(jn);_nzModalService=_(Wn);_stationsService=_(We);_nzMessageService=_(ut);contactsService=_(Ht);screenInfoService=_(be);stationCodesService=_(hn);routesAccessService=_(Qe);stationOwner=null;stationCode=null;profilesStationIsSharedWith=[];stationAlerts=[];currentStationId=null;stationBelongsToCurrentUser=!1;currentWeatherStation=null;constructor(){let i=this._activateRoute.snapshot.paramMap.get(this.routesAccessService.STATIONS_PARAMS.station_id);this.currentStationId=i,i&&(this.stationBelongsToCurrentUser=this.setCurrentStation(this._stationsService.stations(),this._stationsService.shared_stations(),i),this.setStaionOwner(this.stationBelongsToCurrentUser,this.currentWeatherStation?.id_user_owner,this.contactsService.user_profile(),this.contactsService.contacts_profiles()),this.setStationCode(this.stationBelongsToCurrentUser,this.currentWeatherStation?.imei_code_id,this.stationCodesService.stationsCodes()),this.setUpContactsCurrentStatioIsSharedWith(),kt(()=>{this.stationBelongsToCurrentUser=this.setCurrentStation(this._stationsService.stations(),this._stationsService.shared_stations(),i),this.setStaionOwner(this.stationBelongsToCurrentUser,this.currentWeatherStation?.id_user_owner,this.contactsService.user_profile(),this.contactsService.contacts_profiles()),this.setStationCode(this.stationBelongsToCurrentUser,this.currentWeatherStation?.imei_code_id,this.stationCodesService.stationsCodes()),this.setUpContactsCurrentStatioIsSharedWith()}))}ngOnInit(){this.setUpContactsCurrentStatioIsSharedWith()}setCurrentStation(i,e,n){this.currentWeatherStation=this._stationsService.getStationById(i,n);let o;return this.currentWeatherStation?(o=!0,this.stationAlerts=this.currentWeatherStation.v2_alert_virtualstations.map(a=>a.alert)):(o=!1,this.currentWeatherStation=this._stationsService.getStationById(e,n)),o}setStaionOwner(i,e,n,o){if(i)this.stationOwner=n;else{let a;o.forEach(d=>{d.user_id===e&&(a=d)}),this.stationOwner=a||null}}setUpContactsCurrentStatioIsSharedWith(i=null){return oe(this,null,function*(){if(!this.stationBelongsToCurrentUser)return;let e=this.currentWeatherStation?.v2_sharedstations.map(n=>n.target_user_id);e&&(this.profilesStationIsSharedWith=this.contactsService.contacts_profiles().filter(n=>e.includes(n.user_id)))})}setStationCode(i,e,n){return oe(this,null,function*(){(!e||!i)&&(this.stationCode=null);let o=null;n.forEach(a=>{a.id===e&&(o=a)}),this.stationCode=o})}onClickRemover(i){return oe(this,null,function*(){(yield this._stationsService.simple_removeStationShare(this.currentStationId,i))&&(this.setUpContactsCurrentStatioIsSharedWith(null),this._stationsService.loadAllCurrentUserStations())})}trakByStationCodeId(i,e){return e.id}isConfirmDeleteModalVisible=!1;toggleDeleteStation(){this.isConfirmDeleteModalVisible=!0}handleConfirmDeleteStation(){this.deleteStation(),this.isConfirmDeleteModalVisible=!1}handleCancelDeleteStation(){this.isConfirmDeleteModalVisible=!1}deleteStation(){if(this.profilesStationIsSharedWith.length>0){this._nzModalService.warning({nzTitle:"No se puede eliminar la estaci\xF3n",nzContent:"Mientras la estaci\xF3n este siendo compartida con otros usuarios, esta no puede ser eliminada."});return}let i=this.currentWeatherStation?.v2_alert_virtualstations.map(e=>e.alert_id);i&&i.length>0&&this._alertsService.deleteAlertStationLinksByStationId(this.currentWeatherStation?.id,i),this._stationsService.deleteStation(this.currentWeatherStation?.id).then(()=>{this._router.navigateByUrl(this.routesAccessService.STATIONS_ROUTES_PATHS.my_stations)})}isShareWithContactMenu=!1;toggleShareWithContactM(){this.isShareWithContactMenu=!this.isShareWithContactMenu}closeShareWithContactMenu(){this.isShareWithContactMenu=!1}editStationVisible=!1;editStationCode(){this.editStationVisible=!0}closeEditStation(i){this.editStationVisible=!1}onClickRemoveAlert(i){this._alertsService.deleteAlertStationLinks(i.id,[this.currentWeatherStation.id]).subscribe(e=>{e&&(this._nzMessageService.success(`La alerta '${i.name}' se desvinculo de la estaci\xF3n '${this.currentWeatherStation.name}'.`),this._stationsService.loadAllCurrentUserStations(),this._alertsService.loadAllCurrentUserAlerts())})}variableToDisplay(i){let e="---";switch(i){case"temperature":e="Temperatura";break;case"humidity":e="Humedad";break}return e}conditionToDisplay(i){let e="---";switch(i){case"greaterthan":e="Mayor que";break;case"lessthan":e="Menor que";break}return e}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=D({type:t,selectors:[["app-station-info"]],decls:26,vars:10,consts:[["stationInfo",""],["tittle_name",""],["tittle_linked_to",""],["tittle_description",""],["sharedWith",""],["share_stations_button",""],["stationAlertsTable",""],["share_station_close_button",""],["basicTable",""],["headerTitleText","Estaciones",3,"useDefaultHeader"],[1,"content-wrapper"],[1,"content-body-wrapper"],["class","overlay",3,"click",4,"ngIf"],[1,"drawer"],[3,"useFullHeight","closeButton","stationId"],["nzOkText","Confirmar","nzCancelText","Cancelar",3,"nzVisibleChange","nzOnOk","nzOnCancel","nzVisible","nzTitle"],[4,"nzModalContent"],[3,"onClosed","visible","selectedStation"],["nzStatus","warning","nzTitle","No se puedo acceder a la estaci\xF3n"],[2,"padding-bottom","12px"],[3,"routerLink"],[3,"gridCellSpans","gridCellTitles"],[3,"ngTemplateOutlet",4,"appDashboardCardContentDirective"],["id","some_id_2",3,"map_coordinate_x","map_coordinate_y"],["nzStatus","warning","nzTitle","Las coordenadas de la estaci\xF3n no est\xE1n disponibles",2,"display","flex","flex-direction","column","align-items","center","justify-content","center"],[3,"ngTemplateOutlet"],["id","some_id_2",3,"map_coordinate_x","map_coordinate_y",4,"appDashboardCardContentDirective"],["style","display: flex; flex-direction: column; align-items: center; justify-content: center;","nzStatus","warning","nzTitle","Las coordenadas de la estaci\xF3n no est\xE1n disponibles",4,"appDashboardCardContentDirective"],[1,"seccion-content"],["nzBordered","","nzSize","middle",2,"width","100%",3,"nzLayout","nzColumn"],[3,"nzTitle"],["nzTitle","Fecha creaci\xF3n"],["nzTitle","Latitud"],["nzTitle","Longitud"],["nzTitle","Estado"],["nzTitle","Due\xF1o"],[2,"color","red"],["nzTitle","Lecturas"],[2,"width","100%"],[2,"margin","0","color","red"],["nz-flex","","nzJustify","space-between","nzAlign","center",2,"margin-bottom","12px"],["nz-button","","nzType","primary","size","default",3,"click"],["nzType","edit","nzTheme","outline"],["nz-flex","","nzJustify","space-between","nzAlign","center"],["nz-button","","nzType","primary","nzDanger","","size","default",3,"click"],["nzType","delete","nzTheme","outline"],["nz-flex","","nzJustify","space-between","nzAlign","center",2,"width","100%"],[1,"full-nztable-10-items-hight",2,"height","672px","width","100%"],[2,"width","100%",3,"nzData","nzFrontPagination","nzFooter"],["nzGhost",""],[3,"nzHeader","nzActive","nzDisabled"],["nz-flex","","nzJustify","space-between","nzAlign","center",1,"station-details-wrappers"],["width","35","height","35","src","images/account_profile_circle.png","alt","logo"],[2,"margin","0"],["nzType","vertical"],[3,"click"],["nzAlign","center"],["nzType","plus","nzTheme","outline"],[2,"width","100%",3,"nzData","nzFrontPagination"],[1,"overlay",3,"click"],[3,"onStationsShared","useFullHeight","closeButton","stationId"],["nz-button","","nzType","primary",3,"click"],["nzType","close"]],template:function(e,n){if(e&1){let o=M();r(0,"app-content-frame",9)(1,"div",10),u(2,XC,2,0,"div",11)(3,lv,13,15),s()(),u(4,vv,32,34,"ng-template",null,0,V)(6,zv,3,0,"ng-template",null,1,V)(8,Sv,3,0,"ng-template",null,2,V)(10,yv,3,0,"ng-template",null,3,V)(12,Mv,11,4,"ng-template",null,4,V)(14,kv,3,0,"ng-template",null,5,V)(16,Ev,11,3,"ng-template",null,6,V)(18,Av,1,0,"div",12),r(19,"div",13),u(20,Rv,1,3,"app-share-station",14),s(),u(21,Yv,2,0,"ng-template",null,7,V),r(23,"nz-modal",15),ye("nzVisibleChange",function(d){return g(o),Se(n.isConfirmDeleteModalVisible,d)||(n.isConfirmDeleteModalVisible=d),C(d)}),y("nzOnOk",function(){return g(o),C(n.handleConfirmDeleteStation())})("nzOnCancel",function(){return g(o),C(n.handleCancelDeleteStation())}),u(24,Vv,5,0,"ng-container",16),s(),r(25,"app-edit-station",17),y("onClosed",function(d){return g(o),C(n.closeEditStation(d))}),s()}e&2&&(m("useDefaultHeader",!0),c(2),z(n.currentWeatherStation?3:2),c(16),m("ngIf",n.isShareWithContactMenu),c(),B("active",n.isShareWithContactMenu),c(),z(n.isShareWithContactMenu?20:-1),c(3),ze("nzVisible",n.isConfirmDeleteModalVisible),m("nzTitle","Confirmar eliminar la estaci\xF3n"),c(2),m("visible",n.editStationVisible)("selectedStation",n.currentWeatherStation))},dependencies:[Pt,ot,Be,Ca,ie,po,Ue,fo,wo,ai,$e,Ge,J,me,sn,si,ni,ht,Vt,qt,Xt,Wt,en,Yt,Gt,un,at,ct,ft,De,Pe,Me,ke,Hi,vi,xn,zn,vn,Vi,Ci,di,Co,go,_o,Dt,ko,ro,rn,an,ar],styles:[".content-wrapper[_ngcontent-%COMP%]{color:#a9a9a9;padding:24px;width:100%}.content-body-wrapper[_ngcontent-%COMP%]{width:100%;background:#fff;min-height:280px;padding:12px}.content-header-element[_ngcontent-%COMP%]{width:100%}.content-header-tittle[_ngcontent-%COMP%]{margin-right:12px;margin-bottom:0;color:#000000d9;font-weight:600;font-size:20px;line-height:32px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.float-right[_ngcontent-%COMP%]{float:right}.align-contents-right[_ngcontent-%COMP%]{text-align:right}@media (max-width: 710px){.content-header[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.content-header-element[_ngcontent-%COMP%]{width:100%}.radio-button-label[_ngcontent-%COMP%]{width:95px}.align-contents-right[_ngcontent-%COMP%]{text-align:lef}.content-wrapper[_ngcontent-%COMP%]{padding:12px}}.inner-box[_ngcontent-%COMP%]{background-color:#00f;height:100%}.seccion-title[_ngcontent-%COMP%]{min-height:15px;padding-left:12px}.seccion-content[_ngcontent-%COMP%]{width:100%;min-height:100px;display:flex;align-items:right;flex-direction:column}.overlay[_ngcontent-%COMP%]{background-color:#00000080;position:fixed;inset:0;z-index:100}.drawer[_ngcontent-%COMP%]{position:fixed;top:0;right:-60vw;width:60vw;height:100%;background-color:#fff;transition:right .3s ease;z-index:100}.drawer.active[_ngcontent-%COMP%]{right:0}.drawer[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:0}@media (max-width: 670px){.drawer[_ngcontent-%COMP%]{position:fixed;top:0;right:-80vw;width:80vw;height:100%}}"]})};var sr=class t{_stationsService=_(We);_contactsService=_(Ht);_stationcodesService=_(hn);constructor(){}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=D({type:t,selectors:[["app-base-stations"]],decls:1,vars:0,template:function(e,n){e&1&&h(0,"router-outlet")},dependencies:[Di],encapsulation:2})};var eE=[{path:"",component:sr,children:[{path:"",component:Xa},{path:"create",component:Mo},{path:"share/:station-id",component:ro},{path:"share",component:ro},{path:":station-id",component:rr}]}],sm={base_stations:"/stations",my_stations:"/stations",station_info:"/stations/:station-id",create_station:"/stations/create",share_station:"/stations/share/:station-id",share_station_no_param:"/stations/share"},lm={station_id:"station-id"};var Hv=[[["nz-breadcrumb","nz-page-header-breadcrumb",""]],[["nz-avatar","nz-page-header-avatar",""]],[["nz-page-header-tags"],["","nz-page-header-tags",""]],[["nz-page-header-extra"],["","nz-page-header-extra",""]],[["nz-page-header-content"],["","nz-page-header-content",""]],[["nz-page-header-footer"],["","nz-page-header-footer",""]],[["nz-page-header-title"],["","nz-page-header-title",""]],[["nz-page-header-subtitle"],["","nz-page-header-subtitle",""]]],jv=["nz-breadcrumb[nz-page-header-breadcrumb]","nz-avatar[nz-page-header-avatar]","nz-page-header-tags, [nz-page-header-tags]","nz-page-header-extra, [nz-page-header-extra]","nz-page-header-content, [nz-page-header-content]","nz-page-header-footer, [nz-page-header-footer]","nz-page-header-title, [nz-page-header-title]","nz-page-header-subtitle, [nz-page-header-subtitle]"];function Lv(t,i){if(t&1&&(te(0),h(1,"nz-icon",8),ne()),t&2){let e=i.$implicit,n=l(2);c(),m("nzType",e||n.getBackIcon())}}function Bv(t,i){if(t&1){let e=M();r(0,"div",5),y("click",function(){g(e);let o=l();return C(o.onBack())}),r(1,"div",6),u(2,Lv,2,1,"ng-container",7),s()()}if(t&2){let e=l();c(2),m("nzStringTemplateOutlet",e.nzBackIcon)}}function Uv(t,i){if(t&1&&(te(0),p(1),ne()),t&2){let e=l(2);c(),K(e.nzTitle)}}function $v(t,i){if(t&1&&(r(0,"span",3),u(1,Uv,2,1,"ng-container",7),s()),t&2){let e=l();c(),m("nzStringTemplateOutlet",e.nzTitle)}}function Wv(t,i){t&1&&re(0,6)}function qv(t,i){if(t&1&&(te(0),p(1),ne()),t&2){let e=l(2);c(),K(e.nzSubtitle)}}function Gv(t,i){if(t&1&&(r(0,"span",4),u(1,qv,2,1,"ng-container",7),s()),t&2){let e=l();c(),m("nzStringTemplateOutlet",e.nzSubtitle)}}function Qv(t,i){t&1&&re(0,7)}var Kv=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275dir=Ve({type:t,selectors:[["nz-page-header-footer"],["","nz-page-header-footer",""]],hostAttrs:[1,"ant-page-header-footer"],exportAs:["nzPageHeaderFooter"]})}}return t})(),Zv=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275dir=Ve({type:t,selectors:[["nz-breadcrumb","nz-page-header-breadcrumb",""]],exportAs:["nzPageHeaderBreadcrumb"]})}}return t})();var Jv="pageHeader",Xv=(()=>{let t,i=[],e=[];return class qs{static{let o=typeof Symbol=="function"&&Symbol.metadata?Object.create(null):void 0;t=[_e()],he(null,null,t,{kind:"field",name:"nzGhost",static:!1,private:!1,access:{has:a=>"nzGhost"in a,get:a=>a.nzGhost,set:(a,d)=>{a.nzGhost=d}},metadata:o},i,e),o&&Object.defineProperty(this,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o})}constructor(o,a,d,f,x){this.nzConfigService=o,this.elementRef=a,this.nzResizeObserver=d,this.cdr=f,this.directionality=x,this._nzModuleName=Jv,this.nzBackIcon=null,this.nzGhost=U(this,i,!0),this.nzBack=(U(this,e),new F),this.compact=!1,this.destroy$=new H,this.dir="ltr",this.location=_(bl,{optional:!0})}ngOnInit(){this.directionality.change?.pipe(P(this.destroy$)).subscribe(o=>{this.dir=o,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngAfterViewInit(){this.nzResizeObserver.observe(this.elementRef).pipe(ae(([o])=>o.contentRect.width),P(this.destroy$)).subscribe(o=>{this.compact=o<768,this.cdr.markForCheck()})}onBack(){if(this.nzBack.observers.length)this.nzBack.emit();else{if(!this.location)throw new Error(`${ho} you should import 'RouterModule' or register 'Location' if you want to use 'nzBack' default event!`);this.location.back()}}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}getBackIcon(){return this.dir==="rtl"?"arrow-right":"arrow-left"}static{this.\u0275fac=function(a){return new(a||qs)(T(nt),T(pe),T(to),T(se),T(Ee))}}static{this.\u0275cmp=D({type:qs,selectors:[["nz-page-header"]],contentQueries:function(a,d,f){if(a&1&&(it(f,Kv,5),it(f,Zv,5)),a&2){let x;R(x=Y())&&(d.nzPageHeaderFooter=x.first),R(x=Y())&&(d.nzPageHeaderBreadcrumb=x.first)}},hostAttrs:[1,"ant-page-header"],hostVars:10,hostBindings:function(a,d){a&2&&B("has-footer",d.nzPageHeaderFooter)("ant-page-header-ghost",d.nzGhost)("has-breadcrumb",d.nzPageHeaderBreadcrumb)("ant-page-header-compact",d.compact)("ant-page-header-rtl",d.dir==="rtl")},inputs:{nzBackIcon:"nzBackIcon",nzTitle:"nzTitle",nzSubtitle:"nzSubtitle",nzGhost:"nzGhost"},outputs:{nzBack:"nzBack"},exportAs:["nzPageHeader"],ngContentSelectors:jv,decls:13,vars:3,consts:[[1,"ant-page-header-heading"],[1,"ant-page-header-heading-left"],[1,"ant-page-header-back"],[1,"ant-page-header-heading-title"],[1,"ant-page-header-heading-sub-title"],[1,"ant-page-header-back",3,"click"],["role","button","tabindex","0",1,"ant-page-header-back-button"],[4,"nzStringTemplateOutlet"],["nzTheme","outline",3,"nzType"]],template:function(a,d){a&1&&(fe(Hv),re(0),r(1,"div",0)(2,"div",1),u(3,Bv,3,1,"div",2),re(4,1),u(5,$v,2,1,"span",3)(6,Wv,1,0)(7,Gv,2,1,"span",4)(8,Qv,1,0),re(9,2),s(),re(10,3),s(),re(11,4),re(12,5)),a&2&&(c(3),z(d.nzBackIcon!==null?3:-1),c(2),z(d.nzTitle?5:6),c(2),z(d.nzSubtitle?7:8))},dependencies:[Re,je,J,me],encapsulation:2,changeDetection:0})}}})();var lr=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=Ce({type:t})}static{this.\u0275inj=ge({imports:[Xv]})}}return t})();var ez=["nz-segmented-item",""],cm=["*"];function tz(t,i){}function nz(t,i){if(t&1&&(r(0,"span",4),h(1,"nz-icon",5),s(),r(2,"span"),u(3,tz,0,0,"ng-template",3),s()),t&2){let e=l(),n=E(5);c(),m("nzType",e.nzIcon),c(2),m("ngTemplateOutlet",n)}}function iz(t,i){}function oz(t,i){if(t&1&&u(0,iz,0,0,"ng-template",3),t&2){l();let e=E(5);m("ngTemplateOutlet",e)}}function az(t,i){t&1&&re(0)}var rz=(t,i)=>i.value;function sz(t,i){if(t&1){let e=M();r(0,"div",1),y("@thumbMotion.done",function(o){g(e);let a=l();return C(a.handleThumbAnimationDone(o))}),s()}if(t&2){let e=l();m("@thumbMotion",e.animationState)}}function lz(t,i){if(t&1&&(r(0,"label",2),p(1),s()),t&2){let e=i.$implicit;m("nzIcon",e.icon)("nzValue",e.value)("nzDisabled",e.disabled),c(),K(e.label)}}function cz(t,i){if(t&1&&j(0,lz,2,4,"label",2,rz),t&2){let e=l();L(e.normalizedOptions)}}var Qs=(()=>{class t{constructor(){this.selected$=new dt(1),this.activated$=new dt(1),this.disabled$=new dt(1),this.animationDone$=new H}ngOnDestroy(){this.selected$.complete(),this.activated$.complete(),this.disabled$.complete(),this.animationDone$.complete()}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=Ye({token:t,factory:t.\u0275fac})}}return t})(),Io=(()=>{class t{constructor(){this.isChecked=!1,this.service=_(Qs);let e=_(se),n=_(pe);this.service.selected$.pipe(xi(o=>{this.isChecked=!1,e.markForCheck(),o===this.nzValue&&this.service.activated$.next(n.nativeElement)}),St(o=>this.service.animationDone$.pipe(Xe(a=>a.toState==="to"),yi(1),ae(()=>o))),Xe(o=>o===this.nzValue),Ni()).subscribe(()=>{this.isChecked=!0,e.markForCheck()}),this.service.disabled$.pipe(Ni()).subscribe(o=>{this.nzDisabled=o,e.markForCheck()})}handleClick(){this.nzDisabled||this.service.selected$.next(this.nzValue)}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=D({type:t,selectors:[["label","nz-segmented-item",""],["label","nzSegmentedItem",""]],hostAttrs:[1,"ant-segmented-item"],hostVars:4,hostBindings:function(n,o){n&1&&y("click",function(){return o.handleClick()}),n&2&&B("ant-segmented-item-selected",o.isChecked)("ant-segmented-item-disabled",o.nzDisabled)},inputs:{nzIcon:"nzIcon",nzValue:"nzValue",nzDisabled:"nzDisabled"},exportAs:["nzSegmentedItem"],attrs:ez,ngContentSelectors:cm,decls:6,vars:2,consts:[["content",""],["type","radio",1,"ant-segmented-item-input",3,"click","checked"],[1,"ant-segmented-item-label"],[3,"ngTemplateOutlet"],[1,"ant-segmented-item-icon"],[3,"nzType"]],template:function(n,o){if(n&1){let a=M();fe(),r(0,"input",1),y("click",function(f){return g(a),C(f.stopPropagation())}),s(),r(1,"div",2),u(2,nz,4,2)(3,oz,1,1,null,3),s(),u(4,az,1,0,"ng-template",null,0,V)}n&2&&(m("checked",o.isChecked),c(2),z(o.nzIcon?2:3))},dependencies:[J,me,ie],encapsulation:2,changeDetection:0})}}return t})();function dz(t){return t.map(i=>typeof i=="string"||typeof i=="number"?{label:`${i}`,value:i}:i)}var mz="segmented",Ks=(()=>{let t,i=[],e=[];return class cr{static{let o=typeof Symbol=="function"&&Symbol.metadata?Object.create(null):void 0;t=[_e()],he(null,null,t,{kind:"field",name:"nzSize",static:!1,private:!1,access:{has:a=>"nzSize"in a,get:a=>a.nzSize,set:(a,d)=>{a.nzSize=d}},metadata:o},i,e),o&&Object.defineProperty(this,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o})}constructor(o,a,d){this.nzConfigService=o,this.cdr=a,this.directionality=d,this._nzModuleName=mz,this.nzBlock=!1,this.nzDisabled=!1,this.nzOptions=[],this.nzSize=U(this,i,"default"),this.nzValueChange=(U(this,e),new F),this.viewItemCmps=ul(Io),this.contentItemCmps=hl(Io),this.dir="ltr",this.animationState={value:"to",params:Gs()},this.normalizedOptions=[],this.onChange=()=>{},this.onTouched=()=>{},this.service=_(Qs),this.directionality.change.pipe(Ni()).subscribe(f=>{this.dir=f,this.cdr.markForCheck()}),this.service.selected$.pipe(Ni()).subscribe(f=>{this.value=f,this.nzValueChange.emit(f),this.onChange(f)}),this.service.activated$.pipe(ol(2,1),Ni()).subscribe(f=>{this.animationState={value:"from",params:Gs(f[0])},this.cdr.detectChanges(),this.animationState={value:"to",params:Gs(f[1])},this.cdr.detectChanges()}),kt(()=>{let f=this.viewItemCmps().concat(this.contentItemCmps());f.length&&(this.value===null||this.value===void 0||!f.some(x=>x.nzValue===this.value))&&this.service.selected$.next(f[0].nzValue)})}ngOnChanges(o){let{nzOptions:a,nzDisabled:d}=o;a&&(this.normalizedOptions=dz(a.currentValue)),d&&this.service.disabled$.next(d.currentValue)}handleThumbAnimationDone(o){o.toState==="to"&&(this.animationState=null),this.service.animationDone$.next(o)}writeValue(o){o!=null&&this.service.selected$.next(o)}registerOnChange(o){this.onChange=o}registerOnTouched(o){this.onTouched=o}static{this.\u0275fac=function(a){return new(a||cr)(T(nt),T(se),T(Ee))}}static{this.\u0275cmp=D({type:cr,selectors:[["nz-segmented"]],contentQueries:function(a,d,f){a&1&&Cl(f,d.contentItemCmps,Io,4),a&2&&$r()},viewQuery:function(a,d){a&1&&vl(d.viewItemCmps,Io,5),a&2&&$r()},hostAttrs:[1,"ant-segmented"],hostVars:10,hostBindings:function(a,d){a&2&&B("ant-segmented-disabled",d.nzDisabled)("ant-segmented-rtl",d.dir==="rtl")("ant-segmented-lg",d.nzSize==="large")("ant-segmented-sm",d.nzSize==="small")("ant-segmented-block",d.nzBlock)},inputs:{nzBlock:[2,"nzBlock","nzBlock",O],nzDisabled:[2,"nzDisabled","nzDisabled",O],nzOptions:"nzOptions",nzSize:"nzSize"},outputs:{nzValueChange:"nzValueChange"},exportAs:["nzSegmented"],features:[Le([Qs,{provide:Xn,useExisting:mn(()=>cr),multi:!0}]),Q],ngContentSelectors:cm,decls:4,vars:1,consts:[[1,"ant-segmented-group"],[1,"ant-segmented-thumb","ant-segmented-thumb-motion"],["nz-segmented-item","",3,"nzIcon","nzValue","nzDisabled"]],template:function(a,d){a&1&&(fe(),r(0,"div",0),u(1,sz,1,1,"div",1),re(2,0,null,cz,2,0),s()),a&2&&(c(),z(d.animationState?1:-1))},dependencies:[J,Re,Io],encapsulation:2,data:{animation:[Gl]},changeDetection:0})}}})();function Gs(t){return{transform:t?.offsetLeft??0,width:t?.clientWidth??0}}var dm=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=Ce({type:t})}static{this.\u0275inj=ge({imports:[Ks,Io]})}}return t})();var dr=class t{http=_(va);response=null;constructor(){}SetIsBrowserAlive(i){return oe(this,null,function*(){let e=this.http.post(hc.url_Lamda_SetIsActiveModeWheatherStation+"/"+i,{responseType:"text"});try{let n=(yield ca(e,{defaultValue:"false"}))??"false";this.response=n}catch(n){n instanceof kl&&(this.response=n.error)}return this.response})}static \u0275fac=function(e){return new(e||t)};static \u0275prov=Ye({token:t,factory:t.\u0275fac,providedIn:"root"})};var jt=class t{_datePipe=_(po);constructor(){}obtenerMinutosDesdeInicioDelDia(){let i=new Date(Date.now());i.setHours(0,0,0,0);let e=Date.now()-i.getTime();return Math.floor(e/(1e3*60))}getTimeStringFromTimestamp_dayMonthHourMinutes(i){let e=(i.getMonth()+1).toString().padStart(2,"0"),n=i.getDate().toString().padStart(2,"0"),o=i.getHours().toString().padStart(2,"0"),a=i.getMinutes().toString().padStart(2,"0");return`${n}-${e} ${o}:${a}`}getTimeStringFromTimestamp_hoursMinutes(i){let e=i.getHours().toString().padStart(2,"0"),n=i.getMinutes().toString().padStart(2,"0");return`${e}:${n}`}getTimeStringHistoryFromTimestamp_dayMonthYear(i){let e=i.getFullYear().toString(),n=(i.getMonth()+1).toString().padStart(2,"0");return`${i.getDate().toString().padStart(2,"0")}-${n}-${e}`}getDateTodayAtMidnight(){let i=new Date;return i.setHours(0,0,0,0),i}getNextDayAtMidnight(){let i=new Date;return i.setDate(i.getDate()+1),i.setHours(0,0,0,0),i}getTimeString_DayMonthYear_Format(i){let e=i.getFullYear().toString(),n=(i.getMonth()+1).toString().padStart(2,"0");return`${i.getDate().toString().padStart(2,"0")}-${n}-${e}`}getTimeString_HourMinutes_Format(i){let e=i.getHours().toString(),n=i.getMinutes().toString();return e.length==0&&(e="0"+e),n.length==0&&(n="0"+n),`${e}:${n}`}getCurrentDateFormattedLocale(i){let e=new Date,n=e.getDate(),o=e.toLocaleDateString(i,{weekday:"long"}),a=e.toLocaleDateString(i,{month:"long"}),d="th";return i==="en-US"&&(n===1||n===21||n===31?d="st":n===2||n===22?d="nd":(n===3||n===23)&&(d="rd")),`${o} ${n}${d} of ${a}`}getCurrentDateInSpanishFormat(){let i=new Date,e=this._datePipe.transform(i,"EEEE d 'de' MMMM","es");return this.translateDate(e)}translateDate(i){return i.split(" ").map(o=>this.translationDictionary[o]||o).join(" ")}translationDictionary={Monday:"Lunes",Tuesday:"Martes",Wednesday:"Mi\xE9rcoles",Thursday:"Jueves",Friday:"Viernes",Saturday:"S\xE1bado",Sunday:"Domingo",January:"Enero",February:"Febrero",March:"Marzo",April:"Abril",May:"Mayo",June:"Junio",July:"Julio",August:"Agosto",September:"Septiembre",October:"Octubre",November:"Noviembre",December:"Diciembre"};static \u0275fac=function(e){return new(e||t)};static \u0275prov=Ye({token:t,factory:t.\u0275fac,providedIn:"root"})};var Oo=class t{_supabaseClient=_(yn).supabaseClient;_datesSerivice=_(jt);historyMeasurementsSubjectObject=new Ae([]);historyMeasurementsObjectObservable=this.historyMeasurementsSubjectObject.asObservable();_state=yt({loading:!1,measurements:[],error:!1});error=de(()=>this._state().error);isLoading=de(()=>this._state().loading);measurements=de(()=>this._state().measurements);measurements_today=de(()=>this.filterByDate(this._datesSerivice.getDateTodayAtMidnight(),this._state().measurements));measurements_last24Hours=de(()=>this.filterByDate(this.subtractHours(new Date,24),this._state().measurements));measurement_currentTemperature=de(()=>this.getMeasurement_Temperature_Current());measurement_maxCurrentDayTemperature=de(()=>this.getMeasurement_Temperature_DailyMax());measurement_minCurrentDayTemperature=de(()=>this.getMeasurement_Temperature_DailyMin());getMeasurement_Temperature_Current(){return this.measurements().length===0?null:this.measurements()[this.measurements().length-1].temperature}getMeasurement_Temperature_DailyMax(){if(this.measurements_today().length===0)return null;let i=null;for(let e of this.measurements_today())i?e.temperature>i&&(i=e.temperature):i=e.temperature;return i}getMeasurement_Temperature_DailyMin(){if(this.measurements_today().length===0)return null;let i=null;for(let e of this.measurements_today())i?e.temperature<i&&(i=e.temperature):i=e.temperature;return i}constructor(){}updateStateLoading(i){this._state.update(e=>Fe(ee({},e),{loading:i}))}updateStateError(i){this._state.update(e=>Fe(ee({},e),{error:i}))}updateStateMeasurements(i){this._state.update(e=>Fe(ee({},e),{measurements:i}))}loadMeasurements(i,e){return oe(this,null,function*(){if(i){this.updateStateLoading(!0);try{let n=this.subtractHours(new Date,e*24),o=1e3,a=1,d=[],f=!0;for(;f;){let{data:x,error:k}=yield this._supabaseClient.from("measurement").select("*").eq("imei",i).gte("timestamp",Fi(n)).range(a*o-o,a*o-1).order("timestamp",{ascending:!0}).returns();x?(d=d.concat(x),a++,f=x.length!==0):f=!1}this.updateStateMeasurements(d),this.updateStateError(!1)}catch{this.updateStateError(!0)}finally{this.updateStateLoading(!1)}}})}filterByDate(i,e){return e.filter(o=>new Date(o.timestamp).getTime()>i.getTime())}subtractHours(i,e){let n=e*60*60*1e3;return new Date(i.getTime()-n)}aaa(i,e,n,o){return oe(this,null,function*(){let{data:a,error:d}=yield this._supabaseClient.from("measurement").select("*").eq("imei",i).gte("timestamp",Fi(e)).range(o*n-n,o*n-1).order("timestamp",{ascending:!0}).returns();return a||[]})}obtainLatestMeasurement(){return oe(this,null,function*(){try{let{data:i,error:e}=yield this._supabaseClient.from("measurement").select("temperature").order("timestamp",{ascending:!1}).limit(1);if(e)throw e;return i&&i.length>0?Math.ceil(i[0].temperature):0}catch(i){throw i}})}static \u0275fac=function(e){return new(e||t)};static \u0275prov=Ye({token:t,factory:t.\u0275fac,providedIn:"root"})};var mr=class t{_measurementsService=_(Oo);_httpClient=_(va);_datesService=_(jt);forecast_subjectObject=new Ae([]);forecast_observable=this.forecast_subjectObject.asObservable();forecastSummary_subjectObject=new Ae(null);forecastSummary_observable=this.forecastSummary_subjectObject.asObservable();_state=yt({loading:!1,measurements:[],error:!1});error=de(()=>this._state().error);isLoading=de(()=>this._state().loading);forcast=de(()=>this._state().measurements);forcast_maxTemperature_today=de(()=>this.getForcarst_Temperature_Max(this._datesService.getNextDayAtMidnight(),this._state().measurements));forcast_minTemperature_today=de(()=>this.getForcarst_Temperature_Min(this._datesService.getNextDayAtMidnight()));forcast_maxTemperature_next24hours=de(()=>this.getForcarst_Temperature_Max(null,this._state().measurements));forcast_minTemperature_next24hours=de(()=>this.getForcarst_Temperature_Min(null));sampled_measurements=this._measurementsService.measurements;constructor(){this.forecast_observable.subscribe(i=>oe(this,null,function*(){this.forecastSummary_subjectObject.next(this.getForecastSummary(i))})),kt(()=>{this.loadForecast(this._measurementsService.measurements())})}getForecastSummary(i){if(i.length===0)return null;let e=null,n=null,o=null,a=null,d=null,f=null,x=null,k=null,N=null,I=null,$=null;for(let v of i)e=e?Math.max(v.temperature,e):v.temperature,n=n?Math.min(v.temperature,n):v.temperature,o=o?Math.max(v.humidity,o):v.humidity,a=a?Math.min(v.humidity,a):v.humidity;return{temperature_max:e,temperature_min:n,humidity_max:o,humidity_min:a,pressure_max:d,pressure_min:f,rain_max:x,rain_min:k,windspeed_max:N,windspeed_min:I,wind_dir:$}}updateStateLoading(i){this._state.update(e=>Fe(ee({},e),{loading:i}))}updateStateError(i){this._state.update(e=>Fe(ee({},e),{error:i}))}updateStateMeasurements(i){this._state.update(e=>Fe(ee({},e),{measurements:i}))}loadForecast(i){return oe(this,null,function*(){try{if(this.updateStateLoading(!0),i.length<24){this.updateStateMeasurements([]),this.forecast_subjectObject.next([]);return}let e=this.flattenToHourlyAvarages(i);for(;e.length>24;)e.shift();let n=this.measurementsToForcastRequestBody_v1_2(e),o=yield this.makeApiCall(n);if(!o){this.updateStateMeasurements([]),this.forecast_subjectObject.next([]);return}let a;try{a=JSON.parse(o)}catch{this.updateStateError(!0);return}let d=this.forcastRequestBody_v1_2_toMeasurements(a);this.updateStateMeasurements(d),this.forecast_subjectObject.next(d)}catch{this.updateStateError(!0)}finally{this.updateStateLoading(!1)}})}forcastRequestBody_v1_2_toMeasurements(i){if(!(i&&Array.isArray(i.time_steps)&&i.time_steps.length>0&&Array.isArray(i.features)&&i.features.length>0))return[];let e=i.features.indexOf("timestamp"),n=i.features.indexOf("temperature"),o=i.features.indexOf("humidity"),a=[];for(let d of i.time_steps)a.push({timestamp:d[e],imei:"",humidity:d[o],temperature:d[n],atmospheric_pressure:-9999,rain:-9999,wind:-9999,latitude:-9999,longitude:-9999,gyroscope_x:-9999,gyroscope_y:-9999,gyroscope_z:-9999,displayGraphic:void 0});return a}makeApiCall(i){return oe(this,null,function*(){let e;try{let o=this._httpClient.post("https://l6er2udcl2e2jbfrlbajk5vrfy0vkpge.lambda-url.us-east-1.on.aws/predictions/v1_2",i,{responseType:"text"});e=(yield ca(o,{defaultValue:"false"}))??"false"}catch{e=null}return e})}measurementsToForcastRequestBody_v1_2(i){let e={features:["timestamp","temperature","humidity"],timestamp_format:"%Y-%m-%d %H:%M:%S",time_steps:[]};for(let n of i)e.time_steps.push([this.dateToTimestampForcastFormat(n.timestamp),n.temperature,n.humidity]),n.timestamp;return e}flattenToHourlyAvarages(i){if(i.length===0)return[];let e=new Date(i[0].timestamp).getHours(),n=1,a=[Fe(ee({},i[0]),{timestamp:this.dateToTimestampForcastFormat(i[0].timestamp)})];for(let d=1;d<i.length;d++)e===new Date(i[d].timestamp).getHours()?(n++,a[a.length-1]=this.addMeasurmentToAvarage(a[a.length-1],i[d],n)):(a.push(Fe(ee({},i[d]),{timestamp:this.dateToTimestampForcastFormat(i[d].timestamp)})),e=new Date(i[d].timestamp).getHours(),n=1);return a}addMeasurmentToAvarage(i,e,n){return{timestamp:i.timestamp,imei:i.imei,humidity:this.addNumberToAvarage(i.humidity,e.humidity,n),temperature:this.addNumberToAvarage(i.temperature,e.temperature,n),atmospheric_pressure:this.addNumberToAvarage(i.atmospheric_pressure,e.atmospheric_pressure,n),rain:this.addNumberToAvarage(i.rain,e.rain,n),wind:this.addNumberToAvarage(i.wind,e.wind,n),latitude:i.latitude,longitude:i.latitude,gyroscope_x:i.latitude,gyroscope_y:i.latitude,gyroscope_z:i.latitude,displayGraphic:i.displayGraphic}}addNumberToAvarage(i,e,n){return(i*(n-1)+e)/n}getForcarst_Temperature_Max(i,e){if(this.forcast().length===0)return null;let n=null;for(let o of e){if(i&&new Date(o.timestamp).getTime()>=i.getTime())break;n?o.temperature>n&&(n=o.temperature):n=o.temperature}return n}getForcarst_Temperature_Min(i){if(this.forcast().length===0)return null;let e=null;for(let n of this.forcast()){if(i&&new Date(n.timestamp).getTime()>=i.getTime())break;e?n.temperature<e&&(e=n.temperature):e=n.temperature}return e}dateToTimestampForcastFormat(i){let e=new Date(i),n=e.getFullYear().toString(),o=(e.getMonth()+1).toString(),a=e.getDate().toString(),d=e.getHours().toString();return o.length===1&&(o="0"+o),a.length===1&&(a="0"+a),d.length===1&&(d="0"+d),`${n}-${o}-${a} ${d}:00:00`}static \u0275fac=function(e){return new(e||t)};static \u0275prov=Ye({token:t,factory:t.\u0275fac,providedIn:"root"})};var uz=["nzType","avatar"];var hz=["*"];function fz(t,i){if(t&1&&(r(0,"div",0),h(1,"nz-skeleton-element",4),s()),t&2){let e=l(2);c(),m("nzSize",e.avatar.size||"default")("nzShape",e.avatar.shape||"circle")}}function _z(t,i){if(t&1&&h(0,"h3",5),t&2){let e=l(2);pt("width",e.toCSSUnit(e.title.width))}}function gz(t,i){if(t&1&&h(0,"li"),t&2){let e=i.$index,n=l(3);pt("width",n.toCSSUnit(n.widthList[e]))}}function Cz(t,i){if(t&1&&(r(0,"ul",3),j(1,gz,1,2,"li",6,Ne),s()),t&2){let e=l(2);c(),L(e.rowsList)}}function vz(t,i){if(t&1&&(u(0,fz,2,2,"div",0),r(1,"div",1),u(2,_z,1,2,"h3",2)(3,Cz,3,0,"ul",3),s()),t&2){let e=l();z(e.nzAvatar?0:-1),c(2),z(e.nzTitle?2:-1),c(),z(e.nzParagraph?3:-1)}}function zz(t,i){t&1&&re(0)}var Sz=(()=>{class t{constructor(){this.nzActive=!1,this.nzBlock=!1}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275dir=Ve({type:t,selectors:[["nz-skeleton-element"]],hostAttrs:[1,"ant-skeleton","ant-skeleton-element"],hostVars:4,hostBindings:function(n,o){n&2&&B("ant-skeleton-active",o.nzActive)("ant-skeleton-block",o.nzBlock)},inputs:{nzActive:[2,"nzActive","nzActive",O],nzType:"nzType",nzBlock:[2,"nzBlock","nzBlock",O]}})}}return t})();var yz=(()=>{class t{constructor(){this.nzShape="circle",this.nzSize="default",this.styleMap={}}ngOnChanges(e){if(e.nzSize&&typeof this.nzSize=="number"){let n=`${this.nzSize}px`;this.styleMap={width:n,height:n,"line-height":n}}else this.styleMap={}}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=D({type:t,selectors:[["nz-skeleton-element","nzType","avatar"]],inputs:{nzShape:"nzShape",nzSize:"nzSize"},features:[Q],attrs:uz,decls:1,vars:10,consts:[[1,"ant-skeleton-avatar"]],template:function(n,o){n&1&&h(0,"span",0),n&2&&(ve(o.styleMap),B("ant-skeleton-avatar-square",o.nzShape==="square")("ant-skeleton-avatar-circle",o.nzShape==="circle")("ant-skeleton-avatar-lg",o.nzSize==="large")("ant-skeleton-avatar-sm",o.nzSize==="small"))},encapsulation:2,changeDetection:0})}}return t})();var pr=(()=>{class t{constructor(e){this.cdr=e,this.nzActive=!1,this.nzLoading=!0,this.nzRound=!1,this.nzTitle=!0,this.nzAvatar=!1,this.nzParagraph=!0,this.rowsList=[],this.widthList=[]}toCSSUnit(e=""){return Xi(e)}getTitleProps(){let e=!!this.nzAvatar,n=!!this.nzParagraph,o="";return!e&&n?o="38%":e&&n&&(o="50%"),ee({width:o},this.getProps(this.nzTitle))}getAvatarProps(){let e=this.nzTitle&&!this.nzParagraph?"square":"circle";return ee({shape:e,size:"large"},this.getProps(this.nzAvatar))}getParagraphProps(){let e=!!this.nzAvatar,n=!!this.nzTitle,o={};return(!e||!n)&&(o.width="61%"),!e&&n?o.rows=3:o.rows=2,ee(ee({},o),this.getProps(this.nzParagraph))}getProps(e){return e&&typeof e=="object"?e:{}}getWidthList(){let{width:e,rows:n}=this.paragraph,o=[];return e&&Array.isArray(e)?o=e:e&&!Array.isArray(e)&&(o=[],o[n-1]=e),o}updateProps(){this.title=this.getTitleProps(),this.avatar=this.getAvatarProps(),this.paragraph=this.getParagraphProps(),this.rowsList=[...Array(this.paragraph.rows)],this.widthList=this.getWidthList(),this.cdr.markForCheck()}ngOnInit(){this.updateProps()}ngOnChanges(e){(e.nzTitle||e.nzAvatar||e.nzParagraph)&&this.updateProps()}static{this.\u0275fac=function(n){return new(n||t)(T(se))}}static{this.\u0275cmp=D({type:t,selectors:[["nz-skeleton"]],hostAttrs:[1,"ant-skeleton"],hostVars:6,hostBindings:function(n,o){n&2&&B("ant-skeleton-with-avatar",!!o.nzAvatar)("ant-skeleton-active",o.nzActive)("ant-skeleton-round",!!o.nzRound)},inputs:{nzActive:"nzActive",nzLoading:"nzLoading",nzRound:"nzRound",nzTitle:"nzTitle",nzAvatar:"nzAvatar",nzParagraph:"nzParagraph"},exportAs:["nzSkeleton"],features:[Q],ngContentSelectors:hz,decls:2,vars:1,consts:[[1,"ant-skeleton-header"],[1,"ant-skeleton-content"],[1,"ant-skeleton-title",3,"width"],[1,"ant-skeleton-paragraph"],["nzType","avatar",3,"nzSize","nzShape"],[1,"ant-skeleton-title"],[3,"width"]],template:function(n,o){n&1&&(fe(),u(0,vz,4,3)(1,zz,1,0)),n&2&&z(o.nzLoading?0:1)},dependencies:[Sz,yz],encapsulation:2,changeDetection:0})}}return t})(),ur=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=Ce({type:t})}static{this.\u0275inj=ge({})}}return t})();function xz(t,i){}function bz(t,i){if(t&1&&(r(0,"div",0),u(1,xz,0,0,"ng-template",2),s()),t&2){let e=l();c(),m("ngTemplateOutlet",e.nzAvatar)}}function Tz(t,i){if(t&1&&(te(0),p(1),ne()),t&2){let e=l(3);c(),K(e.nzTitle)}}function wz(t,i){if(t&1&&(r(0,"div",3),u(1,Tz,2,1,"ng-container",5),s()),t&2){let e=l(2);c(),m("nzStringTemplateOutlet",e.nzTitle)}}function Dz(t,i){if(t&1&&(te(0),p(1),ne()),t&2){let e=l(3);c(),K(e.nzDescription)}}function Mz(t,i){if(t&1&&(r(0,"div",4),u(1,Dz,2,1,"ng-container",5),s()),t&2){let e=l(2);c(),m("nzStringTemplateOutlet",e.nzDescription)}}function kz(t,i){if(t&1&&(r(0,"div",1),u(1,wz,2,1,"div",3)(2,Mz,2,1,"div",4),s()),t&2){let e=l();c(),z(e.nzTitle?1:-1),c(),z(e.nzDescription?2:-1)}}var um=["*"];function Pz(t,i){t&1&&re(0)}var Iz=()=>({rows:4});function Oz(t,i){if(t&1&&(te(0),p(1),ne()),t&2){let e=l(3);c(),K(e.nzTitle)}}function Nz(t,i){if(t&1&&(r(0,"div",6),u(1,Oz,2,1,"ng-container",9),s()),t&2){let e=l(2);c(),m("nzStringTemplateOutlet",e.nzTitle)}}function Fz(t,i){if(t&1&&(te(0),p(1),ne()),t&2){let e=l(3);c(),K(e.nzExtra)}}function Ez(t,i){if(t&1&&(r(0,"div",7),u(1,Fz,2,1,"ng-container",9),s()),t&2){let e=l(2);c(),m("nzStringTemplateOutlet",e.nzExtra)}}function Az(t,i){}function Rz(t,i){if(t&1&&u(0,Az,0,0,"ng-template",8),t&2){let e=l(2);m("ngTemplateOutlet",e.listOfNzCardTabComponent.template)}}function Yz(t,i){if(t&1&&(r(0,"div",0)(1,"div",5),u(2,Nz,2,1,"div",6)(3,Ez,2,1,"div",7),s(),u(4,Rz,1,1,null,8),s()),t&2){let e=l();c(2),z(e.nzTitle?2:-1),c(),z(e.nzExtra?3:-1),c(),z(e.listOfNzCardTabComponent?4:-1)}}function Vz(t,i){}function Hz(t,i){if(t&1&&(r(0,"div",1),u(1,Vz,0,0,"ng-template",8),s()),t&2){let e=l();c(),m("ngTemplateOutlet",e.nzCover)}}function jz(t,i){t&1&&h(0,"nz-skeleton",3),t&2&&m("nzActive",!0)("nzTitle",!1)("nzParagraph",xe(3,Iz))}function Lz(t,i){t&1&&re(0)}function Bz(t,i){}function Uz(t,i){if(t&1&&(r(0,"li")(1,"span"),u(2,Bz,0,0,"ng-template",8),s()()),t&2){let e=i.$implicit,n=l(2);pt("width",100/n.nzActions.length,"%"),c(2),m("ngTemplateOutlet",e)}}function $z(t,i){if(t&1&&(r(0,"ul",4),j(1,Uz,3,3,"li",10,_n),s()),t&2){let e=l();c(),L(e.nzActions)}}var Wz=(()=>{class t{constructor(){this.nzHoverable=!0}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275dir=Ve({type:t,selectors:[["","nz-card-grid",""]],hostAttrs:[1,"ant-card-grid"],hostVars:2,hostBindings:function(n,o){n&2&&B("ant-card-hoverable",o.nzHoverable)},inputs:{nzHoverable:[2,"nzHoverable","nzHoverable",O]},exportAs:["nzCardGrid"]})}}return t})(),qz=(()=>{class t{constructor(){this.nzTitle=null,this.nzDescription=null,this.nzAvatar=null}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=D({type:t,selectors:[["nz-card-meta"]],hostAttrs:[1,"ant-card-meta"],inputs:{nzTitle:"nzTitle",nzDescription:"nzDescription",nzAvatar:"nzAvatar"},exportAs:["nzCardMeta"],decls:2,vars:2,consts:[[1,"ant-card-meta-avatar"],[1,"ant-card-meta-detail"],[3,"ngTemplateOutlet"],[1,"ant-card-meta-title"],[1,"ant-card-meta-description"],[4,"nzStringTemplateOutlet"]],template:function(n,o){n&1&&u(0,bz,2,1,"div",0)(1,kz,3,2,"div",1),n&2&&(z(o.nzAvatar?0:-1),c(),z(o.nzTitle||o.nzDescription?1:-1))},dependencies:[ie,Re,je],encapsulation:2,changeDetection:0})}}return t})(),Gz=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=D({type:t,selectors:[["nz-card-tab"]],viewQuery:function(n,o){if(n&1&&G(mt,7),n&2){let a;R(a=Y())&&(o.template=a.first)}},exportAs:["nzCardTab"],ngContentSelectors:um,decls:1,vars:0,template:function(n,o){n&1&&(fe(),u(0,Pz,1,0,"ng-template"))},encapsulation:2,changeDetection:0})}}return t})(),pm="card",Js=(()=>{let t,i=[],e=[],n,o=[],a=[],d,f=[],x=[];return class Zs{static{let N=typeof Symbol=="function"&&Symbol.metadata?Object.create(null):void 0;t=[_e()],n=[_e()],d=[_e()],he(null,null,t,{kind:"field",name:"nzBordered",static:!1,private:!1,access:{has:I=>"nzBordered"in I,get:I=>I.nzBordered,set:(I,$)=>{I.nzBordered=$}},metadata:N},i,e),he(null,null,n,{kind:"field",name:"nzHoverable",static:!1,private:!1,access:{has:I=>"nzHoverable"in I,get:I=>I.nzHoverable,set:(I,$)=>{I.nzHoverable=$}},metadata:N},o,a),he(null,null,d,{kind:"field",name:"nzSize",static:!1,private:!1,access:{has:I=>"nzSize"in I,get:I=>I.nzSize,set:(I,$)=>{I.nzSize=$}},metadata:N},f,x),N&&Object.defineProperty(this,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:N})}constructor(N,I,$){this.nzConfigService=N,this.cdr=I,this.directionality=$,this._nzModuleName=pm,this.nzBordered=U(this,i,!0),this.nzLoading=(U(this,e),!1),this.nzHoverable=U(this,o,!1),this.nzBodyStyle=(U(this,a),null),this.nzActions=[],this.nzType=null,this.nzSize=U(this,f,"default"),this.nzTitle=U(this,x),this.dir="ltr",this.destroy$=new H,this.nzConfigService.getConfigChangeEventForComponent(pm).pipe(P(this.destroy$)).subscribe(()=>{this.cdr.markForCheck()})}ngOnInit(){this.directionality.change?.pipe(P(this.destroy$)).subscribe(N=>{this.dir=N,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}static{this.\u0275fac=function(I){return new(I||Zs)(T(nt),T(se),T(Ee))}}static{this.\u0275cmp=D({type:Zs,selectors:[["nz-card"]],contentQueries:function(I,$,b){if(I&1&&(it(b,Gz,5),it(b,Wz,4)),I&2){let v;R(v=Y())&&($.listOfNzCardTabComponent=v.first),R(v=Y())&&($.listOfNzCardGridDirective=v)}},hostAttrs:[1,"ant-card"],hostVars:16,hostBindings:function(I,$){I&2&&B("ant-card-loading",$.nzLoading)("ant-card-bordered",$.nzBordered)("ant-card-hoverable",$.nzHoverable)("ant-card-small",$.nzSize==="small")("ant-card-contain-grid",$.listOfNzCardGridDirective&&$.listOfNzCardGridDirective.length)("ant-card-type-inner",$.nzType==="inner")("ant-card-contain-tabs",!!$.listOfNzCardTabComponent)("ant-card-rtl",$.dir==="rtl")},inputs:{nzBordered:[2,"nzBordered","nzBordered",O],nzLoading:[2,"nzLoading","nzLoading",O],nzHoverable:[2,"nzHoverable","nzHoverable",O],nzBodyStyle:"nzBodyStyle",nzCover:"nzCover",nzActions:"nzActions",nzType:"nzType",nzSize:"nzSize",nzTitle:"nzTitle",nzExtra:"nzExtra"},exportAs:["nzCard"],ngContentSelectors:um,decls:6,vars:6,consts:[[1,"ant-card-head"],[1,"ant-card-cover"],[1,"ant-card-body"],[3,"nzActive","nzTitle","nzParagraph"],[1,"ant-card-actions"],[1,"ant-card-head-wrapper"],[1,"ant-card-head-title"],[1,"ant-card-extra"],[3,"ngTemplateOutlet"],[4,"nzStringTemplateOutlet"],[3,"width"]],template:function(I,$){I&1&&(fe(),u(0,Yz,5,3,"div",0)(1,Hz,2,1,"div",1),r(2,"div",2),u(3,jz,1,4,"nz-skeleton",3)(4,Lz,1,0),s(),u(5,$z,3,0,"ul",4)),I&2&&(z($.nzTitle||$.nzExtra||$.listOfNzCardTabComponent?0:-1),c(),z($.nzCover?1:-1),c(),ve($.nzBodyStyle),c(),z($.nzLoading?3:4),c(2),z($.nzActions.length?5:-1))},dependencies:[Re,je,ie,ur,pr],encapsulation:2,changeDetection:0})}}})(),hm=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=Ce({type:t})}static{this.\u0275inj=ge({imports:[Js,qz,Ol]})}}return t})();var fm=(()=>{class t{transform(e,n="HH:mm:ss"){let o=Number(e||0);return bc.reduce((a,[d,f])=>{if(a.indexOf(d)!==-1){let x=Math.floor(o/f);return o-=x*f,a.replace(new RegExp(`${d}+`,"g"),k=>Xl(x.toString(),k.length,"0"))}return a},n)}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275pipe=mo({name:"nzTimeRange",type:t,pure:!0})}}return t})(),_m=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=Ce({type:t})}static{this.\u0275inj=ge({})}}return t})();var Zz=t=>({$implicit:t});function Jz(t,i){if(t&1&&lt(0,1),t&2){let e=l();m("ngTemplateOutlet",e.nzValueTemplate)("ngTemplateOutletContext",Ie(2,Zz,e.nzValue))}}function Xz(t,i){if(t&1&&(r(0,"span",2),p(1),s()),t&2){let e=l(2);c(),K(e.displayInt)}}function eS(t,i){if(t&1&&(r(0,"span",3),p(1),s()),t&2){let e=l(2);c(),K(e.displayDecimal)}}function tS(t,i){if(t&1&&u(0,Xz,2,1,"span",2)(1,eS,2,1,"span",3),t&2){let e=l();z(e.displayInt?0:-1),c(),z(e.displayDecimal?1:-1)}}function nS(t,i){if(t&1&&(te(0),p(1),ne()),t&2){let e=l();c(),K(e.nzTitle)}}function iS(t,i){t&1&&h(0,"nz-skeleton",2),t&2&&m("nzParagraph",!1)}function oS(t,i){if(t&1&&(te(0),p(1),ne()),t&2){let e=l(3);c(),K(e.nzPrefix)}}function aS(t,i){if(t&1&&(r(0,"span",5),u(1,oS,2,1,"ng-container",1),s()),t&2){let e=l(2);c(),m("nzStringTemplateOutlet",e.nzPrefix)}}function rS(t,i){if(t&1&&(te(0),p(1),ne()),t&2){let e=l(3);c(),K(e.nzSuffix)}}function sS(t,i){if(t&1&&(r(0,"span",7),u(1,rS,2,1,"ng-container",1),s()),t&2){let e=l(2);c(),m("nzStringTemplateOutlet",e.nzSuffix)}}function lS(t,i){if(t&1&&(r(0,"div",4),u(1,aS,2,1,"span",5),h(2,"nz-statistic-number",6),u(3,sS,2,1,"span",7),s()),t&2){let e=l();ve(e.nzValueStyle),c(),z(e.nzPrefix?1:-1),c(),m("nzValue",e.nzValue)("nzValueTemplate",e.nzValueTemplate),c(),z(e.nzSuffix?3:-1)}}function cS(t,i){if(t&1&&(p(0),cn(1,"nzTimeRange")),t&2){let e=l();K(wi(1,1,e.diff,e.nzFormat))}}var dS=(()=>{class t{constructor(){this.displayInt="",this.displayDecimal="",this.locale_id=_(Sl)}ngOnChanges(){this.formatNumber()}formatNumber(){let e=typeof this.nzValue=="number"?".":wl(this.locale_id,Tl.Decimal),n=String(this.nzValue),[o,a]=n.split(e);this.displayInt=o,this.displayDecimal=a?`${e}${a}`:""}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=D({type:t,selectors:[["nz-statistic-number"]],inputs:{nzValue:"nzValue",nzValueTemplate:"nzValueTemplate"},exportAs:["nzStatisticNumber"],features:[Q],decls:3,vars:1,consts:[[1,"ant-statistic-content-value"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ant-statistic-content-value-int"],[1,"ant-statistic-content-value-decimal"]],template:function(n,o){n&1&&(r(0,"span",0),u(1,Jz,1,4,"ng-container",1)(2,tS,2,2),s()),n&2&&(c(),z(o.nzValueTemplate?1:2))},dependencies:[ie],encapsulation:2,changeDetection:0})}}return t})(),ra=(()=>{class t{constructor(){this.nzValueStyle={},this.nzLoading=!1,this.dir="ltr",this.destroy$=new H,this.cdr=_(se),this.directionality=_(Ee)}ngOnInit(){this.directionality.change?.pipe(P(this.destroy$)).subscribe(e=>{this.dir=e,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=D({type:t,selectors:[["nz-statistic"]],hostAttrs:[1,"ant-statistic"],hostVars:2,hostBindings:function(n,o){n&2&&B("ant-statistic-rtl",o.dir==="rtl")},inputs:{nzPrefix:"nzPrefix",nzSuffix:"nzSuffix",nzTitle:"nzTitle",nzValue:"nzValue",nzValueStyle:"nzValueStyle",nzValueTemplate:"nzValueTemplate",nzLoading:[2,"nzLoading","nzLoading",O]},exportAs:["nzStatistic"],decls:4,vars:2,consts:[[1,"ant-statistic-title"],[4,"nzStringTemplateOutlet"],[1,"ant-statistic-skeleton",3,"nzParagraph"],[1,"ant-statistic-content",3,"style"],[1,"ant-statistic-content"],[1,"ant-statistic-content-prefix"],[3,"nzValue","nzValueTemplate"],[1,"ant-statistic-content-suffix"]],template:function(n,o){n&1&&(r(0,"div",0),u(1,nS,2,1,"ng-container",1),s(),u(2,iS,1,1,"nz-skeleton",2)(3,lS,4,6,"div",3)),n&2&&(c(),m("nzStringTemplateOutlet",o.nzTitle),c(),z(o.nzLoading?2:3))},dependencies:[ur,pr,dS,Re,je],encapsulation:2,changeDetection:0})}}return t})(),mS=1e3/30,pS=(()=>{class t extends ra{constructor(e,n){super(),this.ngZone=e,this.platform=n,this.nzFormat="HH:mm:ss",this.nzCountdownFinish=new F,this.target=0}ngOnChanges(e){e.nzValue&&(this.target=Number(e.nzValue.currentValue),e.nzValue.isFirstChange()||this.syncTimer())}ngOnInit(){super.ngOnInit(),this.syncTimer()}ngOnDestroy(){this.stopTimer()}syncTimer(){this.target>=Date.now()?this.startTimer():this.stopTimer()}startTimer(){this.platform.isBrowser&&this.ngZone.runOutsideAngular(()=>{this.stopTimer(),this.updater_=da(mS).subscribe(()=>{this.updateValue(),this.cdr.detectChanges()})})}stopTimer(){this.updater_&&(this.updater_.unsubscribe(),this.updater_=null)}updateValue(){this.diff=Math.max(this.target-Date.now(),0),this.diff===0&&(this.stopTimer(),this.nzCountdownFinish.observers.length&&this.ngZone.run(()=>this.nzCountdownFinish.emit()))}static{this.\u0275fac=function(n){return new(n||t)(T(et),T(ki))}}static{this.\u0275cmp=D({type:t,selectors:[["nz-countdown"]],inputs:{nzFormat:"nzFormat"},outputs:{nzCountdownFinish:"nzCountdownFinish"},exportAs:["nzCountdown"],features:[bi,Q],decls:3,vars:6,consts:[["countDownTpl",""],[3,"nzValue","nzValueStyle","nzValueTemplate","nzTitle","nzPrefix","nzSuffix"]],template:function(n,o){if(n&1&&(h(0,"nz-statistic",1),u(1,cS,2,4,"ng-template",null,0,V)),n&2){let a=E(2);m("nzValue",o.diff)("nzValueStyle",o.nzValueStyle)("nzValueTemplate",o.nzValueTemplate||a)("nzTitle",o.nzTitle)("nzPrefix",o.nzPrefix)("nzSuffix",o.nzSuffix)}},dependencies:[ra,_m,fm],encapsulation:2,changeDetection:0})}}return t})(),gm=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=Ce({type:t})}static{this.\u0275inj=ge({imports:[ra,pS]})}}return t})();var hS=()=>[12,12],fS=(t,i)=>({color:t,float:"right","font-size":i});function _S(t,i){if(t&1&&h(0,"nz-icon",6),t&2){let e=l().$implicit;m("nzType",e.valuePrefixIcon)}}function gS(t,i){if(t&1&&(r(0,"nz-col",3)(1,"nz-card",4)(2,"h4"),p(3),s(),h(4,"nz-statistic",5),cn(5,"number"),u(6,_S,1,1,"ng-template",null,0,V),s()()),t&2){let e=i.$implicit,n=E(7),o=l();m("nzSpan",o.screenInfoService.isMobile?e.rowSpaceOutOf24_mobile:e.rowSpaceOutOf24),c(3),K(e.title),c(),m("nzValue",e.valueNueric?wi(5,6,e.valueNueric,"1.0-2"):e.valueText)("nzPrefix",e.valuePrefixIcon?n:void 0)("nzSuffix",e.valueSufix)("nzValueStyle",Kn(9,fS,e.valueColor?e.valueColor:"#000000",e.valueFontSize?e.valueFontSize:"24px"))}}var Te=class{constructor(i,e,n,o=void 0,a=void 0,d="",f="",x="",k=""){this.rowSpaceOutOf24=i;this.rowSpaceOutOf24_mobile=e;this.title=n;this.valueNueric=o;this.valueText=a;this.valuePrefixIcon=d;this.valueSufix=f;this.valueColor=x;this.valueFontSize=k}},Dn=class t{infoToDisplay;screenInfoService=_(be);constructor(){this.infoToDisplay||(this.infoToDisplay=this._ejemplo_infoToDisplay)}_ejemplo_infoToDisplay=[{title:"Title",valueNueric:1,valueText:"Some Value",valuePrefixIcon:"arrow-down",valueSufix:"",valueColor:"",rowSpaceOutOf24:8,rowSpaceOutOf24_mobile:12,valueFontSize:""},{title:"Another Title",valueNueric:null,valueText:"Some Value",valuePrefixIcon:"",valueSufix:"!!!",valueColor:"",rowSpaceOutOf24:16,rowSpaceOutOf24_mobile:12,valueFontSize:""},{title:"Another Title",valueNueric:null,valueText:"Some Value",valuePrefixIcon:"",valueSufix:"!!!",valueColor:"green",rowSpaceOutOf24:12,rowSpaceOutOf24_mobile:12,valueFontSize:""},{title:"Title",valueNueric:1,valueText:"Some Value",valuePrefixIcon:"arrow-down",valueSufix:"",valueColor:"",rowSpaceOutOf24:12,rowSpaceOutOf24_mobile:12,valueFontSize:""}];static \u0275fac=function(e){return new(e||t)};static \u0275cmp=D({type:t,selectors:[["app-responsive-statistics-display"]],inputs:{infoToDisplay:"infoToDisplay"},decls:4,vars:2,consts:[["prefixIcon",""],[1,"content-wrapper"],[2,"width","100%",3,"nzGutter"],[3,"nzSpan"],[2,"height","100%"],[3,"nzValue","nzPrefix","nzSuffix","nzValueStyle"],[3,"nzType"]],template:function(e,n){e&1&&(r(0,"div",1)(1,"nz-row",2),j(2,gS,8,12,"nz-col",3,_n),s()()),e&2&&(c(),m("nzGutter",xe(1,hS)),c(),L(n.infoToDisplay))},dependencies:[Dl,hm,Js,ai,Ot,wt,J,me,gm,ra],styles:[".content-wrapper[_ngcontent-%COMP%]{background:#fff;height:100%;width:100%;overflow:hidden}"]})};var CS=["chart"],vS=["chart_wrapper"];function zS(t,i){t&1&&h(0,"nz-result",3)}function SS(t,i){if(t&1&&h(0,"igx-category-chart",4,1),t&2){let e=l();m("dataSource",e.chartData)("includedProperties",e.chartIncludedPropertiesStr)("yAxisTitle",e.chartYAxisTitle)("yAxisMinimumValue",e.chartYAxisMinVal)("height",e.chartDimensions.height)("width",e.chartDimensions.width)}}var Mn=class t{chart;onChartDataItemInseted(){this.chart&&this.chart.notifyInsertItem(this.chartData,this.chartData.length-1,this.chartData[this.chartData.length-1])}ngOnChanges(i){}chartData=[];chartIncludedPropertiesStr="";chartYAxisTitle="";chartYAxisMinVal="0";chart_wrapper;canResizeChart=!1;chartDimensions={height:"1px",width:"1px"};onResize(){this.canResizeChart&&(this.chartDimensions.width=this.chart_wrapper.nativeElement.offsetWidth+"px",this.chartDimensions.height=this.chart_wrapper.nativeElement.offsetHeight+"px")}constructor(){window.addEventListener("resize",i=>{this.onResize()}),this.onResize()}ngOnInit(){this.chartData.length===0&&this.chartIncludedPropertiesStr===""&&this.chartYAxisTitle===""&&(this.chartData=bS,this.chartIncludedPropertiesStr=xS,this.chartYAxisTitle=yS)}ngAfterViewInit(){setTimeout(()=>{this.canResizeChart=!0,this.onResize()},0)}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=D({type:t,selectors:[["app-responsive-line-chart"]],viewQuery:function(e,n){if(e&1&&(G(CS,5),G(vS,5)),e&2){let o;R(o=Y())&&(n.chart=o.first),R(o=Y())&&(n.chart_wrapper=o.first)}},inputs:{chartData:"chartData",chartIncludedPropertiesStr:"chartIncludedPropertiesStr",chartYAxisTitle:"chartYAxisTitle",chartYAxisMinVal:"chartYAxisMinVal"},features:[Q],decls:4,vars:1,consts:[["chart_wrapper",""],["chart",""],[1,"chart-wrapper"],["nzStatus","warning","nzTitle","No hay lecturas disponibles"],["name","chart","chartType","Line","isHorizontalZoomEnabled","false","isVerticalZoomEnabled","false","legend","legend","yAxisTitleLeftMargin","10","yAxisTitleRightMargin","5","yAxisLabelLeftMargin","0","computedPlotAreaMarginMode","Series",3,"dataSource","includedProperties","yAxisTitle","yAxisMinimumValue","height","width"]],template:function(e,n){e&1&&(r(0,"div",2,0),u(2,zS,1,0,"nz-result",3)(3,SS,2,6,"igx-category-chart",4),s()),e&2&&(c(2),z(n.chartData.length===0?2:3))},dependencies:[gc,_c,at,ct],styles:["[_nghost-%COMP%]{display:block;width:100%;height:100%}.chart-wrapper[_ngcontent-%COMP%]{height:100%;min-height:280px;width:100%;display:flex;align-items:center;justify-content:center;flex-direction:column}"]})},yS="TWh",xS="year, europe, china, america",bS=[{year:"2009",europe:34,china:21,america:19},{year:"2010",europe:43,china:26,america:24},{year:"2011",europe:66,china:29,america:28},{year:"2012",europe:69,china:32,america:26},{year:"2013",europe:58,china:47,america:38},{year:"2014",europe:40,china:46,america:31},{year:"2015",europe:78,china:50,america:19},{year:"2016",europe:13,china:90,america:52},{year:"2017",europe:78,china:132,america:50},{year:"2018",europe:40,china:134,america:34},{year:"2018",europe:40,china:134,america:34},{year:"2019",europe:80,china:96,america:38}];var kn=["\xDAltimo minuto","\xDAltimos 5 minutos","\xDAltimos 10 minutos","\xDAltimos 30 minutos","\xDAltima hora","\xDAltimo d\xEDa","\xDAltimas 24 horas"],Pn=["A las 00:00","A las 01:00","A las 02:00","A las 03:00","A las 04:00","A las 05:00","A las 06:00","A las 07:00","A las 08:00","A las 09:00","A las 10:00","A las 11:00","A las 12:00","A las 13:00","A las 14:00","A las 15:00","A las 16:00","A las 17:00","A las 18:00","A las 19:00","A las 20:00","A las 21:00","A las 22:00","A las 23:00"],In=["\xDAltimo mes","\xDAltimo a\xF1o","Hist\xF3rico"];var TS=["realtimechart"],wS=()=>["Resumen","Pronostico (proximas 24 horas)","Variaci\xF3n en Tiempo Real","Promedios Hist\xF3ricos seg\xFAn Hora"],DS=()=>[12,12,24,24,24,24];function MS(t,i){if(t&1&&h(0,"app-responsive-statistics-display",8),t&2){let e=l();m("infoToDisplay",e.statistics_display_items)}}function kS(t,i){if(t&1&&h(0,"app-responsive-line-chart",9),t&2){let e=l();m("chartData",e.v1_measurementsForecasted)}}function PS(t,i){if(t&1&&(r(0,"div",10),h(1,"app-responsive-line-chart",11,2)(3,"br")(4,"ng-conteiner",12),s()),t&2){let e=l(),n=E(8);c(),m("chartData",e.v1_measurements),c(3),m("ngTemplateOutlet",n)}}function IS(t,i){if(t&1&&(r(0,"div",10),h(1,"app-responsive-line-chart",13,3)(3,"br")(4,"ng-conteiner",12),s()),t&2){let e=l(),n=E(6);c(),m("chartData",e.v1_measurementsHourlyAvarages),c(3),m("ngTemplateOutlet",n)}}function OS(t,i){if(t&1&&h(0,"nz-option",19),t&2){let e=i.$implicit;m("nzValue",e)("nzLabel",e)}}function NS(t,i){if(t&1&&h(0,"nz-option",19),t&2){let e=i.$implicit;m("nzValue",e)("nzLabel",e)}}function FS(t,i){if(t&1){let e=M();r(0,"div")(1,"div",15)(2,"span",16),p(3,"Periodo:"),s()(),r(4,"div",17)(5,"nz-select",18),ye("ngModelChange",function(o){g(e);let a=l(2);return Se(a.default_optionHistorycRange,o)||(a.default_optionHistorycRange=o),C(o)}),y("ngModelChange",function(o){g(e);let a=l(2);return C(a.onOptionChangeHistorycByHourRange(o))}),j(6,OS,1,2,"nz-option",19,Ne),s()(),h(8,"br"),r(9,"div",17)(10,"nz-select",18),ye("ngModelChange",function(o){g(e);let a=l(2);return Se(a.default_optionHistorycHour,o)||(a.default_optionHistorycHour=o),C(o)}),y("ngModelChange",function(o){g(e);let a=l(2);return C(a.onOptionChangeHistorycByHourHour(o))}),j(11,NS,1,2,"nz-option",19,Ne),s()()()}if(t&2){let e=l(2);c(5),ze("ngModel",e.default_optionHistorycRange),c(),L(e.optionsHistory),c(4),ze("ngModel",e.default_optionHistorycHour),c(),L(e.optionsHour)}}function ES(t,i){if(t&1&&h(0,"nz-option",19),t&2){let e=i.$implicit;m("nzValue",e)("nzLabel",e)}}function AS(t,i){if(t&1&&h(0,"nz-option",19),t&2){let e=i.$implicit;m("nzValue",e)("nzLabel",e)}}function RS(t,i){if(t&1){let e=M();r(0,"div",14)(1,"div",20)(2,"span",16),p(3,"Periodo:"),s()(),r(4,"div",21)(5,"div",22)(6,"nz-select",18),ye("ngModelChange",function(o){g(e);let a=l(2);return Se(a.default_optionHistorycRange,o)||(a.default_optionHistorycRange=o),C(o)}),y("ngModelChange",function(o){g(e);let a=l(2);return C(a.onOptionChangeHistorycByHourRange(o))}),j(7,ES,1,2,"nz-option",19,Ne),s()(),r(9,"div",22)(10,"nz-select",18),ye("ngModelChange",function(o){g(e);let a=l(2);return Se(a.default_optionHistorycHour,o)||(a.default_optionHistorycHour=o),C(o)}),y("ngModelChange",function(o){g(e);let a=l(2);return C(a.onOptionChangeHistorycByHourHour(o))}),j(11,AS,1,2,"nz-option",19,Ne),s()()()()}if(t&2){let e=l(2);c(6),ze("ngModel",e.default_optionHistorycRange),c(),L(e.optionsHistory),c(3),ze("ngModel",e.default_optionHistorycHour),c(),L(e.optionsHour)}}function YS(t,i){if(t&1&&u(0,FS,13,2,"div")(1,RS,13,2,"div",14),t&2){let e=l();z(e.screenInfoService.isMobile?0:1)}}function VS(t,i){if(t&1&&h(0,"nz-option",19),t&2){let e=i.$implicit;m("nzValue",e)("nzLabel",e)}}function HS(t,i){if(t&1){let e=M();r(0,"div")(1,"div",15)(2,"span",16),p(3,"Periodo:"),s()(),r(4,"div")(5,"nz-select",18),ye("ngModelChange",function(o){g(e);let a=l(2);return Se(a.default_optionRealTime,o)||(a.default_optionRealTime=o),C(o)}),y("ngModelChange",function(o){g(e);let a=l(2);return C(a.onOptionChangeRealTime(o))}),j(6,VS,1,2,"nz-option",19,Ne),s()()()}if(t&2){let e=l(2);c(5),ze("ngModel",e.default_optionRealTime),c(),L(e.optionsRealTime)}}function jS(t,i){if(t&1&&h(0,"nz-option",19),t&2){let e=i.$implicit;m("nzValue",e)("nzLabel",e)}}function LS(t,i){if(t&1){let e=M();r(0,"div",14)(1,"div",20)(2,"span",16),p(3,"Periodo:"),s()(),r(4,"div",23)(5,"nz-select",18),ye("ngModelChange",function(o){g(e);let a=l(2);return Se(a.default_optionRealTime,o)||(a.default_optionRealTime=o),C(o)}),y("ngModelChange",function(o){g(e);let a=l(2);return C(a.onOptionChangeRealTime(o))}),j(6,jS,1,2,"nz-option",19,Ne),s()()()}if(t&2){let e=l(2);c(5),ze("ngModel",e.default_optionRealTime),c(),L(e.optionsRealTime)}}function BS(t,i){if(t&1&&u(0,HS,8,1,"div")(1,LS,8,1,"div",14),t&2){let e=l();z(e.screenInfoService.isMobile?0:1)}}var hr=class t{_datesService=_(jt);screenInfoService=_(be);v1_measurementsHourlyAvarages=[];v1_measurements=[];v1_measurementsForecasted=[];measurementsSummary=null;measurementsForcastSummary=null;default_optionRealTime="";default_optionHistorycRange="";default_optionHistorycHour="";onOptionSelectedRealTime=new F;onOptionSelectedHistorycRange=new F;onOptionSelectedHistorycHour=new F;chart;onRealTimeMeasurementInserted(){this.chart&&this.chart.onChartDataItemInseted()}missingStatisticsValue="---";optionsRealTime=kn;optionsHistory=In;optionsHour=Pn;statistics_display_items=[new Te(8,12,"Temperatura Actual",null,this.missingStatisticsValue,void 0,"\xB0",void 0),new Te(8,12,"Max. Prevista (prox. 24hs)",null,this.missingStatisticsValue,void 0,"\xB0",void 0),new Te(8,12,"Min. Prevista (prox. 24hs)",null,this.missingStatisticsValue,void 0,"\xB0",void 0,void 0),new Te(8,12,"Fecha actual",void 0,this.missingStatisticsValue,void 0,void 0,void 0,"16px"),new Te(8,12,"Max. detectada (hoy)",null,this.missingStatisticsValue,void 0,"\xB0",void 0,void 0),new Te(8,12,"Min. detectada (hoy)",null,this.missingStatisticsValue,void 0,"\xB0",void 0,void 0)];constructor(){this.setStatisticsDisplayInitialValues()}ngOnChanges(i){if(i.measurementsSummary){let e=i.measurementsSummary.currentValue,n=i.measurementsSummary.previousValue;e!==n&&(this.statistics_display_items[0].valueNueric=e?e.temperature_current:void 0,this.statistics_display_items[3].valueText=this._datesService.getCurrentDateInSpanishFormat(),this.statistics_display_items[4].valueNueric=e?e.temperature_max:void 0,this.statistics_display_items[5].valueNueric=e?e.temperature_min:void 0)}if(i.measurementsForcastSummary){let e=i.measurementsForcastSummary.currentValue,n=i.measurementsForcastSummary.previousValue;e!==n&&(this.statistics_display_items[1].valueNueric=e?e.temperature_max:void 0,this.statistics_display_items[2].valueNueric=e?e.temperature_min:void 0)}}setStatisticsDisplayInitialValues(){this.statistics_display_items[0].valueNueric=this.measurementsSummary?this.measurementsSummary.temperature_current:void 0,this.statistics_display_items[1].valueNueric=this.measurementsForcastSummary?this.measurementsForcastSummary.temperature_max:void 0,this.statistics_display_items[2].valueNueric=this.measurementsForcastSummary?this.measurementsForcastSummary.temperature_min:void 0,this.statistics_display_items[3].valueText=this._datesService.getCurrentDateInSpanishFormat(),this.statistics_display_items[4].valueNueric=this.measurementsSummary?this.measurementsSummary.temperature_max:void 0,this.statistics_display_items[5].valueNueric=this.measurementsSummary?this.measurementsSummary.temperature_min:void 0}onOptionChangeRealTime(i){this.onOptionSelectedRealTime.emit(i)}onOptionChangeHistorycByHourRange(i){this.onOptionSelectedHistorycRange.emit(i)}onOptionChangeHistorycByHourHour(i){this.onOptionSelectedHistorycHour.emit(i)}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=D({type:t,selectors:[["app-temperature-dashboard"]],viewQuery:function(e,n){if(e&1&&G(TS,5),e&2){let o;R(o=Y())&&(n.chart=o.first)}},inputs:{v1_measurementsHourlyAvarages:"v1_measurementsHourlyAvarages",v1_measurements:"v1_measurements",v1_measurementsForecasted:"v1_measurementsForecasted",measurementsSummary:"measurementsSummary",measurementsForcastSummary:"measurementsForcastSummary",default_optionRealTime:"default_optionRealTime",default_optionHistorycRange:"default_optionHistorycRange",default_optionHistorycHour:"default_optionHistorycHour"},outputs:{onOptionSelectedRealTime:"onOptionSelectedRealTime",onOptionSelectedHistorycRange:"onOptionSelectedHistorycRange",onOptionSelectedHistorycHour:"onOptionSelectedHistorycHour"},features:[Q],decls:9,vars:4,consts:[["historycByHourSelect",""],["realTimeVariationSelect",""],["realtimechart",""],["hourlyAvaragesChart",""],[3,"gridCellTitles","gridCellSpans"],[3,"infoToDisplay",4,"appDashboardCardContentDirective"],["chartIncludedPropertiesStr","displayGraphic,temperature","chartYAxisTitle","\xB0C","chartYAxisMinVal","0",3,"chartData",4,"appDashboardCardContentDirective"],["style","width: 100%; height: fit-content;  display: inline-block; ",4,"appDashboardCardContentDirective"],[3,"infoToDisplay"],["chartIncludedPropertiesStr","displayGraphic,temperature","chartYAxisTitle","\xB0C","chartYAxisMinVal","0",3,"chartData"],[2,"width","100%","height","fit-content","display","inline-block"],["name","realtimechart","chartIncludedPropertiesStr","displayGraphic,temperature","chartYAxisTitle","\xB0C","chartYAxisMinVal","0",3,"chartData"],[3,"ngTemplateOutlet"],["name","hourlyAvaragesChart","chartIncludedPropertiesStr","displayGraphic,temperature","chartYAxisTitle","\xB0C","chartYAxisMinVal","0",3,"chartData"],["nz-flex","","nzJustify","space-evenly","nzAlign","center",2,"background-color","lightgray"],[2,"margin","0"],[2,"font-size","18px"],[2,"width","100%"],["nzSize","large","nzAllowClear","",2,"width","100%",3,"ngModelChange","ngModel"],[3,"nzValue","nzLabel"],["nz-flex","","nzAlign","center",2,"width","25%","margin","0","display","flex","justify-content","center"],["nz-flex","","nzJustify","space-evenly","nzAlign","center",2,"width","75%"],[2,"width","50%"],[2,"width","75%"]],template:function(e,n){e&1&&(r(0,"app-dashboard-layout",4),u(1,MS,1,1,"app-responsive-statistics-display",5)(2,kS,1,1,"app-responsive-line-chart",6)(3,PS,5,2,"div",7)(4,IS,5,2,"div",7),s(),u(5,YS,2,1,"ng-template",null,0,V)(7,BS,2,1,"ng-template",null,1,V)),e&2&&m("gridCellTitles",xe(2,wS))("gridCellSpans",xe(3,DS))},dependencies:[Ue,Oe,Be,ie,ot,zt,ft,nn,$t,$e,Ge,Dn,an,Mn,rn],styles:["[_nghost-%COMP%]{display:block;width:100%;height:100%}"]})};var US=["realtimechart"],$S=()=>["Resumen","Pronostico (proximas 24 horas)","Variaci\xF3n en Tiempo Real","Promedios Hist\xF3ricos seg\xFAn Hora"],WS=()=>[12,12,24,24,24,24];function qS(t,i){if(t&1&&h(0,"app-responsive-statistics-display",8),t&2){let e=l();m("infoToDisplay",e.statistics_display_items)}}function GS(t,i){if(t&1&&h(0,"app-responsive-line-chart",9),t&2){let e=l();m("chartData",e.v1_measurementsForecasted)}}function QS(t,i){if(t&1&&(r(0,"div",10),h(1,"app-responsive-line-chart",11,2)(3,"br")(4,"ng-conteiner",12),s()),t&2){let e=l(),n=E(8);c(),m("chartData",e.v1_measurements),c(3),m("ngTemplateOutlet",n)}}function KS(t,i){if(t&1&&(r(0,"div",10),h(1,"app-responsive-line-chart",13,3)(3,"br")(4,"ng-conteiner",12),s()),t&2){let e=l(),n=E(6);c(),m("chartData",e.v1_measurementsHourlyAvarages),c(3),m("ngTemplateOutlet",n)}}function ZS(t,i){if(t&1&&h(0,"nz-option",19),t&2){let e=i.$implicit;m("nzValue",e)("nzLabel",e)}}function JS(t,i){if(t&1&&h(0,"nz-option",19),t&2){let e=i.$implicit;m("nzValue",e)("nzLabel",e)}}function XS(t,i){if(t&1){let e=M();r(0,"div")(1,"div",15)(2,"span",16),p(3,"Periodo:"),s()(),r(4,"div",17)(5,"nz-select",18),ye("ngModelChange",function(o){g(e);let a=l(2);return Se(a.default_optionHistorycRange,o)||(a.default_optionHistorycRange=o),C(o)}),y("ngModelChange",function(o){g(e);let a=l(2);return C(a.onOptionChangeHistorycByHourRange(o))}),j(6,ZS,1,2,"nz-option",19,Ne),s()(),h(8,"br"),r(9,"div",17)(10,"nz-select",18),ye("ngModelChange",function(o){g(e);let a=l(2);return Se(a.default_optionHistorycHour,o)||(a.default_optionHistorycHour=o),C(o)}),y("ngModelChange",function(o){g(e);let a=l(2);return C(a.onOptionChangeHistorycByHourHour(o))}),j(11,JS,1,2,"nz-option",19,Ne),s()()()}if(t&2){let e=l(2);c(5),ze("ngModel",e.default_optionHistorycRange),c(),L(e.optionsHistory),c(4),ze("ngModel",e.default_optionHistorycHour),c(),L(e.optionsHour)}}function ey(t,i){if(t&1&&h(0,"nz-option",19),t&2){let e=i.$implicit;m("nzValue",e)("nzLabel",e)}}function ty(t,i){if(t&1&&h(0,"nz-option",19),t&2){let e=i.$implicit;m("nzValue",e)("nzLabel",e)}}function ny(t,i){if(t&1){let e=M();r(0,"div",14)(1,"div",20)(2,"span",16),p(3,"Periodo:"),s()(),r(4,"div",21)(5,"div",22)(6,"nz-select",18),ye("ngModelChange",function(o){g(e);let a=l(2);return Se(a.default_optionHistorycRange,o)||(a.default_optionHistorycRange=o),C(o)}),y("ngModelChange",function(o){g(e);let a=l(2);return C(a.onOptionChangeHistorycByHourRange(o))}),j(7,ey,1,2,"nz-option",19,Ne),s()(),r(9,"div",22)(10,"nz-select",18),ye("ngModelChange",function(o){g(e);let a=l(2);return Se(a.default_optionHistorycHour,o)||(a.default_optionHistorycHour=o),C(o)}),y("ngModelChange",function(o){g(e);let a=l(2);return C(a.onOptionChangeHistorycByHourHour(o))}),j(11,ty,1,2,"nz-option",19,Ne),s()()()()}if(t&2){let e=l(2);c(6),ze("ngModel",e.default_optionHistorycRange),c(),L(e.optionsHistory),c(3),ze("ngModel",e.default_optionHistorycHour),c(),L(e.optionsHour)}}function iy(t,i){if(t&1&&u(0,XS,13,2,"div")(1,ny,13,2,"div",14),t&2){let e=l();z(e.screenInfoService.isMobile?0:1)}}function oy(t,i){if(t&1&&h(0,"nz-option",19),t&2){let e=i.$implicit;m("nzValue",e)("nzLabel",e)}}function ay(t,i){if(t&1){let e=M();r(0,"div")(1,"div",15)(2,"span",16),p(3,"Periodo:"),s()(),r(4,"div")(5,"nz-select",18),ye("ngModelChange",function(o){g(e);let a=l(2);return Se(a.default_optionRealTime,o)||(a.default_optionRealTime=o),C(o)}),y("ngModelChange",function(o){g(e);let a=l(2);return C(a.onOptionChangeRealTime(o))}),j(6,oy,1,2,"nz-option",19,Ne),s()()()}if(t&2){let e=l(2);c(5),ze("ngModel",e.default_optionRealTime),c(),L(e.optionsRealTime)}}function ry(t,i){if(t&1&&h(0,"nz-option",19),t&2){let e=i.$implicit;m("nzValue",e)("nzLabel",e)}}function sy(t,i){if(t&1){let e=M();r(0,"div",14)(1,"div",20)(2,"span",16),p(3,"Periodo:"),s()(),r(4,"div",23)(5,"nz-select",18),ye("ngModelChange",function(o){g(e);let a=l(2);return Se(a.default_optionRealTime,o)||(a.default_optionRealTime=o),C(o)}),y("ngModelChange",function(o){g(e);let a=l(2);return C(a.onOptionChangeRealTime(o))}),j(6,ry,1,2,"nz-option",19,Ne),s()()()}if(t&2){let e=l(2);c(5),ze("ngModel",e.default_optionRealTime),c(),L(e.optionsRealTime)}}function ly(t,i){if(t&1&&u(0,ay,8,1,"div")(1,sy,8,1,"div",14),t&2){let e=l();z(e.screenInfoService.isMobile?0:1)}}var fr=class t{_datesService=_(jt);screenInfoService=_(be);v1_measurementsHourlyAvarages=[];v1_measurements=[];v1_measurementsForecasted=[];measurementsSummary=null;measurementsForcastSummary=null;default_optionRealTime="";default_optionHistorycRange="";default_optionHistorycHour="";onOptionSelectedRealTime=new F;onOptionSelectedHistorycRange=new F;onOptionSelectedHistorycHour=new F;chart;onRealTimeMeasurementInserted(){this.chart&&this.chart.onChartDataItemInseted()}missingStatisticsValue="---";optionsRealTime=kn;optionsHistory=In;optionsHour=Pn;statistics_display_items=[new Te(8,12,"Humedad Actual",null,this.missingStatisticsValue,void 0,"%",void 0),new Te(8,12,"Max. Prevista (prox. 24hs)",null,this.missingStatisticsValue,void 0,"%",void 0),new Te(8,12,"Min. Prevista (prox. 24hs)",null,this.missingStatisticsValue,void 0,"%",void 0,void 0),new Te(8,12,"Fecha actual",void 0,this.missingStatisticsValue,void 0,void 0,void 0,"16px"),new Te(8,12,"Max. detectada (hoy)",null,this.missingStatisticsValue,void 0,"%",void 0,void 0),new Te(8,12,"Min. detectada (hoy)",null,this.missingStatisticsValue,void 0,"%",void 0,void 0)];constructor(){this.setStatisticsDisplayInitialValues()}ngOnChanges(i){if(i.measurementsSummary){let e=i.measurementsSummary.currentValue,n=i.measurementsSummary.previousValue;e!==n&&(this.statistics_display_items[0].valueNueric=e?e.humidity_current:void 0,this.statistics_display_items[3].valueText=this._datesService.getCurrentDateInSpanishFormat(),this.statistics_display_items[4].valueNueric=e?e.humidity_max:void 0,this.statistics_display_items[5].valueNueric=e?e.humidity_min:void 0)}if(i.measurementsForcastSummary){let e=i.measurementsForcastSummary.currentValue,n=i.measurementsForcastSummary.previousValue;e!==n&&(this.statistics_display_items[1].valueNueric=e?e.humidity_max:void 0,this.statistics_display_items[2].valueNueric=e?e.humidity_min:void 0)}}setStatisticsDisplayInitialValues(){this.statistics_display_items[0].valueNueric=this.measurementsSummary?this.measurementsSummary.humidity_current:void 0,this.statistics_display_items[1].valueNueric=this.measurementsForcastSummary?this.measurementsForcastSummary.humidity_max:void 0,this.statistics_display_items[2].valueNueric=this.measurementsForcastSummary?this.measurementsForcastSummary.humidity_min:void 0,this.statistics_display_items[3].valueText=this._datesService.getCurrentDateInSpanishFormat(),this.statistics_display_items[4].valueNueric=this.measurementsSummary?this.measurementsSummary.humidity_max:void 0,this.statistics_display_items[5].valueNueric=this.measurementsSummary?this.measurementsSummary.humidity_min:void 0}onOptionChangeRealTime(i){this.onOptionSelectedRealTime.emit(i)}onOptionChangeHistorycByHourRange(i){this.onOptionSelectedHistorycRange.emit(i)}onOptionChangeHistorycByHourHour(i){this.onOptionSelectedHistorycHour.emit(i)}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=D({type:t,selectors:[["app-humidity-dashboard"]],viewQuery:function(e,n){if(e&1&&G(US,5),e&2){let o;R(o=Y())&&(n.chart=o.first)}},inputs:{v1_measurementsHourlyAvarages:"v1_measurementsHourlyAvarages",v1_measurements:"v1_measurements",v1_measurementsForecasted:"v1_measurementsForecasted",measurementsSummary:"measurementsSummary",measurementsForcastSummary:"measurementsForcastSummary",default_optionRealTime:"default_optionRealTime",default_optionHistorycRange:"default_optionHistorycRange",default_optionHistorycHour:"default_optionHistorycHour"},outputs:{onOptionSelectedRealTime:"onOptionSelectedRealTime",onOptionSelectedHistorycRange:"onOptionSelectedHistorycRange",onOptionSelectedHistorycHour:"onOptionSelectedHistorycHour"},features:[Q],decls:9,vars:4,consts:[["historycByHourSelect",""],["realTimeVariationSelect",""],["realtimechart",""],["hourlyAvaragesChart",""],[3,"gridCellTitles","gridCellSpans"],[3,"infoToDisplay",4,"appDashboardCardContentDirective"],["chartIncludedPropertiesStr","displayGraphic,humidity","chartYAxisTitle","%","chartYAxisMinVal","0",3,"chartData",4,"appDashboardCardContentDirective"],["style","width: 100%; height: fit-content;  display: inline-block; ",4,"appDashboardCardContentDirective"],[3,"infoToDisplay"],["chartIncludedPropertiesStr","displayGraphic,humidity","chartYAxisTitle","%","chartYAxisMinVal","0",3,"chartData"],[2,"width","100%","height","fit-content","display","inline-block"],["name","realtimechart","chartIncludedPropertiesStr","displayGraphic,humidity","chartYAxisTitle","%","chartYAxisMinVal","0",3,"chartData"],[3,"ngTemplateOutlet"],["name","hourlyAvaragesChart","chartIncludedPropertiesStr","displayGraphic,humidity","chartYAxisTitle","%","chartYAxisMinVal","0",3,"chartData"],["nz-flex","","nzJustify","space-evenly","nzAlign","center",2,"background-color","lightgray"],[2,"margin","0"],[2,"font-size","18px"],[2,"width","100%"],["nzSize","large","nzAllowClear","",2,"width","100%",3,"ngModelChange","ngModel"],[3,"nzValue","nzLabel"],["nz-flex","","nzAlign","center",2,"width","25%","margin","0","display","flex","justify-content","center"],["nz-flex","","nzJustify","space-evenly","nzAlign","center",2,"width","75%"],[2,"width","50%"],[2,"width","75%"]],template:function(e,n){e&1&&(r(0,"app-dashboard-layout",4),u(1,qS,1,1,"app-responsive-statistics-display",5)(2,GS,1,1,"app-responsive-line-chart",6)(3,QS,5,2,"div",7)(4,KS,5,2,"div",7),s(),u(5,iy,2,1,"ng-template",null,0,V)(7,ly,2,1,"ng-template",null,1,V)),e&2&&m("gridCellTitles",xe(2,$S))("gridCellSpans",xe(3,WS))},dependencies:[Ue,Oe,Be,ie,ot,zt,ft,nn,$t,$e,Ge,Dn,an,Mn,rn],styles:["[_nghost-%COMP%]{display:block;width:100%;height:100%}"]})};var cy=["realtimechart"],dy=()=>["Resumen","Pronostico (proximas 24 horas)","Variaci\xF3n en Tiempo Real","Promedios Hist\xF3ricos seg\xFAn Hora"],my=()=>[12,12,24,24,24,24];function py(t,i){if(t&1&&h(0,"app-responsive-statistics-display",8),t&2){let e=l();m("infoToDisplay",e.statistics_display_items)}}function uy(t,i){t&1&&h(0,"nz-result",9)}function hy(t,i){if(t&1&&(r(0,"div",10),h(1,"app-responsive-line-chart",11,2)(3,"br")(4,"ng-conteiner",12),s()),t&2){let e=l(),n=E(8);c(),m("chartData",e.v1_measurements),c(3),m("ngTemplateOutlet",n)}}function fy(t,i){if(t&1&&(r(0,"div",10),h(1,"app-responsive-line-chart",13,3)(3,"br")(4,"ng-conteiner",12),s()),t&2){let e=l(),n=E(6);c(),m("chartData",e.v1_measurementsHourlyAvarages),c(3),m("ngTemplateOutlet",n)}}function _y(t,i){if(t&1&&h(0,"nz-option",19),t&2){let e=i.$implicit;m("nzValue",e)("nzLabel",e)}}function gy(t,i){if(t&1&&h(0,"nz-option",19),t&2){let e=i.$implicit;m("nzValue",e)("nzLabel",e)}}function Cy(t,i){if(t&1){let e=M();r(0,"div")(1,"div",15)(2,"span",16),p(3,"Periodo:"),s()(),r(4,"div",17)(5,"nz-select",18),ye("ngModelChange",function(o){g(e);let a=l(2);return Se(a.default_optionHistorycRange,o)||(a.default_optionHistorycRange=o),C(o)}),y("ngModelChange",function(o){g(e);let a=l(2);return C(a.onOptionChangeHistorycByHourRange(o))}),j(6,_y,1,2,"nz-option",19,Ne),s()(),h(8,"br"),r(9,"div",17)(10,"nz-select",18),ye("ngModelChange",function(o){g(e);let a=l(2);return Se(a.default_optionHistorycHour,o)||(a.default_optionHistorycHour=o),C(o)}),y("ngModelChange",function(o){g(e);let a=l(2);return C(a.onOptionChangeHistorycByHourHour(o))}),j(11,gy,1,2,"nz-option",19,Ne),s()()()}if(t&2){let e=l(2);c(5),ze("ngModel",e.default_optionHistorycRange),c(),L(e.optionsHistory),c(4),ze("ngModel",e.default_optionHistorycHour),c(),L(e.optionsHour)}}function vy(t,i){if(t&1&&h(0,"nz-option",19),t&2){let e=i.$implicit;m("nzValue",e)("nzLabel",e)}}function zy(t,i){if(t&1&&h(0,"nz-option",19),t&2){let e=i.$implicit;m("nzValue",e)("nzLabel",e)}}function Sy(t,i){if(t&1){let e=M();r(0,"div",14)(1,"div",20)(2,"span",16),p(3,"Periodo:"),s()(),r(4,"div",21)(5,"div",22)(6,"nz-select",18),ye("ngModelChange",function(o){g(e);let a=l(2);return Se(a.default_optionHistorycRange,o)||(a.default_optionHistorycRange=o),C(o)}),y("ngModelChange",function(o){g(e);let a=l(2);return C(a.onOptionChangeHistorycByHourRange(o))}),j(7,vy,1,2,"nz-option",19,Ne),s()(),r(9,"div",22)(10,"nz-select",18),ye("ngModelChange",function(o){g(e);let a=l(2);return Se(a.default_optionHistorycHour,o)||(a.default_optionHistorycHour=o),C(o)}),y("ngModelChange",function(o){g(e);let a=l(2);return C(a.onOptionChangeHistorycByHourHour(o))}),j(11,zy,1,2,"nz-option",19,Ne),s()()()()}if(t&2){let e=l(2);c(6),ze("ngModel",e.default_optionHistorycRange),c(),L(e.optionsHistory),c(3),ze("ngModel",e.default_optionHistorycHour),c(),L(e.optionsHour)}}function yy(t,i){if(t&1&&u(0,Cy,13,2,"div")(1,Sy,13,2,"div",14),t&2){let e=l();z(e.screenInfoService.isMobile?0:1)}}function xy(t,i){if(t&1&&h(0,"nz-option",19),t&2){let e=i.$implicit;m("nzValue",e)("nzLabel",e)}}function by(t,i){if(t&1){let e=M();r(0,"div")(1,"div",15)(2,"span",16),p(3,"Periodo:"),s()(),r(4,"div")(5,"nz-select",18),ye("ngModelChange",function(o){g(e);let a=l(2);return Se(a.default_optionRealTime,o)||(a.default_optionRealTime=o),C(o)}),y("ngModelChange",function(o){g(e);let a=l(2);return C(a.onOptionChangeRealTime(o))}),j(6,xy,1,2,"nz-option",19,Ne),s()()()}if(t&2){let e=l(2);c(5),ze("ngModel",e.default_optionRealTime),c(),L(e.optionsRealTime)}}function Ty(t,i){if(t&1&&h(0,"nz-option",19),t&2){let e=i.$implicit;m("nzValue",e)("nzLabel",e)}}function wy(t,i){if(t&1){let e=M();r(0,"div",14)(1,"div",20)(2,"span",16),p(3,"Periodo:"),s()(),r(4,"div",23)(5,"nz-select",18),ye("ngModelChange",function(o){g(e);let a=l(2);return Se(a.default_optionRealTime,o)||(a.default_optionRealTime=o),C(o)}),y("ngModelChange",function(o){g(e);let a=l(2);return C(a.onOptionChangeRealTime(o))}),j(6,Ty,1,2,"nz-option",19,Ne),s()()()}if(t&2){let e=l(2);c(5),ze("ngModel",e.default_optionRealTime),c(),L(e.optionsRealTime)}}function Dy(t,i){if(t&1&&u(0,by,8,1,"div")(1,wy,8,1,"div",14),t&2){let e=l();z(e.screenInfoService.isMobile?0:1)}}var _r=class t{_datesService=_(jt);screenInfoService=_(be);v1_measurementsHourlyAvarages=[];v1_measurements=[];v1_measurementsForecasted=[];measurementsSummary=null;measurementsForcastSummary=null;default_optionRealTime="";default_optionHistorycRange="";default_optionHistorycHour="";onOptionSelectedRealTime=new F;onOptionSelectedHistorycRange=new F;onOptionSelectedHistorycHour=new F;chart;onRealTimeMeasurementInserted(){this.chart&&this.chart.onChartDataItemInseted()}missingStatisticsValue="---";optionsRealTime=kn;optionsHistory=In;optionsHour=Pn;statistics_display_items=[new Te(8,12,"Presi\xF3n Actual",null,this.missingStatisticsValue,void 0,"hPa",void 0),new Te(8,12,"Max. Prevista (prox. 24hs)",null,this.missingStatisticsValue,void 0,"hPa",void 0),new Te(8,12,"Min. Prevista (prox. 24hs)",null,this.missingStatisticsValue,void 0,"hPa",void 0,void 0),new Te(8,12,"Fecha actual",void 0,this.missingStatisticsValue,void 0,void 0,void 0,"16px"),new Te(8,12,"Max. detectada (hoy)",null,this.missingStatisticsValue,void 0,"hPa",void 0,void 0),new Te(8,12,"Min. detectada (hoy)",null,this.missingStatisticsValue,void 0,"hPa",void 0,void 0)];constructor(){this.setStatisticsDisplayInitialValues()}ngOnChanges(i){if(i.measurementsSummary){let e=i.measurementsSummary.currentValue,n=i.measurementsSummary.previousValue;e!==n&&(this.statistics_display_items[0].valueNueric=e?e.pressure_current:void 0,this.statistics_display_items[3].valueText=this._datesService.getCurrentDateInSpanishFormat(),this.statistics_display_items[4].valueNueric=e?e.pressure_max:void 0,this.statistics_display_items[5].valueNueric=e?e.pressure_min:void 0)}if(i.measurementsForcastSummary){let e=i.measurementsForcastSummary.currentValue,n=i.measurementsForcastSummary.previousValue;e!==n&&(this.statistics_display_items[1].valueNueric=e?e.pressure_max:void 0,this.statistics_display_items[2].valueNueric=e?e.pressure_min:void 0)}}setStatisticsDisplayInitialValues(){this.statistics_display_items[0].valueNueric=this.measurementsSummary?this.measurementsSummary.pressure_current:void 0,this.statistics_display_items[1].valueNueric=this.measurementsForcastSummary?this.measurementsForcastSummary.pressure_max:void 0,this.statistics_display_items[2].valueNueric=this.measurementsForcastSummary?this.measurementsForcastSummary.pressure_min:void 0,this.statistics_display_items[3].valueText=this._datesService.getCurrentDateInSpanishFormat(),this.statistics_display_items[4].valueNueric=this.measurementsSummary?this.measurementsSummary.pressure_max:void 0,this.statistics_display_items[5].valueNueric=this.measurementsSummary?this.measurementsSummary.pressure_min:void 0}onOptionChangeRealTime(i){this.onOptionSelectedRealTime.emit(i)}onOptionChangeHistorycByHourRange(i){this.onOptionSelectedHistorycRange.emit(i)}onOptionChangeHistorycByHourHour(i){this.onOptionSelectedHistorycHour.emit(i)}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=D({type:t,selectors:[["app-pressure-dashboard"]],viewQuery:function(e,n){if(e&1&&G(cy,5),e&2){let o;R(o=Y())&&(n.chart=o.first)}},inputs:{v1_measurementsHourlyAvarages:"v1_measurementsHourlyAvarages",v1_measurements:"v1_measurements",v1_measurementsForecasted:"v1_measurementsForecasted",measurementsSummary:"measurementsSummary",measurementsForcastSummary:"measurementsForcastSummary",default_optionRealTime:"default_optionRealTime",default_optionHistorycRange:"default_optionHistorycRange",default_optionHistorycHour:"default_optionHistorycHour"},outputs:{onOptionSelectedRealTime:"onOptionSelectedRealTime",onOptionSelectedHistorycRange:"onOptionSelectedHistorycRange",onOptionSelectedHistorycHour:"onOptionSelectedHistorycHour"},features:[Q],decls:9,vars:4,consts:[["historycByHourSelect",""],["realTimeVariationSelect",""],["realtimechart",""],["hourlyAvaragesChart",""],[3,"gridCellTitles","gridCellSpans"],[3,"infoToDisplay",4,"appDashboardCardContentDirective"],["nzStatus","warning","nzTitle","Pr\xF3ximamente",4,"appDashboardCardContentDirective"],["style","width: 100%; height: fit-content;  display: inline-block; ",4,"appDashboardCardContentDirective"],[3,"infoToDisplay"],["nzStatus","warning","nzTitle","Pr\xF3ximamente"],[2,"width","100%","height","fit-content","display","inline-block"],["name","realtimechart","chartIncludedPropertiesStr","displayGraphic,atmospheric_pressure","chartYAxisTitle","hPa","chartYAxisMinVal","0",3,"chartData"],[3,"ngTemplateOutlet"],["name","hourlyAvaragesChart","chartIncludedPropertiesStr","displayGraphic,atmospheric_pressure","chartYAxisTitle","hPa","chartYAxisMinVal","0",3,"chartData"],["nz-flex","","nzJustify","space-evenly","nzAlign","center",2,"background-color","lightgray"],[2,"margin","0"],[2,"font-size","18px"],[2,"width","100%"],["nzSize","large","nzAllowClear","",2,"width","100%",3,"ngModelChange","ngModel"],[3,"nzValue","nzLabel"],["nz-flex","","nzAlign","center",2,"width","25%","margin","0","display","flex","justify-content","center"],["nz-flex","","nzJustify","space-evenly","nzAlign","center",2,"width","75%"],[2,"width","50%"],[2,"width","75%"]],template:function(e,n){e&1&&(r(0,"app-dashboard-layout",4),u(1,py,1,1,"app-responsive-statistics-display",5)(2,uy,1,0,"nz-result",6)(3,hy,5,2,"div",7)(4,fy,5,2,"div",7),s(),u(5,yy,2,1,"ng-template",null,0,V)(7,Dy,2,1,"ng-template",null,1,V)),e&2&&m("gridCellTitles",xe(2,dy))("gridCellSpans",xe(3,my))},dependencies:[Ue,Oe,Be,ie,ot,zt,at,ct,ft,nn,$t,$e,Ge,Dn,an,Mn,rn],styles:["[_nghost-%COMP%]{display:block;width:100%;height:100%}"]})};var My=["realtimechart"],ky=()=>["Resumen de Temperatura","Pronostico de Temperatura (proximas 24 horas)","Resumen de Humedad","Pronostico de  Humedad (proximas 24 horas)","Ubicaci\xF3n"],Py=()=>[12,12,12,12,24];function Iy(t,i){if(t&1&&h(0,"app-responsive-statistics-display",6),t&2){let e=l();m("infoToDisplay",e.statistics_display_items_temperature)}}function Oy(t,i){if(t&1&&h(0,"app-responsive-line-chart",7),t&2){let e=l();m("chartData",e.v1_measurementsForecasted)}}function Ny(t,i){if(t&1&&h(0,"app-responsive-statistics-display",6),t&2){let e=l();m("infoToDisplay",e.statistics_display_items_humidity)}}function Fy(t,i){if(t&1&&h(0,"app-responsive-line-chart",8),t&2){let e=l();m("chartData",e.v1_measurementsForecasted)}}function Ey(t,i){if(t&1&&h(0,"app-responsive-map",4),t&2){let e=l(2);m("map_coordinate_x",e.weatherStationCoordinate_x)("map_coordinate_y",e.weatherStationCoordinate_y)}}function Ay(t,i){t&1&&u(0,Ey,1,2,"app-responsive-map",9)}function Ry(t,i){t&1&&h(0,"nz-result",5)}function Yy(t,i){t&1&&u(0,Ry,1,0,"nz-result",10)}var gr=class t{_datesService=_(jt);screenInfoService=_(be);v1_measurementsHourlyAvarages=[];v1_measurements=[];v1_measurementsForecasted=[];measurementsSummary=null;measurementsForcastSummary=null;weatherStationCoordinate_x=null;weatherStationCoordinate_y=null;chart;onRealTimeMeasurementInserted(){this.chart&&this.chart.onChartDataItemInseted()}missingStatisticsValue="---";optionsRealTime=kn;optionsHistory=In;optionsHour=Pn;statistics_display_items_humidity=[new Te(8,12,"Humedad Actual",null,this.missingStatisticsValue,void 0,"%",void 0),new Te(8,12,"Max. Prevista (prox. 24hs)",null,this.missingStatisticsValue,void 0,"%",void 0),new Te(8,12,"Min. Prevista (prox. 24hs)",null,this.missingStatisticsValue,void 0,"%",void 0,void 0),new Te(8,12,"Fecha actual",void 0,this.missingStatisticsValue,void 0,void 0,void 0,"16px"),new Te(8,12,"Max. detectada (hoy)",null,this.missingStatisticsValue,void 0,"%",void 0,void 0),new Te(8,12,"Min. detectada (hoy)",null,this.missingStatisticsValue,void 0,"%",void 0,void 0)];statistics_display_items_temperature=[new Te(8,12,"Temperatura Actual",null,this.missingStatisticsValue,void 0,"\xB0",void 0),new Te(8,12,"Max. Prevista (prox. 24hs)",null,this.missingStatisticsValue,void 0,"\xB0",void 0),new Te(8,12,"Min. Prevista (prox. 24hs)",null,this.missingStatisticsValue,void 0,"\xB0",void 0,void 0),new Te(8,12,"Fecha actual",void 0,this.missingStatisticsValue,void 0,void 0,void 0,"16px"),new Te(8,12,"Max. detectada (hoy)",null,this.missingStatisticsValue,void 0,"\xB0",void 0,void 0),new Te(8,12,"Min. detectada (hoy)",null,this.missingStatisticsValue,void 0,"\xB0",void 0,void 0)];constructor(){this.setStatisticsDisplayInitialValues()}ngOnChanges(i){if(i.measurementsSummary){let e=i.measurementsSummary.currentValue,n=i.measurementsSummary.previousValue;e!==n&&(this.statistics_display_items_humidity[0].valueNueric=e?e.humidity_current:void 0,this.statistics_display_items_humidity[3].valueText=this._datesService.getCurrentDateInSpanishFormat(),this.statistics_display_items_humidity[4].valueNueric=e?e.humidity_max:void 0,this.statistics_display_items_humidity[5].valueNueric=e?e.humidity_min:void 0,this.statistics_display_items_temperature[0].valueNueric=e?e.temperature_current:void 0,this.statistics_display_items_temperature[3].valueText=this._datesService.getCurrentDateInSpanishFormat(),this.statistics_display_items_temperature[4].valueNueric=e?e.temperature_max:void 0,this.statistics_display_items_temperature[5].valueNueric=e?e.temperature_min:void 0)}if(i.measurementsForcastSummary){let e=i.measurementsForcastSummary.currentValue,n=i.measurementsForcastSummary.previousValue;e!==n&&(this.statistics_display_items_humidity[1].valueNueric=e?e.humidity_max:void 0,this.statistics_display_items_humidity[2].valueNueric=e?e.humidity_min:void 0,this.statistics_display_items_temperature[1].valueNueric=e?e.temperature_max:void 0,this.statistics_display_items_temperature[2].valueNueric=e?e.temperature_min:void 0)}}setStatisticsDisplayInitialValues(){this.statistics_display_items_humidity[0].valueNueric=this.measurementsSummary?this.measurementsSummary.humidity_current:void 0,this.statistics_display_items_humidity[1].valueNueric=this.measurementsForcastSummary?this.measurementsForcastSummary.humidity_max:void 0,this.statistics_display_items_humidity[2].valueNueric=this.measurementsForcastSummary?this.measurementsForcastSummary.humidity_min:void 0,this.statistics_display_items_humidity[3].valueText=this._datesService.getCurrentDateInSpanishFormat(),this.statistics_display_items_humidity[4].valueNueric=this.measurementsSummary?this.measurementsSummary.humidity_max:void 0,this.statistics_display_items_humidity[5].valueNueric=this.measurementsSummary?this.measurementsSummary.humidity_min:void 0,this.statistics_display_items_temperature[0].valueNueric=this.measurementsSummary?this.measurementsSummary.temperature_current:void 0,this.statistics_display_items_temperature[1].valueNueric=this.measurementsForcastSummary?this.measurementsForcastSummary.temperature_max:void 0,this.statistics_display_items_temperature[2].valueNueric=this.measurementsForcastSummary?this.measurementsForcastSummary.temperature_min:void 0,this.statistics_display_items_temperature[3].valueText=this._datesService.getCurrentDateInSpanishFormat(),this.statistics_display_items_temperature[4].valueNueric=this.measurementsSummary?this.measurementsSummary.temperature_max:void 0,this.statistics_display_items_temperature[5].valueNueric=this.measurementsSummary?this.measurementsSummary.temperature_min:void 0}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=D({type:t,selectors:[["app-general-dashboard"]],viewQuery:function(e,n){if(e&1&&G(My,5),e&2){let o;R(o=Y())&&(n.chart=o.first)}},inputs:{v1_measurementsHourlyAvarages:"v1_measurementsHourlyAvarages",v1_measurements:"v1_measurements",v1_measurementsForecasted:"v1_measurementsForecasted",measurementsSummary:"measurementsSummary",measurementsForcastSummary:"measurementsForcastSummary",weatherStationCoordinate_x:"weatherStationCoordinate_x",weatherStationCoordinate_y:"weatherStationCoordinate_y"},features:[Q],decls:7,vars:5,consts:[[3,"gridCellTitles","gridCellSpans"],[3,"infoToDisplay",4,"appDashboardCardContentDirective"],["chartIncludedPropertiesStr","displayGraphic,temperature","chartYAxisTitle","\xB0C","chartYAxisMinVal","0",3,"chartData",4,"appDashboardCardContentDirective"],["chartIncludedPropertiesStr","displayGraphic,humidity","chartYAxisTitle","%","chartYAxisMinVal","0",3,"chartData",4,"appDashboardCardContentDirective"],["id","some_id_2",3,"map_coordinate_x","map_coordinate_y"],["nzStatus","warning","nzTitle","Las coordenadas de la estaci\xF3n no est\xE1n disponibles"],[3,"infoToDisplay"],["chartIncludedPropertiesStr","displayGraphic,temperature","chartYAxisTitle","\xB0C","chartYAxisMinVal","0",3,"chartData"],["chartIncludedPropertiesStr","displayGraphic,humidity","chartYAxisTitle","%","chartYAxisMinVal","0",3,"chartData"],["id","some_id_2",3,"map_coordinate_x","map_coordinate_y",4,"appDashboardCardContentDirective"],["nzStatus","warning","nzTitle","Las coordenadas de la estaci\xF3n no est\xE1n disponibles",4,"appDashboardCardContentDirective"]],template:function(e,n){e&1&&(r(0,"app-dashboard-layout",0),u(1,Iy,1,1,"app-responsive-statistics-display",1)(2,Oy,1,1,"app-responsive-line-chart",2)(3,Ny,1,1,"app-responsive-statistics-display",1)(4,Fy,1,1,"app-responsive-line-chart",3)(5,Ay,1,0,"app-responsive-map",4)(6,Yy,1,0,"nz-result",5),s()),e&2&&(m("gridCellTitles",xe(3,ky))("gridCellSpans",xe(4,Py)),c(5),z(n.weatherStationCoordinate_x&&n.weatherStationCoordinate_y?5:6))},dependencies:[Ue,Be,ot,ft,at,ct,$e,Dn,an,Mn,rn,ko],styles:["[_nghost-%COMP%]{display:block;width:100%;height:100%}"]})};var Vy=["realtimechart"],Hy=()=>["Resumen","Pronostico (proximas 24 horas)","Variaci\xF3n en Tiempo Real","Promedios Hist\xF3ricos seg\xFAn Hora"],jy=()=>[12,12,24,24,24,24];function Ly(t,i){if(t&1&&h(0,"app-responsive-statistics-display",8),t&2){let e=l();m("infoToDisplay",e.statistics_display_items)}}function By(t,i){t&1&&h(0,"nz-result",9)}function Uy(t,i){if(t&1&&(r(0,"div",10),h(1,"app-responsive-line-chart",11,2)(3,"br")(4,"ng-conteiner",12),s()),t&2){let e=l(),n=E(8);c(),m("chartData",e.v1_measurements),c(3),m("ngTemplateOutlet",n)}}function $y(t,i){if(t&1&&(r(0,"div",10),h(1,"app-responsive-line-chart",13,3)(3,"br")(4,"ng-conteiner",12),s()),t&2){let e=l(),n=E(6);c(),m("chartData",e.v1_measurementsHourlyAvarages),c(3),m("ngTemplateOutlet",n)}}function Wy(t,i){if(t&1&&h(0,"nz-option",19),t&2){let e=i.$implicit;m("nzValue",e)("nzLabel",e)}}function qy(t,i){if(t&1&&h(0,"nz-option",19),t&2){let e=i.$implicit;m("nzValue",e)("nzLabel",e)}}function Gy(t,i){if(t&1){let e=M();r(0,"div")(1,"div",15)(2,"span",16),p(3,"Periodo:"),s()(),r(4,"div",17)(5,"nz-select",18),ye("ngModelChange",function(o){g(e);let a=l(2);return Se(a.default_optionHistorycRange,o)||(a.default_optionHistorycRange=o),C(o)}),y("ngModelChange",function(o){g(e);let a=l(2);return C(a.onOptionChangeHistorycByHourRange(o))}),j(6,Wy,1,2,"nz-option",19,Ne),s()(),h(8,"br"),r(9,"div",17)(10,"nz-select",18),ye("ngModelChange",function(o){g(e);let a=l(2);return Se(a.default_optionHistorycHour,o)||(a.default_optionHistorycHour=o),C(o)}),y("ngModelChange",function(o){g(e);let a=l(2);return C(a.onOptionChangeHistorycByHourHour(o))}),j(11,qy,1,2,"nz-option",19,Ne),s()()()}if(t&2){let e=l(2);c(5),ze("ngModel",e.default_optionHistorycRange),c(),L(e.optionsHistory),c(4),ze("ngModel",e.default_optionHistorycHour),c(),L(e.optionsHour)}}function Qy(t,i){if(t&1&&h(0,"nz-option",19),t&2){let e=i.$implicit;m("nzValue",e)("nzLabel",e)}}function Ky(t,i){if(t&1&&h(0,"nz-option",19),t&2){let e=i.$implicit;m("nzValue",e)("nzLabel",e)}}function Zy(t,i){if(t&1){let e=M();r(0,"div",14)(1,"div",20)(2,"span",16),p(3,"Periodo:"),s()(),r(4,"div",21)(5,"div",22)(6,"nz-select",18),ye("ngModelChange",function(o){g(e);let a=l(2);return Se(a.default_optionHistorycRange,o)||(a.default_optionHistorycRange=o),C(o)}),y("ngModelChange",function(o){g(e);let a=l(2);return C(a.onOptionChangeHistorycByHourRange(o))}),j(7,Qy,1,2,"nz-option",19,Ne),s()(),r(9,"div",22)(10,"nz-select",18),ye("ngModelChange",function(o){g(e);let a=l(2);return Se(a.default_optionHistorycHour,o)||(a.default_optionHistorycHour=o),C(o)}),y("ngModelChange",function(o){g(e);let a=l(2);return C(a.onOptionChangeHistorycByHourHour(o))}),j(11,Ky,1,2,"nz-option",19,Ne),s()()()()}if(t&2){let e=l(2);c(6),ze("ngModel",e.default_optionHistorycRange),c(),L(e.optionsHistory),c(3),ze("ngModel",e.default_optionHistorycHour),c(),L(e.optionsHour)}}function Jy(t,i){if(t&1&&u(0,Gy,13,2,"div")(1,Zy,13,2,"div",14),t&2){let e=l();z(e.screenInfoService.isMobile?0:1)}}function Xy(t,i){if(t&1&&h(0,"nz-option",19),t&2){let e=i.$implicit;m("nzValue",e)("nzLabel",e)}}function ex(t,i){if(t&1){let e=M();r(0,"div")(1,"div",15)(2,"span",16),p(3,"Periodo:"),s()(),r(4,"div")(5,"nz-select",18),ye("ngModelChange",function(o){g(e);let a=l(2);return Se(a.default_optionRealTime,o)||(a.default_optionRealTime=o),C(o)}),y("ngModelChange",function(o){g(e);let a=l(2);return C(a.onOptionChangeRealTime(o))}),j(6,Xy,1,2,"nz-option",19,Ne),s()()()}if(t&2){let e=l(2);c(5),ze("ngModel",e.default_optionRealTime),c(),L(e.optionsRealTime)}}function tx(t,i){if(t&1&&h(0,"nz-option",19),t&2){let e=i.$implicit;m("nzValue",e)("nzLabel",e)}}function nx(t,i){if(t&1){let e=M();r(0,"div",14)(1,"div",20)(2,"span",16),p(3,"Periodo:"),s()(),r(4,"div",23)(5,"nz-select",18),ye("ngModelChange",function(o){g(e);let a=l(2);return Se(a.default_optionRealTime,o)||(a.default_optionRealTime=o),C(o)}),y("ngModelChange",function(o){g(e);let a=l(2);return C(a.onOptionChangeRealTime(o))}),j(6,tx,1,2,"nz-option",19,Ne),s()()()}if(t&2){let e=l(2);c(5),ze("ngModel",e.default_optionRealTime),c(),L(e.optionsRealTime)}}function ix(t,i){if(t&1&&u(0,ex,8,1,"div")(1,nx,8,1,"div",14),t&2){let e=l();z(e.screenInfoService.isMobile?0:1)}}var Cr=class t{_datesService=_(jt);screenInfoService=_(be);v1_measurementsHourlyAvarages=[];v1_measurements=[];v1_measurementsForecasted=[];measurementsSummary=null;measurementsForcastSummary=null;default_optionRealTime="";default_optionHistorycRange="";default_optionHistorycHour="";onOptionSelectedRealTime=new F;onOptionSelectedHistorycRange=new F;onOptionSelectedHistorycHour=new F;chart;onRealTimeMeasurementInserted(){this.chart&&this.chart.onChartDataItemInseted()}missingStatisticsValue="---";optionsRealTime=kn;optionsHistory=In;optionsHour=Pn;statistics_display_items=[new Te(8,12,"Viento Actual",null,this.missingStatisticsValue,void 0,"km/h",void 0),new Te(8,12,"Max. Prevista (prox. 24hs)",null,this.missingStatisticsValue,void 0,"km/h",void 0),new Te(8,12,"Min. Prevista (prox. 24hs)",null,this.missingStatisticsValue,void 0,"km/h",void 0,void 0),new Te(8,12,"Fecha actual",void 0,this.missingStatisticsValue,void 0,void 0,void 0,"16px"),new Te(8,12,"Max. detectada (hoy)",null,this.missingStatisticsValue,void 0,"km/h",void 0,void 0),new Te(8,12,"Min. detectada (hoy)",null,this.missingStatisticsValue,void 0,"km/h",void 0,void 0)];constructor(){this.setStatisticsDisplayInitialValues()}ngOnChanges(i){if(i.measurementsSummary){let e=i.measurementsSummary.currentValue,n=i.measurementsSummary.previousValue;e!==n&&(this.statistics_display_items[0].valueNueric=e?e.windspeed_current:void 0,this.statistics_display_items[3].valueText=this._datesService.getCurrentDateInSpanishFormat(),this.statistics_display_items[4].valueNueric=e?e.windspeed_max:void 0,this.statistics_display_items[5].valueNueric=e?e.windspeed_min:void 0)}if(i.measurementsForcastSummary){let e=i.measurementsForcastSummary.currentValue,n=i.measurementsForcastSummary.previousValue;e!==n&&(this.statistics_display_items[1].valueNueric=e?e.windspeed_max:void 0,this.statistics_display_items[2].valueNueric=e?e.windspeed_min:void 0)}}setStatisticsDisplayInitialValues(){this.statistics_display_items[0].valueNueric=this.measurementsSummary?this.measurementsSummary.windspeed_current:void 0,this.statistics_display_items[1].valueNueric=this.measurementsForcastSummary?this.measurementsForcastSummary.windspeed_max:void 0,this.statistics_display_items[2].valueNueric=this.measurementsForcastSummary?this.measurementsForcastSummary.windspeed_min:void 0,this.statistics_display_items[3].valueText=this._datesService.getCurrentDateInSpanishFormat(),this.statistics_display_items[4].valueNueric=this.measurementsSummary?this.measurementsSummary.windspeed_max:void 0,this.statistics_display_items[5].valueNueric=this.measurementsSummary?this.measurementsSummary.windspeed_min:void 0}onOptionChangeRealTime(i){this.onOptionSelectedRealTime.emit(i)}onOptionChangeHistorycByHourRange(i){this.onOptionSelectedHistorycRange.emit(i)}onOptionChangeHistorycByHourHour(i){this.onOptionSelectedHistorycHour.emit(i)}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=D({type:t,selectors:[["app-wind-dashboard"]],viewQuery:function(e,n){if(e&1&&G(Vy,5),e&2){let o;R(o=Y())&&(n.chart=o.first)}},inputs:{v1_measurementsHourlyAvarages:"v1_measurementsHourlyAvarages",v1_measurements:"v1_measurements",v1_measurementsForecasted:"v1_measurementsForecasted",measurementsSummary:"measurementsSummary",measurementsForcastSummary:"measurementsForcastSummary",default_optionRealTime:"default_optionRealTime",default_optionHistorycRange:"default_optionHistorycRange",default_optionHistorycHour:"default_optionHistorycHour"},outputs:{onOptionSelectedRealTime:"onOptionSelectedRealTime",onOptionSelectedHistorycRange:"onOptionSelectedHistorycRange",onOptionSelectedHistorycHour:"onOptionSelectedHistorycHour"},features:[Q],decls:9,vars:4,consts:[["historycByHourSelect",""],["realTimeVariationSelect",""],["realtimechart",""],["hourlyAvaragesChart",""],[3,"gridCellTitles","gridCellSpans"],[3,"infoToDisplay",4,"appDashboardCardContentDirective"],["nzStatus","warning","nzTitle","Pr\xF3ximamente",4,"appDashboardCardContentDirective"],["style","width: 100%; height: fit-content;  display: inline-block; ",4,"appDashboardCardContentDirective"],[3,"infoToDisplay"],["nzStatus","warning","nzTitle","Pr\xF3ximamente"],[2,"width","100%","height","fit-content","display","inline-block"],["name","realtimechart","chartIncludedPropertiesStr","displayGraphic,atmospheric_pressure","chartYAxisTitle","km/h","chartYAxisMinVal","0",3,"chartData"],[3,"ngTemplateOutlet"],["name","hourlyAvaragesChart","chartIncludedPropertiesStr","displayGraphic,atmospheric_pressure","chartYAxisTitle","km/h","chartYAxisMinVal","0",3,"chartData"],["nz-flex","","nzJustify","space-evenly","nzAlign","center",2,"background-color","lightgray"],[2,"margin","0"],[2,"font-size","18px"],[2,"width","100%"],["nzSize","large","nzAllowClear","",2,"width","100%",3,"ngModelChange","ngModel"],[3,"nzValue","nzLabel"],["nz-flex","","nzAlign","center",2,"width","25%","margin","0","display","flex","justify-content","center"],["nz-flex","","nzJustify","space-evenly","nzAlign","center",2,"width","75%"],[2,"width","50%"],[2,"width","75%"]],template:function(e,n){e&1&&(r(0,"app-dashboard-layout",4),u(1,Ly,1,1,"app-responsive-statistics-display",5)(2,By,1,0,"nz-result",6)(3,Uy,5,2,"div",7)(4,$y,5,2,"div",7),s(),u(5,Jy,2,1,"ng-template",null,0,V)(7,ix,2,1,"ng-template",null,1,V)),e&2&&m("gridCellTitles",xe(2,Hy))("gridCellSpans",xe(3,jy))},dependencies:[Ue,Oe,Be,ie,ot,zt,at,ct,ft,nn,$t,$e,Ge,Dn,an,Mn,rn],encapsulation:2})};var ox=["realtimechart"],ax=()=>["Resumen","Pronostico (proximas 24 horas)","Variaci\xF3n en Tiempo Real","Promedios Hist\xF3ricos seg\xFAn Hora"],rx=()=>[12,12,24,24,24,24];function sx(t,i){if(t&1&&h(0,"app-responsive-statistics-display",8),t&2){let e=l();m("infoToDisplay",e.statistics_display_items)}}function lx(t,i){t&1&&h(0,"nz-result",9)}function cx(t,i){if(t&1&&(r(0,"div",10),h(1,"app-responsive-line-chart",11,2)(3,"br")(4,"ng-conteiner",12),s()),t&2){let e=l(),n=E(8);c(),m("chartData",e.v1_measurements),c(3),m("ngTemplateOutlet",n)}}function dx(t,i){if(t&1&&(r(0,"div",10),h(1,"app-responsive-line-chart",13,3)(3,"br")(4,"ng-conteiner",12),s()),t&2){let e=l(),n=E(6);c(),m("chartData",e.v1_measurementsHourlyAvarages),c(3),m("ngTemplateOutlet",n)}}function mx(t,i){if(t&1&&h(0,"nz-option",19),t&2){let e=i.$implicit;m("nzValue",e)("nzLabel",e)}}function px(t,i){if(t&1&&h(0,"nz-option",19),t&2){let e=i.$implicit;m("nzValue",e)("nzLabel",e)}}function ux(t,i){if(t&1){let e=M();r(0,"div")(1,"div",15)(2,"span",16),p(3,"Periodo:"),s()(),r(4,"div",17)(5,"nz-select",18),ye("ngModelChange",function(o){g(e);let a=l(2);return Se(a.default_optionHistorycRange,o)||(a.default_optionHistorycRange=o),C(o)}),y("ngModelChange",function(o){g(e);let a=l(2);return C(a.onOptionChangeHistorycByHourRange(o))}),j(6,mx,1,2,"nz-option",19,Ne),s()(),h(8,"br"),r(9,"div",17)(10,"nz-select",18),ye("ngModelChange",function(o){g(e);let a=l(2);return Se(a.default_optionHistorycHour,o)||(a.default_optionHistorycHour=o),C(o)}),y("ngModelChange",function(o){g(e);let a=l(2);return C(a.onOptionChangeHistorycByHourHour(o))}),j(11,px,1,2,"nz-option",19,Ne),s()()()}if(t&2){let e=l(2);c(5),ze("ngModel",e.default_optionHistorycRange),c(),L(e.optionsHistory),c(4),ze("ngModel",e.default_optionHistorycHour),c(),L(e.optionsHour)}}function hx(t,i){if(t&1&&h(0,"nz-option",19),t&2){let e=i.$implicit;m("nzValue",e)("nzLabel",e)}}function fx(t,i){if(t&1&&h(0,"nz-option",19),t&2){let e=i.$implicit;m("nzValue",e)("nzLabel",e)}}function _x(t,i){if(t&1){let e=M();r(0,"div",14)(1,"div",20)(2,"span",16),p(3,"Periodo:"),s()(),r(4,"div",21)(5,"div",22)(6,"nz-select",18),ye("ngModelChange",function(o){g(e);let a=l(2);return Se(a.default_optionHistorycRange,o)||(a.default_optionHistorycRange=o),C(o)}),y("ngModelChange",function(o){g(e);let a=l(2);return C(a.onOptionChangeHistorycByHourRange(o))}),j(7,hx,1,2,"nz-option",19,Ne),s()(),r(9,"div",22)(10,"nz-select",18),ye("ngModelChange",function(o){g(e);let a=l(2);return Se(a.default_optionHistorycHour,o)||(a.default_optionHistorycHour=o),C(o)}),y("ngModelChange",function(o){g(e);let a=l(2);return C(a.onOptionChangeHistorycByHourHour(o))}),j(11,fx,1,2,"nz-option",19,Ne),s()()()()}if(t&2){let e=l(2);c(6),ze("ngModel",e.default_optionHistorycRange),c(),L(e.optionsHistory),c(3),ze("ngModel",e.default_optionHistorycHour),c(),L(e.optionsHour)}}function gx(t,i){if(t&1&&u(0,ux,13,2,"div")(1,_x,13,2,"div",14),t&2){let e=l();z(e.screenInfoService.isMobile?0:1)}}function Cx(t,i){if(t&1&&h(0,"nz-option",19),t&2){let e=i.$implicit;m("nzValue",e)("nzLabel",e)}}function vx(t,i){if(t&1){let e=M();r(0,"div")(1,"div",15)(2,"span",16),p(3,"Periodo:"),s()(),r(4,"div")(5,"nz-select",18),ye("ngModelChange",function(o){g(e);let a=l(2);return Se(a.default_optionRealTime,o)||(a.default_optionRealTime=o),C(o)}),y("ngModelChange",function(o){g(e);let a=l(2);return C(a.onOptionChangeRealTime(o))}),j(6,Cx,1,2,"nz-option",19,Ne),s()()()}if(t&2){let e=l(2);c(5),ze("ngModel",e.default_optionRealTime),c(),L(e.optionsRealTime)}}function zx(t,i){if(t&1&&h(0,"nz-option",19),t&2){let e=i.$implicit;m("nzValue",e)("nzLabel",e)}}function Sx(t,i){if(t&1){let e=M();r(0,"div",14)(1,"div",20)(2,"span",16),p(3,"Periodo:"),s()(),r(4,"div",23)(5,"nz-select",18),ye("ngModelChange",function(o){g(e);let a=l(2);return Se(a.default_optionRealTime,o)||(a.default_optionRealTime=o),C(o)}),y("ngModelChange",function(o){g(e);let a=l(2);return C(a.onOptionChangeRealTime(o))}),j(6,zx,1,2,"nz-option",19,Ne),s()()()}if(t&2){let e=l(2);c(5),ze("ngModel",e.default_optionRealTime),c(),L(e.optionsRealTime)}}function yx(t,i){if(t&1&&u(0,vx,8,1,"div")(1,Sx,8,1,"div",14),t&2){let e=l();z(e.screenInfoService.isMobile?0:1)}}var vr=class t{_datesService=_(jt);screenInfoService=_(be);v1_measurementsHourlyAvarages=[];v1_measurements=[];v1_measurementsForecasted=[];measurementsSummary=null;measurementsForcastSummary=null;default_optionRealTime="";default_optionHistorycRange="";default_optionHistorycHour="";onOptionSelectedRealTime=new F;onOptionSelectedHistorycRange=new F;onOptionSelectedHistorycHour=new F;chart;onRealTimeMeasurementInserted(){this.chart&&this.chart.onChartDataItemInseted()}missingStatisticsValue="---";optionsRealTime=kn;optionsHistory=In;optionsHour=Pn;statistics_display_items=[new Te(8,12,"Precipitaci\xF3n Actual",null,this.missingStatisticsValue,void 0,"mm",void 0),new Te(8,12,"Max. Prevista (prox. 24hs)",null,this.missingStatisticsValue,void 0,"mm",void 0),new Te(8,12,"Min. Prevista (prox. 24hs)",null,this.missingStatisticsValue,void 0,"mm",void 0,void 0),new Te(8,12,"Fecha actual",void 0,this.missingStatisticsValue,void 0,void 0,void 0,"16px"),new Te(8,12,"Max. detectada (hoy)",null,this.missingStatisticsValue,void 0,"mm",void 0,void 0),new Te(8,12,"Min. detectada (hoy)",null,this.missingStatisticsValue,void 0,"mm",void 0,void 0)];constructor(){this.setStatisticsDisplayInitialValues()}ngOnChanges(i){if(i.measurementsSummary){let e=i.measurementsSummary.currentValue,n=i.measurementsSummary.previousValue;e!==n&&(this.statistics_display_items[0].valueNueric=e?e.rain_current:void 0,this.statistics_display_items[3].valueText=this._datesService.getCurrentDateInSpanishFormat(),this.statistics_display_items[4].valueNueric=e?e.rain_max:void 0,this.statistics_display_items[5].valueNueric=e?e.rain_min:void 0)}if(i.measurementsForcastSummary){let e=i.measurementsForcastSummary.currentValue,n=i.measurementsForcastSummary.previousValue;e!==n&&(this.statistics_display_items[1].valueNueric=e?e.rain_max:void 0,this.statistics_display_items[2].valueNueric=e?e.rain_min:void 0)}}setStatisticsDisplayInitialValues(){this.statistics_display_items[0].valueNueric=this.measurementsSummary?this.measurementsSummary.rain_current:void 0,this.statistics_display_items[1].valueNueric=this.measurementsForcastSummary?this.measurementsForcastSummary.rain_max:void 0,this.statistics_display_items[2].valueNueric=this.measurementsForcastSummary?this.measurementsForcastSummary.rain_min:void 0,this.statistics_display_items[3].valueText=this._datesService.getCurrentDateInSpanishFormat(),this.statistics_display_items[4].valueNueric=this.measurementsSummary?this.measurementsSummary.rain_max:void 0,this.statistics_display_items[5].valueNueric=this.measurementsSummary?this.measurementsSummary.rain_min:void 0}onOptionChangeRealTime(i){this.onOptionSelectedRealTime.emit(i)}onOptionChangeHistorycByHourRange(i){this.onOptionSelectedHistorycRange.emit(i)}onOptionChangeHistorycByHourHour(i){this.onOptionSelectedHistorycHour.emit(i)}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=D({type:t,selectors:[["app-rain-dashboard"]],viewQuery:function(e,n){if(e&1&&G(ox,5),e&2){let o;R(o=Y())&&(n.chart=o.first)}},inputs:{v1_measurementsHourlyAvarages:"v1_measurementsHourlyAvarages",v1_measurements:"v1_measurements",v1_measurementsForecasted:"v1_measurementsForecasted",measurementsSummary:"measurementsSummary",measurementsForcastSummary:"measurementsForcastSummary",default_optionRealTime:"default_optionRealTime",default_optionHistorycRange:"default_optionHistorycRange",default_optionHistorycHour:"default_optionHistorycHour"},outputs:{onOptionSelectedRealTime:"onOptionSelectedRealTime",onOptionSelectedHistorycRange:"onOptionSelectedHistorycRange",onOptionSelectedHistorycHour:"onOptionSelectedHistorycHour"},features:[Q],decls:9,vars:4,consts:[["historycByHourSelect",""],["realTimeVariationSelect",""],["realtimechart",""],["hourlyAvaragesChart",""],[3,"gridCellTitles","gridCellSpans"],[3,"infoToDisplay",4,"appDashboardCardContentDirective"],["nzStatus","warning","nzTitle","Pr\xF3ximamente",4,"appDashboardCardContentDirective"],["style","width: 100%; height: fit-content;  display: inline-block; ",4,"appDashboardCardContentDirective"],[3,"infoToDisplay"],["nzStatus","warning","nzTitle","Pr\xF3ximamente"],[2,"width","100%","height","fit-content","display","inline-block"],["name","realtimechart","chartIncludedPropertiesStr","displayGraphic,atmospheric_pressure","chartYAxisTitle","mm","chartYAxisMinVal","0",3,"chartData"],[3,"ngTemplateOutlet"],["name","hourlyAvaragesChart","chartIncludedPropertiesStr","displayGraphic,atmospheric_pressure","chartYAxisTitle","mm","chartYAxisMinVal","0",3,"chartData"],["nz-flex","","nzJustify","space-evenly","nzAlign","center",2,"background-color","lightgray"],[2,"margin","0"],[2,"font-size","18px"],[2,"width","100%"],["nzSize","large","nzAllowClear","",2,"width","100%",3,"ngModelChange","ngModel"],[3,"nzValue","nzLabel"],["nz-flex","","nzAlign","center",2,"width","25%","margin","0","display","flex","justify-content","center"],["nz-flex","","nzJustify","space-evenly","nzAlign","center",2,"width","75%"],[2,"width","50%"],[2,"width","75%"]],template:function(e,n){e&1&&(r(0,"app-dashboard-layout",4),u(1,sx,1,1,"app-responsive-statistics-display",5)(2,lx,1,0,"nz-result",6)(3,cx,5,2,"div",7)(4,dx,5,2,"div",7),s(),u(5,gx,2,1,"ng-template",null,0,V)(7,yx,2,1,"ng-template",null,1,V)),e&2&&m("gridCellTitles",xe(2,ax))("gridCellSpans",xe(3,rx))},dependencies:[Ue,Oe,Be,ie,ot,zt,at,ct,ft,nn,$t,$e,Ge,Dn,an,Mn,rn],encapsulation:2})};var xx=["rainDashboard"],bx=["windDashboard"],Tx=["generalDashboard"],wx=["temperatureDashboard"],Dx=["humidityDashboard"],Mx=["pressureDashboard"],Xs=t=>[t];function kx(t,i){if(t&1&&(r(0,"a",10),p(1),s()),t&2){let e=l();m("routerLink",Ie(2,Xs,e.getStationRoute(e.station.id))),c(),W(" ",e.station.name," ")}}function Px(t,i){t&1&&p(0," ??? ")}function Ix(t,i){if(t&1&&p(0),t&2){let e=l();W(" ",e.station.name," ")}}function Ox(t,i){t&1&&p(0," ??? ")}function Nx(t,i){if(t&1){let e=M();h(0,"br"),r(1,"nz-select",19),ye("ngModelChange",function(o){g(e);let a=l(2);return Se(a.segmentedSelectedValue,o)||(a.segmentedSelectedValue=o),C(o)}),s()}if(t&2){let e=l(2);c(),m("nzOptions",e.segmentedOptionsForSelect()),ze("ngModel",e.segmentedSelectedValue)}}function Fx(t,i){if(t&1){let e=M();r(0,"nz-segmented",20),ye("ngModelChange",function(o){g(e);let a=l(2);return Se(a.segmentedSelectedValue,o)||(a.segmentedSelectedValue=o),C(o)}),s()}if(t&2){let e=l(2);m("nzOptions",e.segmentedOptionsArray()),ze("ngModel",e.segmentedSelectedValue)}}function Ex(t,i){if(t&1&&u(0,Nx,2,2)(1,Fx,1,2,"nz-segmented",18),t&2){let e=l();z(e.screenInfoService.isMobile?0:1)}}function Ax(t,i){if(t&1&&lt(0,21),t&2){l(2);let e=E(24);m("ngTemplateOutlet",e)}}function Rx(t,i){if(t&1){let e=M();r(0,"app-temperature-dashboard",27,1),y("onOptionSelectedRealTime",function(o){g(e);let a=l(2);return C(a.onOptionSelectionChangeRealTime(o))})("onOptionSelectedHistorycRange",function(o){g(e);let a=l(2);return C(a.onOptionSelectionChangeHistoric(o))})("onOptionSelectedHistorycHour",function(o){g(e);let a=l(2);return C(a.onOptionSelectionChangeHourly(o))}),s()}if(t&2){let e=l(2);m("v1_measurementsHourlyAvarages",e.v1_measurementsHourlyAvarages)("v1_measurements",e.v1_measurementsReadlTime)("v1_measurementsForecasted",e.v1_measurementsForecasted)("measurementsSummary",e.measurementsSummary)("measurementsForcastSummary",e.measurementsForecastSummary)("default_optionRealTime",e.default_optionsRealTime)("default_optionHistorycRange",e.default_optionsHistoricRange)("default_optionHistorycHour",e.default_optionsHistoricHour)}}function Yx(t,i){if(t&1){let e=M();r(0,"app-humidity-dashboard",28,2),y("onOptionSelectedRealTime",function(o){g(e);let a=l(2);return C(a.onOptionSelectionChangeRealTime(o))})("onOptionSelectedHistorycRange",function(o){g(e);let a=l(2);return C(a.onOptionSelectionChangeHistoric(o))})("onOptionSelectedHistorycHour",function(o){g(e);let a=l(2);return C(a.onOptionSelectionChangeHourly(o))}),s()}if(t&2){let e=l(2);m("v1_measurementsHourlyAvarages",e.v1_measurementsHourlyAvarages)("v1_measurements",e.v1_measurementsReadlTime)("v1_measurementsForecasted",e.v1_measurementsForecasted)("measurementsSummary",e.measurementsSummary)("measurementsForcastSummary",e.measurementsForecastSummary)("default_optionRealTime",e.default_optionsRealTime)("default_optionHistorycRange",e.default_optionsHistoricRange)("default_optionHistorycHour",e.default_optionsHistoricHour)}}function Vx(t,i){if(t&1){let e=M();r(0,"app-pressure-dashboard",29,3),y("onOptionSelectedRealTime",function(o){g(e);let a=l(2);return C(a.onOptionSelectionChangeRealTime(o))})("onOptionSelectedHistorycRange",function(o){g(e);let a=l(2);return C(a.onOptionSelectionChangeHistoric(o))})("onOptionSelectedHistorycHour",function(o){g(e);let a=l(2);return C(a.onOptionSelectionChangeHourly(o))}),s()}if(t&2){let e=l(2);m("v1_measurementsHourlyAvarages",e.v1_measurementsHourlyAvarages)("v1_measurements",e.v1_measurementsReadlTime)("v1_measurementsForecasted",e.v1_measurementsForecasted)("measurementsSummary",e.measurementsSummary)("measurementsForcastSummary",e.measurementsForecastSummary)("default_optionRealTime",e.default_optionsRealTime)("default_optionHistorycRange",e.default_optionsHistoricRange)("default_optionHistorycHour",e.default_optionsHistoricHour)}}function Hx(t,i){if(t&1){let e=M();r(0,"app-rain-dashboard",30,4),y("onOptionSelectedRealTime",function(o){g(e);let a=l(2);return C(a.onOptionSelectionChangeRealTime(o))})("onOptionSelectedHistorycRange",function(o){g(e);let a=l(2);return C(a.onOptionSelectionChangeHistoric(o))})("onOptionSelectedHistorycHour",function(o){g(e);let a=l(2);return C(a.onOptionSelectionChangeHourly(o))}),s()}if(t&2){let e=l(2);m("v1_measurementsHourlyAvarages",e.v1_measurementsHourlyAvarages)("v1_measurements",e.v1_measurementsReadlTime)("v1_measurementsForecasted",e.v1_measurementsForecasted)("measurementsSummary",e.measurementsSummary)("measurementsForcastSummary",e.measurementsForecastSummary)("default_optionRealTime",e.default_optionsRealTime)("default_optionHistorycRange",e.default_optionsHistoricRange)("default_optionHistorycHour",e.default_optionsHistoricHour)}}function jx(t,i){if(t&1){let e=M();r(0,"app-wind-dashboard",31,5),y("onOptionSelectedRealTime",function(o){g(e);let a=l(2);return C(a.onOptionSelectionChangeRealTime(o))})("onOptionSelectedHistorycRange",function(o){g(e);let a=l(2);return C(a.onOptionSelectionChangeHistoric(o))})("onOptionSelectedHistorycHour",function(o){g(e);let a=l(2);return C(a.onOptionSelectionChangeHourly(o))}),s()}if(t&2){let e=l(2);m("v1_measurementsHourlyAvarages",e.v1_measurementsHourlyAvarages)("v1_measurements",e.v1_measurementsReadlTime)("v1_measurementsForecasted",e.v1_measurementsForecasted)("measurementsSummary",e.measurementsSummary)("measurementsForcastSummary",e.measurementsForecastSummary)("default_optionRealTime",e.default_optionsRealTime)("default_optionHistorycRange",e.default_optionsHistoricRange)("default_optionHistorycHour",e.default_optionsHistoricHour)}}function Lx(t,i){if(t&1&&lt(0,21),t&2){l(2);let e=E(24);m("ngTemplateOutlet",e)}}function Bx(t,i){if(t&1&&u(0,Ax,1,1,"ng-container",21)(1,Rx,2,8,"app-temperature-dashboard",22)(2,Yx,2,8,"app-humidity-dashboard",23)(3,Vx,2,8,"app-pressure-dashboard",24)(4,Hx,2,8,"app-rain-dashboard",25)(5,jx,2,8,"app-wind-dashboard",26)(6,Lx,1,1,"ng-container",21),t&2){let e=l();z(e.segmentedSelectedValue===e.segmentedOptions.general?0:e.segmentedSelectedValue===e.segmentedOptions.temperatura?1:e.segmentedSelectedValue===e.segmentedOptions.humedad?2:e.segmentedSelectedValue===e.segmentedOptions.precion?3:e.segmentedSelectedValue===e.segmentedOptions.precipitaciones?4:e.segmentedSelectedValue===e.segmentedOptions.viento?5:6)}}function Ux(t,i){t&1&&(r(0,"div",17),h(1,"nz-result",32),s())}function $x(t,i){if(t&1&&h(0,"app-general-dashboard",33,6),t&2){let e=l();m("v1_measurementsHourlyAvarages",e.v1_measurementsHourlyAvarages)("v1_measurements",e.v1_measurementsReadlTime)("v1_measurementsForecasted",e.v1_measurementsForecasted)("measurementsSummary",e.measurementsSummary)("measurementsForcastSummary",e.measurementsForecastSummary)("weatherStationCoordinate_x",e.stationCordinates.cordinate_x)("weatherStationCoordinate_y",e.stationCordinates.cordinate_y)}}var zr=class t{_datesService=_(jt);_activatedRoute=_(jn);_stationsService=_(We);_routesAccessService=_(Qe);_v1IsClientAliveServiceService=_(dr);_libelulaService=_(mr);_measurementsService=_(Oo);_v1MeasurementsService=_(ji);stationCodesService=_(hn);screenInfoService=_(be);dashboard_rain;dashboard_wind;dashboard_general;dashboard_temperature;dashboard_humidity;dashboard_pressure;baseMeasurementsRoute=this._routesAccessService.MEASUREMENTS_ROUTES_PATHS.base_measurements;baseStationsRoute=this._routesAccessService.STATIONS_ROUTES_PATHS.base_stations;previousStationId=null;stationId=null;station=void 0;stationCode=null;stationCordinates={cordinate_x:null,cordinate_y:null};v1_measurementsHourlyAvarages=[];v1_measurementsReadlTime=[];v1_measurementsForecasted=[];measurementsSummary=null;measurementsForecastSummary=null;currentHour=0;constructor(){this.stationId=this._activatedRoute.snapshot.paramMap.get(this._routesAccessService.MEASUREMENTS_PARAMS.station_id);let i=this._stationsService.stations_linked(),e=this._stationsService.shared_stations_linked();this.station=i.concat(e).find(n=>n.id===this.stationId),this.station&&(this.stationCode=this.station.v2_stationcode,this.stationCordinates.cordinate_x=this.station.coordinate_x,this.stationCordinates.cordinate_y=this.station.coordinate_y,this.loadMeasurements_v1()),kt(()=>{if(this.stationId=this._activatedRoute.snapshot.paramMap.get(this._routesAccessService.MEASUREMENTS_PARAMS.station_id),this.stationId!==this.previousStationId||!this.station){this.previousStationId=this.stationId;let n=this._stationsService.stations_linked(),o=this._stationsService.shared_stations_linked();this.station=n.concat(o).find(a=>a.id===this.stationId),this.station&&(this.stationCode=this.station.v2_stationcode,this.stationCordinates.cordinate_x=this.station.coordinate_x,this.stationCordinates.cordinate_y=this.station.coordinate_y,this._v1MeasurementsService.setCurrentImei(this.stationCode.imei_code),this.loadMeasurements_v1())}})}loadMeasurements_v1(){if(!this.stationCode)return;this._v1MeasurementsService.setCurrentImei(this.stationCode.imei_code);let i=this.stationCode.imei_code;this.currentHour=new Date().getHours(),this._v1MeasurementsService.loadMeasurementsMinutesAgo(i,60*24),this._v1MeasurementsService.loadHourlyAvaragesFromDays(i,30,this.currentHour),this._v1MeasurementsService.loadMeasurementsToday(i),this._measurementsService.loadMeasurements(this.stationCode?.imei_code,1),this._libelulaService.loadForecast(this._measurementsService.measurements_last24Hours()),this._v1MeasurementsService.measurementsSummary_observable.subscribe(e=>oe(this,null,function*(){this.measurementsSummary=e})),this._v1MeasurementsService.hourlyAvaragesFromDays_observable.subscribe(e=>oe(this,null,function*(){this.v1_measurementsHourlyAvarages=this.setDisplayGraphics_dayMonthYear(e)})),this._v1MeasurementsService.measurements_observable.subscribe(e=>oe(this,null,function*(){this.v1_measurementsReadlTime=this.setDisplayGraphics_hourMinutes(e),this.updateDashboardOnRealTimeMeasurementInserted()})),this._libelulaService.forecastSummary_observable.subscribe(e=>oe(this,null,function*(){this.measurementsForecastSummary=e})),this._libelulaService.forecast_observable.subscribe(e=>oe(this,null,function*(){this.v1_measurementsForecasted=this.setDisplayGraphics_dayMonthHourMinutes(e)})),this._v1IsClientAliveServiceService.SetIsBrowserAlive(i),setInterval(()=>{this._v1IsClientAliveServiceService.SetIsBrowserAlive(i)},10*59*1e3)}updateDashboardOnRealTimeMeasurementInserted(){this.dashboard_general,this.dashboard_temperature&&this.dashboard_temperature.onRealTimeMeasurementInserted(),this.dashboard_humidity&&this.dashboard_humidity.onRealTimeMeasurementInserted(),this.dashboard_pressure&&this.dashboard_pressure.onRealTimeMeasurementInserted(),this.dashboard_rain,this.dashboard_wind}setDisplayGraphics_hourMinutes(i){return i.forEach(e=>{if(!e.displayGraphic){let n=this._datesService.getTimeStringFromTimestamp_hoursMinutes(new Date(e.timestamp));e.displayGraphic=n}}),i}setDisplayGraphics_dayMonthHourMinutes(i){return i.forEach(e=>{if(!e.displayGraphic){let n=this._datesService.getTimeStringFromTimestamp_dayMonthHourMinutes(new Date(e.timestamp));e.displayGraphic=n}}),i}setDisplayGraphics_dayMonthYear(i){return i.forEach(e=>{if(!e.displayGraphic){let n=this._datesService.getTimeStringHistoryFromTimestamp_dayMonthYear(new Date(e.timestamp));e.displayGraphic=n}}),i}optionsRealTime=kn;optionsHistory=In;optionsHour=Pn;default_optionsRealTime=this.optionsRealTime[6];default_optionsHistoricRange=this.optionsHistory[0];default_optionsHistoricHour=this.optionsHour[new Date().getHours()];onOptionSelectionChangeRealTime(i){return oe(this,null,function*(){let e=this.stationCode.imei_code;switch(i){case this.optionsRealTime[0]:this._v1MeasurementsService.loadMeasurementsMinutesAgo(e,1),this.default_optionsRealTime=this.optionsRealTime[0];break;case this.optionsRealTime[1]:this._v1MeasurementsService.loadMeasurementsMinutesAgo(e,5),this.default_optionsRealTime=this.optionsRealTime[1];break;case this.optionsRealTime[2]:this._v1MeasurementsService.loadMeasurementsMinutesAgo(e,10),this.default_optionsRealTime=this.optionsRealTime[2];break;case this.optionsRealTime[3]:this._v1MeasurementsService.loadMeasurementsMinutesAgo(e,30),this.default_optionsRealTime=this.optionsRealTime[3];break;case this.optionsRealTime[4]:this._v1MeasurementsService.loadMeasurementsMinutesAgo(e,60),this.default_optionsRealTime=this.optionsRealTime[4];break;case this.optionsRealTime[5]:this._v1MeasurementsService.loadMeasurementsMinutesAgo(e,this._datesService.obtenerMinutosDesdeInicioDelDia()),this.default_optionsRealTime=this.optionsRealTime[5];break;case this.optionsRealTime[6]:this._v1MeasurementsService.loadMeasurementsMinutesAgo(e,24*60),this.default_optionsRealTime=this.optionsRealTime[6];break;default:break}})}daysAgo=30;onOptionSelectionChangeHistoric(i){return oe(this,null,function*(){let e=this.stationCode.imei_code;switch(i){case this.optionsHistory[0]:this.daysAgo=30,this.default_optionsHistoricRange=this.optionsHistory[0],this._v1MeasurementsService.loadHourlyAvaragesFromDays(e,this.daysAgo,this.currentHour);break;case this.optionsHistory[1]:this.daysAgo=365,this.default_optionsHistoricRange=this.optionsHistory[1],this._v1MeasurementsService.loadHourlyAvaragesFromDays(e,this.daysAgo,this.currentHour);break;case this.optionsHistory[2]:this.daysAgo=99999,this.default_optionsHistoricRange=this.optionsHistory[2],this._v1MeasurementsService.loadHourlyAvaragesFromDays(e,this.daysAgo,this.currentHour);break;default:break}})}onOptionSelectionChangeHourly(i){return oe(this,null,function*(){let e=this.stationCode.imei_code,n=parseInt(i.split(" ")[2].split(":")[0],10);this.currentHour=n,n>=0&&n<=23&&(this._v1MeasurementsService.loadHourlyAvaragesFromDays(e,this.daysAgo,n),this.default_optionsHistoricHour=this.optionsHour[n])})}segmentedOptions={general:"General",temperatura:"Temperatura",humedad:"Humedad",precion:"Presi\xF3n",precipitaciones:"Precipitaciones",viento:"Viento"};segmentedOptionsArray=de(()=>Object.values(this.segmentedOptions));segmentedOptionsForSelect=de(()=>this.segmentedOptionsArray().map(i=>({label:i,value:i})));segmentedSelectedValue=this.segmentedOptions.general;getStationRoute(i){return this._routesAccessService.insertParamsInRoute(this._routesAccessService.STATIONS_ROUTES_PATHS.station_info,[i])}getRouteMeasurementsGeneral(i){return this._routesAccessService.insertParamsInRoute(this._routesAccessService.MEASUREMENTS_ROUTES_PATHS.station_measurements_general,[i])}getRouteMeasurementsTemperature(i){return this._routesAccessService.insertParamsInRoute(this._routesAccessService.MEASUREMENTS_ROUTES_PATHS.station_measurements_temperature,[i])}getRouteMeasurementsHumidity(i){return this._routesAccessService.insertParamsInRoute(this._routesAccessService.MEASUREMENTS_ROUTES_PATHS.station_measurements_humidity,[i])}getRouteMeasurementsPressure(i){return this._routesAccessService.insertParamsInRoute(this._routesAccessService.MEASUREMENTS_ROUTES_PATHS.station_measurements_pressure,[i])}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=D({type:t,selectors:[["app-my-measurements"]],viewQuery:function(e,n){if(e&1&&(G(xx,5),G(bx,5),G(Tx,5),G(wx,5),G(Dx,5),G(Mx,5)),e&2){let o;R(o=Y())&&(n.dashboard_rain=o.first),R(o=Y())&&(n.dashboard_wind=o.first),R(o=Y())&&(n.dashboard_general=o.first),R(o=Y())&&(n.dashboard_temperature=o.first),R(o=Y())&&(n.dashboard_humidity=o.first),R(o=Y())&&(n.dashboard_pressure=o.first)}},features:[Le([ji])],decls:25,vars:11,consts:[["generalDashboardTemplate",""],["temperatureDashboard",""],["humidityDashboard",""],["pressureDashboard",""],["rainDashboard",""],["windDashboard",""],["generalDashboard",""],["headerTitleText","Lecturas",3,"useDefaultHeader"],[1,"content-wrapper"],[2,"padding-bottom","12px"],[3,"routerLink"],[1,"content-header-wrapper"],["nz-flex","","nzJustify","space-between","nzAlign","center",1,"content-header"],[1,"content-header-element"],[1,"content-header-tittle"],[1,"content-header-element","float-right"],[1,"content-body-wrapper"],[1,"inner-content"],[3,"nzOptions","ngModel"],[2,"min-width","200px",3,"ngModelChange","nzOptions","ngModel"],[3,"ngModelChange","nzOptions","ngModel"],[3,"ngTemplateOutlet"],["name","temperatureDashboard",3,"v1_measurementsHourlyAvarages","v1_measurements","v1_measurementsForecasted","measurementsSummary","measurementsForcastSummary","default_optionRealTime","default_optionHistorycRange","default_optionHistorycHour"],["name","humidityDashboard",3,"v1_measurementsHourlyAvarages","v1_measurements","v1_measurementsForecasted","measurementsSummary","measurementsForcastSummary","default_optionRealTime","default_optionHistorycRange","default_optionHistorycHour"],["name","pressureDashboard",3,"v1_measurementsHourlyAvarages","v1_measurements","v1_measurementsForecasted","measurementsSummary","measurementsForcastSummary","default_optionRealTime","default_optionHistorycRange","default_optionHistorycHour"],["name","rainDashboard",3,"v1_measurementsHourlyAvarages","v1_measurements","v1_measurementsForecasted","measurementsSummary","measurementsForcastSummary","default_optionRealTime","default_optionHistorycRange","default_optionHistorycHour"],["name","windDashboard",3,"v1_measurementsHourlyAvarages","v1_measurements","v1_measurementsForecasted","measurementsSummary","measurementsForcastSummary","default_optionRealTime","default_optionHistorycRange","default_optionHistorycHour"],["name","temperatureDashboard",3,"onOptionSelectedRealTime","onOptionSelectedHistorycRange","onOptionSelectedHistorycHour","v1_measurementsHourlyAvarages","v1_measurements","v1_measurementsForecasted","measurementsSummary","measurementsForcastSummary","default_optionRealTime","default_optionHistorycRange","default_optionHistorycHour"],["name","humidityDashboard",3,"onOptionSelectedRealTime","onOptionSelectedHistorycRange","onOptionSelectedHistorycHour","v1_measurementsHourlyAvarages","v1_measurements","v1_measurementsForecasted","measurementsSummary","measurementsForcastSummary","default_optionRealTime","default_optionHistorycRange","default_optionHistorycHour"],["name","pressureDashboard",3,"onOptionSelectedRealTime","onOptionSelectedHistorycRange","onOptionSelectedHistorycHour","v1_measurementsHourlyAvarages","v1_measurements","v1_measurementsForecasted","measurementsSummary","measurementsForcastSummary","default_optionRealTime","default_optionHistorycRange","default_optionHistorycHour"],["name","rainDashboard",3,"onOptionSelectedRealTime","onOptionSelectedHistorycRange","onOptionSelectedHistorycHour","v1_measurementsHourlyAvarages","v1_measurements","v1_measurementsForecasted","measurementsSummary","measurementsForcastSummary","default_optionRealTime","default_optionHistorycRange","default_optionHistorycHour"],["name","windDashboard",3,"onOptionSelectedRealTime","onOptionSelectedHistorycRange","onOptionSelectedHistorycHour","v1_measurementsHourlyAvarages","v1_measurements","v1_measurementsForecasted","measurementsSummary","measurementsForcastSummary","default_optionRealTime","default_optionHistorycRange","default_optionHistorycHour"],["nzStatus","warning","nzTitle","No se ha podido encontrar la estaci\xF3n."],["name","generalDashboard",3,"v1_measurementsHourlyAvarages","v1_measurements","v1_measurementsForecasted","measurementsSummary","measurementsForcastSummary","weatherStationCoordinate_x","weatherStationCoordinate_y"]],template:function(e,n){e&1&&(r(0,"app-content-frame",7)(1,"div",8)(2,"nz-breadcrumb",9)(3,"nz-breadcrumb-item")(4,"a",10),p(5," Estaciones "),s()(),r(6,"nz-breadcrumb-item")(7,"a",10),p(8," Lecturas "),s()(),r(9,"nz-breadcrumb-item"),u(10,kx,2,4,"a",10)(11,Px,1,0),s()(),r(12,"div",11)(13,"div",12)(14,"div",13)(15,"span",14),u(16,Ix,1,1)(17,Ox,1,0),s()(),r(18,"div",15),u(19,Ex,2,1),s()()(),r(20,"div",16),u(21,Bx,7,1)(22,Ux,2,0,"div",17),s()()(),u(23,$x,2,7,"ng-template",null,0,V)),e&2&&(m("useDefaultHeader",!0),c(4),m("routerLink",Ie(7,Xs,n.baseStationsRoute)),c(3),m("routerLink",Ie(9,Xs,n.baseMeasurementsRoute)),c(3),z(n.station?10:11),c(6),z(n.station?16:17),c(3),z(n.station?19:-1),c(2),z(n.station?21:22))},dependencies:[Be,ie,ot,Oe,zt,Pt,Vi,Ci,di,lr,dm,Ks,at,ct,De,ft,$t,fo,wo,Vt,$e,Ge,ai,Yi,Aa,Dt,hr,fr,_r,gr,Cr,vr],styles:[".content-wrapper[_ngcontent-%COMP%]{color:#a9a9a9;padding:24px;width:100%;height:100%}.content-header-wrapper[_ngcontent-%COMP%]{background-color:#fff;width:100%;min-height:84px;padding-top:12px;margin-bottom:12px}.content-body-wrapper[_ngcontent-%COMP%]{width:100%;min-height:84px;margin-bottom:12px}.inner-content[_ngcontent-%COMP%]{background:#fff;padding:24px;min-height:280px}.content-header[_ngcontent-%COMP%]{width:100%;height:100%;padding:16px 24px}.content-header-tittle[_ngcontent-%COMP%]{margin-right:12px;margin-bottom:0;color:#000000d9;font-weight:600;font-size:20px;line-height:32px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.float-right[_ngcontent-%COMP%]{float:right}.align-contents-right[_ngcontent-%COMP%]{text-align:right}@media (max-width: 710px){.content-header[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.content-header-element[_ngcontent-%COMP%]{margin:4px;width:100%}.radio-button-label[_ngcontent-%COMP%]{width:95px}.align-contents-right[_ngcontent-%COMP%]{text-align:lef}.content-wrapper[_ngcontent-%COMP%]{padding:12px}}.category-chart[_ngcontent-%COMP%]{min-width:400px;min-height:300px;flex-grow:1}.placeholder-full-width[_ngcontent-%COMP%]{margin-top:12px;width:100%;min-height:20px;background-color:#7fffd4}.placeholder-full-width2[_ngcontent-%COMP%]{display:flex;margin-top:12px;width:100%;min-height:200px;background-color:#0ff}.placeholder-dashboard-card[_ngcontent-%COMP%]{min-height:20px;background-color:red}@media (max-width: 710px){.category-chart[_ngcontent-%COMP%]{min-width:40px;min-height:30px;max-width:40px;max-height:30px}}"]})};var Cm=t=>[t],Wx=t=>({stations:t,owerIsCurrentUser:!0}),qx=t=>({stations:t,owerIsCurrentUser:!1}),Gx=(t,i)=>i.id;function Qx(t,i){t&1&&(r(0,"th"),p(1," Nombre "),s())}function Kx(t,i){t&1&&(r(0,"th"),p(1," Enlaze "),s())}function Zx(t,i){if(t&1&&(r(0,"th"),p(1," Nombre "),s(),r(2,"th"),p(3," Estado "),s(),u(4,Kx,2,0,"th"),h(5,"th")),t&2){let e=l().owerIsCurrentUser;c(4),z(e?4:-1)}}function Jx(t,i){if(t&1&&(r(0,"div",18)(1,"p",19)(2,"strong"),p(3,"Enlaze:"),s()(),r(4,"p",19),p(5),s()(),h(6,"br")),t&2){let e=l(2).$implicit;c(5),W(" ",e.v2_stationcode.name," ")}}function Xx(t,i){if(t&1){let e=M();r(0,"nz-collapse",16)(1,"nz-collapse-panel",17)(2,"div",18)(3,"p",19)(4,"strong"),p(5,"Estado:"),s()(),r(6,"p",19),p(7),s()(),h(8,"br"),u(9,Jx,7,1),r(10,"div",18)(11,"p",19)(12,"strong"),p(13,"Lecturas:"),s()(),r(14,"button",20),y("click",function(){g(e);let o=l().$implicit,a=l(2);return C(a.onStationSelect(o))}),p(15," Ver Lecturas "),s()()()()}if(t&2){let e=l().$implicit,n=l().owerIsCurrentUser;c(),m("nzHeader",e.name)("nzActive",!1)("nzDisabled",!1),c(6),W(" ",e.state," "),c(2),z(n?9:-1)}}function eb(t,i){if(t&1&&(r(0,"td"),p(1),s()),t&2){let e=l(2).$implicit;c(),W(" ",e.v2_stationcode.name," ")}}function tb(t,i){if(t&1){let e=M();r(0,"td"),p(1),s(),r(2,"td"),p(3),s(),u(4,eb,2,1,"td"),r(5,"td",21)(6,"button",20),y("click",function(){g(e);let o=l().$implicit,a=l(2);return C(a.onStationSelect(o))}),p(7," Ver Lecturas "),s()()}if(t&2){let e=l().$implicit,n=l().owerIsCurrentUser;c(),K(e.name),c(2),K(e.state),c(),z(n?4:-1)}}function nb(t,i){if(t&1&&(r(0,"tr"),u(1,Xx,16,5,"nz-collapse",16)(2,tb,8,3),s()),t&2){let e=l(2);c(),z(e.screenInfoService.isMobile?1:2)}}function ib(t,i){if(t&1&&(r(0,"nz-table",15,1)(2,"thead")(3,"tr"),u(4,Qx,2,0,"th")(5,Zx,6,1),s()(),r(6,"tbody"),j(7,nb,3,1,"tr",null,Gx),s()()),t&2){let e=i.stations,n=E(1),o=l();m("nzData",e),c(4),z(o.screenInfoService.isMobile?4:5),c(3),L(n.data)}}var Sr=class t{_router=_(bt);_stationsService=_(We);_routesAccessService=_(Qe);screenInfoService=_(be);linkedStations=this._stationsService.stations_linked;sharedLinkedStations=this._stationsService.shared_stations_linked;baseMeasurementsRoute=this._routesAccessService.MEASUREMENTS_ROUTES_PATHS.base_measurements;baseStationsRoute=this._routesAccessService.STATIONS_ROUTES_PATHS.base_stations;constructor(){}onStationSelect(i){let e=this._routesAccessService.insertParamsInRoute(this._routesAccessService.MEASUREMENTS_ROUTES_PATHS.station_measurements,[i.id]);this._router.navigateByUrl(e)}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=D({type:t,selectors:[["app-pick-station"]],decls:23,vars:15,consts:[["choose_station_table",""],["basicTable",""],["headerTitleText","Lecturas",3,"useDefaultHeader"],[1,"content-wrapper"],[2,"padding-bottom","12px"],[3,"routerLink"],[1,"content-header-wrapper"],["nz-flex","","nzJustify","space-between","nzAlign","center",1,"content-header"],[1,"content-header-element"],[1,"content-header-tittle"],[1,"content-body-wrapper"],[1,"inner-content"],["nzTitle","Mis estaciones"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["nzTitle","Me comparten"],["nzTableLayout","fixed",2,"width","100%",3,"nzData"],["nzGhost",""],[3,"nzHeader","nzActive","nzDisabled"],["nz-flex","","nzJustify","space-between","nzAlign","center",1,"station-details-wrappers"],[2,"margin","0"],["nz-button","","nzType","primary","nzSize","default",3,"click"],["nzAlign","center"]],template:function(e,n){if(e&1&&(r(0,"app-content-frame",2)(1,"div",3)(2,"nz-breadcrumb",4)(3,"nz-breadcrumb-item")(4,"a",5),p(5," Estaciones "),s()(),r(6,"nz-breadcrumb-item")(7,"a",5),p(8," Lecturas "),s()()(),r(9,"div",6)(10,"div",7)(11,"div",8)(12,"span",9),p(13," Elegir Estaci\xF3n "),s()()()(),r(14,"div",10)(15,"div",11)(16,"nz-tabset")(17,"nz-tab",12),lt(18,13),s(),r(19,"nz-tab",14),lt(20,13),s()()()()()(),u(21,ib,9,2,"ng-template",null,0,V)),e&2){let o=E(22);m("useDefaultHeader",!0),c(4),m("routerLink",Ie(7,Cm,n.baseStationsRoute)),c(3),m("routerLink",Ie(9,Cm,n.baseMeasurementsRoute)),c(11),m("ngTemplateOutlet",o)("ngTemplateOutletContext",Ie(11,Wx,n.linkedStations())),c(2),m("ngTemplateOutlet",o)("ngTemplateOutletContext",Ie(13,qx,n.sharedLinkedStations()))}},dependencies:[Be,ie,ot,Pt,Vi,Ci,di,lr,xn,zn,vn,De,Pe,Me,ke,fo,wo,Vt,qt,Xt,Wt,en,Yt,Gt,un,$e,Ge,ai,Yi,ao,oo,Dt],styles:[".content-wrapper[_ngcontent-%COMP%]{color:#a9a9a9;padding:24px;width:100%;height:100%}.content-header-wrapper[_ngcontent-%COMP%]{background-color:#fff;width:100%;min-height:84px;padding-top:12px;margin-bottom:12px}.content-body-wrapper[_ngcontent-%COMP%]{width:100%;min-height:84px;margin-bottom:12px}.inner-content[_ngcontent-%COMP%]{background:#fff;padding:24px;min-height:280px}.content-header[_ngcontent-%COMP%]{width:100%;height:100%;padding:16px 24px}.content-header-tittle[_ngcontent-%COMP%]{margin-right:12px;margin-bottom:0;color:#000000d9;font-weight:600;font-size:20px;line-height:32px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.float-right[_ngcontent-%COMP%]{float:right}.align-contents-right[_ngcontent-%COMP%]{text-align:right}@media (max-width: 710px){.content-header[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.content-header-element[_ngcontent-%COMP%]{margin:4px;width:100%}.radio-button-label[_ngcontent-%COMP%]{width:95px}.align-contents-right[_ngcontent-%COMP%]{text-align:lef}.content-wrapper[_ngcontent-%COMP%]{padding:12px}}.category-chart[_ngcontent-%COMP%]{min-width:400px;min-height:300px;flex-grow:1}.placeholder-full-width[_ngcontent-%COMP%]{margin-top:12px;width:100%;min-height:20px;background-color:#7fffd4}.placeholder-full-width2[_ngcontent-%COMP%]{display:flex;margin-top:12px;width:100%;min-height:200px;background-color:#0ff}.placeholder-dashboard-card[_ngcontent-%COMP%]{min-height:20px;background-color:red}@media (max-width: 710px){.category-chart[_ngcontent-%COMP%]{min-width:40px;min-height:30px;max-width:40px;max-height:30px}}"]})};var Bi={station_id:"station-id"},ZV=[{path:`:${Bi.station_id}`,component:zr},{path:"",component:Sr}],vm={base_measurements:"/measurements",station_measurements:`/measurements/:${Bi.station_id}`,station_measurements_general:`/measurements/:${Bi.station_id}/general`,station_measurements_humidity:`/measurements/:${Bi.station_id}/humidity`,station_measurements_pressure:`/measurements/:${Bi.station_id}/pressure`,station_measurements_temperature:`/measurements/:${Bi.station_id}/temperature`};var Ui=class t{_supabaseClient=_(yn).supabaseClient;_authService=_(tt);_currentUserRequestsState=yt({recieved_requests:[],recieved_requests_loading:!1,recieved_requests_error:!1,sent_requests:[],sent_requests_loading:!1,sent_requests_error:!1});recieved_requests=de(()=>this._currentUserRequestsState().recieved_requests);recieved_requests_loading=de(()=>this._currentUserRequestsState().recieved_requests_loading);recieved_requests_error=de(()=>this._currentUserRequestsState().recieved_requests_error);sent_requests=de(()=>this._currentUserRequestsState().sent_requests);sent_requests_loading=de(()=>this._currentUserRequestsState().sent_requests_loading);sent_requests_error=de(()=>this._currentUserRequestsState().sent_requests_error);constructor(){}updateState_recieved_requests(i){this._currentUserRequestsState.update(e=>Fe(ee({},e),{recieved_requests:i}))}updateState_recieved_requests_loading(i){this._currentUserRequestsState.update(e=>Fe(ee({},e),{recieved_requests_loading:i}))}updateState_recieved_requests_error(i){this._currentUserRequestsState.update(e=>Fe(ee({},e),{recieved_requests_error:i}))}updateState_sent_requests(i){this._currentUserRequestsState.update(e=>Fe(ee({},e),{sent_requests:i}))}updateState_sent_requests_loading(i){this._currentUserRequestsState.update(e=>Fe(ee({},e),{sent_requests_loading:i}))}updateState_sent_requests_error(i){this._currentUserRequestsState.update(e=>Fe(ee({},e),{sent_requests_error:i}))}loadAllCurrentUserSentRequests(){return oe(this,null,function*(){try{this.updateState_sent_requests_loading(!0);let i=this._authService.currentUserProfile();if(i){let{data:e}=yield this._supabaseClient.from("v2_contactrequests").select("*, target_user_profile:v2_profiles!target_user_profile_id(*), requester_user_profile:v2_profiles!requester_user_profile_id(*)").eq("requester_user_profile_id",i?.id).is("accepted",null).returns();e?(this.updateState_sent_requests(e),this.updateState_sent_requests_error(!1)):this.updateState_sent_requests_error(!0)}else this.updateState_sent_requests_error(!0)}catch{this.updateState_sent_requests_error(!0)}finally{this.updateState_sent_requests_loading(!1)}})}loadAllCurrentUserRecievedRequests(){return oe(this,null,function*(){try{this.updateState_recieved_requests_loading(!0);let i=this._authService.currentUserProfile();if(i){let{data:e}=yield this._supabaseClient.from("v2_contactrequests").select("*, target_user_profile:v2_profiles!target_user_profile_id(*), requester_user_profile:v2_profiles!requester_user_profile_id(*)").eq("target_user_profile_id",i?.id).is("accepted",null).returns();e?(this.updateState_recieved_requests(e),this.updateState_sent_requests_error(!1)):this.updateState_recieved_requests_error(!0)}else this.updateState_recieved_requests_error(!0)}catch{this.updateState_recieved_requests_error(!0)}finally{this.updateState_recieved_requests_loading(!1)}})}getProfilesByUsername(i){try{return st(this._supabaseClient.from("v2_profiles").select().ilike("username",`%${i}%`).returns()).pipe(ae(({data:e})=>e||[]))}catch{return we([])}}insertRequest(i){try{let e=this._authService.currentUserProfile();return e?st(this._supabaseClient.from("v2_contactrequests").insert({requester_user_profile_id:e?.id,target_user_profile_id:i}).select().returns()).pipe(ae(({data:n,error:o})=>!o)):we(!1)}catch{return we(!1)}}updateRecievedRequest(i,e){try{let n=this._authService.currentUserProfile();return n?st(this._supabaseClient.from("v2_contactrequests").update({accepted:e}).eq("target_user_profile_id",n.id).eq("requester_user_profile_id",i)).pipe(ae(({error:o})=>(o||this.loadAllCurrentUserRecievedRequests(),!o))):we(!1)}catch{return we(!1)}}updateSentRequest(i,e){try{let n=this._authService.currentUserProfile();return n?st(this._supabaseClient.from("v2_contactrequests").update({accepted:e}).eq("target_user_profile_id",i).eq("requester_user_profile_id",n.id)).pipe(ae(({error:o})=>(o||this.loadAllCurrentUserRecievedRequests(),!o))):we(!1)}catch{return we(!1)}}static \u0275fac=function(e){return new(e||t)};static \u0275prov=Ye({token:t,factory:t.\u0275fac,providedIn:"root"})};var ob=t=>({profiles:t,isSentRequests:!0,isReceivedRequests:!1}),ab=t=>({profiles:t,isSentRequests:!1,isReceivedRequests:!0}),rb=t=>({profiles:t,isSentRequests:!1,isReceivedRequests:!1}),zm=t=>[t],sb=(t,i)=>i.id;function lb(t,i){t&1&&h(0,"nz-result",10)}function cb(t,i){t&1&&u(0,lb,1,0,"nz-result",14)}function db(t,i){t&1&&h(0,"nz-result",11)}function mb(t,i){t&1&&u(0,db,1,0,"nz-result",15)}function pb(t,i){if(t&1&&lt(0,12),t&2){let e=l(2),n=E(6);m("ngTemplateOutlet",n)("ngTemplateOutletContext",Ie(2,rb,e.contactsService.contacts_profiles()))}}function ub(t,i){if(t&1&&(r(0,"div",7)(1,"div",8)(2,"nz-tabset")(3,"nz-tab",9),u(4,cb,1,0,"nz-result",10)(5,mb,1,0,"nz-result",11)(6,pb,1,4,"ng-container",12),s(),r(7,"nz-tab",13),lt(8,12),s(),r(9,"nz-tab",13),lt(10,12),s()()()()),t&2){let e=l(),n=E(6);c(4),z(e.contactsService.contacts_error()?4:e.contactsService.contacts_loading()?5:6),c(3),m("nzTitle",e.screenInfoService.isMobile?"S. Envidas":"Solicitudes Enviadas"),c(),m("ngTemplateOutlet",n)("ngTemplateOutletContext",Ie(7,ob,e.sentRequestsProfiles)),c(),m("nzTitle",e.screenInfoService.isMobile?"S. Recibidas":"Solicitudes Recibidas"),c(),m("ngTemplateOutlet",n)("ngTemplateOutletContext",Ie(9,ab,e.recievedRequestsProfiles))}}function hb(t,i){if(t&1&&(r(0,"div",16)(1,"button",17),h(2,"nz-icon",18),p(3," Agregar Contactos "),s()()),t&2){let e=l();c(),m("routerLink",e.routesAccessService.CONTACTS_ROUTES_PATHS.search_users)}}function fb(t,i){t&1&&(r(0,"th"),p(1," Contactos "),s())}function _b(t,i){t&1&&(r(0,"th"),p(1," Email "),s(),r(2,"th",23),p(3," Ver perfil "),s())}function gb(t,i){if(t&1&&(h(0,"th",21),r(1,"th"),p(2," Usuario "),s(),u(3,_b,4,0),r(4,"th",22),p(5," Acciones "),s()),t&2){let e=l(),n=e.isSentRequests,o=e.isReceivedRequests,a=l();c(3),z(!n&&!o?3:-1),c(),m("nzWidth",o&&!a.screenInfoService.isMobile?"162px":"92px")}}function Cb(t,i){if(t&1){let e=M();r(0,"td",27),h(1,"img",28),s(),h(2,"br"),r(3,"div",26)(4,"p",29)(5,"strong"),p(6,"Email:"),s()(),r(7,"p",29),p(8),s()(),h(9,"br"),r(10,"p",30)(11,"strong"),p(12,"Acciones:"),s()(),r(13,"div",26)(14,"a",31),p(15," Ver Perfil "),s(),h(16,"nz-divider",32),r(17,"a",33),y("click",function(){g(e);let o=l(2).$implicit,a=l(2);return C(a.toggleRemoveContact(o.user_id))}),p(18," Eliminar "),s()()}if(t&2){let e=l(2).$implicit,n=l(2);c(8),W(" ",e.email," "),c(6),m("routerLink",n.routesAccessService.insertParamsInRoute(n.routesAccessService.CONTACTS_ROUTES_PATHS.contact_profile,Ie(2,zm,e.id)))}}function vb(t,i){if(t&1){let e=M();r(0,"div",26)(1,"td",27),h(2,"img",28),s(),r(3,"button",34),y("click",function(){g(e);let o=l(2).$implicit,a=l(2);return C(a.onRemoveSentRequest(o))}),p(4," Descartar "),s()()}}function zb(t,i){if(t&1){let e=M();r(0,"td",27),h(1,"img",28),s(),h(2,"br"),r(3,"p",30)(4,"strong"),p(5,"Acciones:"),s()(),r(6,"div",26)(7,"button",34),y("click",function(){g(e);let o=l(2).$implicit,a=l(2);return C(a.onAcceptReceivedRequest(o))}),p(8," Aceptar "),s(),h(9,"nz-divider",32),r(10,"button",34),y("click",function(){g(e);let o=l(2).$implicit,a=l(2);return C(a.onRejectReceivedRequest(o))}),p(11," Rechazar "),s()()}}function Sb(t,i){if(t&1&&(r(0,"nz-collapse",24)(1,"nz-collapse-panel",25),u(2,Cb,19,4)(3,vb,5,0,"div",26)(4,zb,12,0),s()()),t&2){let e=l().$implicit,n=l(),o=n.isSentRequests,a=n.isReceivedRequests;c(),m("nzHeader",e.username)("nzActive",!1)("nzDisabled",!1),c(),z(!o&&!a?2:o?3:a?4:-1)}}function yb(t,i){if(t&1){let e=M();r(0,"td",35),p(1),s(),r(2,"td",27)(3,"a",31),p(4," Ver Perfil "),s()(),r(5,"td")(6,"a",33),y("click",function(){g(e);let o=l(2).$implicit,a=l(2);return C(a.toggleRemoveContact(o.user_id))}),p(7," Eliminar "),s()()}if(t&2){let e=l(2).$implicit,n=l(2);c(),W(" ",e.email," "),c(2),m("routerLink",n.routesAccessService.insertParamsInRoute(n.routesAccessService.CONTACTS_ROUTES_PATHS.contact_profile,Ie(2,zm,e.id)))}}function xb(t,i){if(t&1){let e=M();r(0,"td")(1,"a",33),y("click",function(){g(e);let o=l(2).$implicit,a=l(2);return C(a.onRemoveSentRequest(o))}),p(2," Descartar "),s()()}}function bb(t,i){t&1&&h(0,"br")(1,"br")}function Tb(t,i){t&1&&h(0,"nz-divider",32)}function wb(t,i){if(t&1){let e=M();r(0,"td")(1,"a",33),y("click",function(){g(e);let o=l(2).$implicit,a=l(2);return C(a.onAcceptReceivedRequest(o))}),p(2," Aceptar "),s(),u(3,bb,2,0)(4,Tb,1,0,"nz-divider",32),r(5,"a",33),y("click",function(){g(e);let o=l(2).$implicit,a=l(2);return C(a.onRejectReceivedRequest(o))}),p(6," Rechazar "),s()()}if(t&2){let e=l(4);c(3),z(e.screenInfoService.isMobile?3:4)}}function Db(t,i){if(t&1&&(r(0,"td",27),h(1,"img",28),s(),r(2,"td",35),p(3),s(),u(4,yb,8,4)(5,xb,3,0,"td")(6,wb,7,1,"td")),t&2){let e=l().$implicit,n=l(),o=n.isSentRequests,a=n.isReceivedRequests;c(3),W(" ",e.username," "),c(),z(!o&&!a?4:o?5:a?6:-1)}}function Mb(t,i){if(t&1&&(r(0,"tr"),u(1,Sb,5,4,"nz-collapse",24)(2,Db,7,2),s()),t&2){let e=l(2);c(),z(e.screenInfoService.isMobile?1:2)}}function kb(t,i){if(t&1&&(r(0,"div",19)(1,"nz-table",20,3)(3,"thead")(4,"tr"),u(5,fb,2,0,"th")(6,gb,6,2),s()(),r(7,"tbody"),j(8,Mb,3,1,"tr",null,sb),s()()()),t&2){let e=i.profiles,n=E(2),o=l();c(),m("nzData",e),c(4),z(o.screenInfoService.isMobile?5:6),c(3),L(n.data)}}function Pb(t,i){t&1&&(te(0),r(1,"p"),p(2,"\xBFEsta seguro que desea quitar al usuario de su lista de contactos?"),s(),r(3,"p"),p(4,"Una ves removido, usted perdera acceso a las estaciones que el le compartio, y el perdera acceso a las estaciones que usted le compartio."),s(),ne())}var yr=class t{_authService=_(tt);_modalService=_(Wn);_stationsService=_(We);_contactRequestsService=_(Ui);contactsService=_(Ht);screenInfoService=_(be);routesAccessService=_(Qe);recievedRequestsProfiles=[];sentRequestsProfiles=[];constructor(){this.setRecievedRequestsProfiles(this._contactRequestsService.recieved_requests()),this.setSentRequestsProfiles(this._contactRequestsService.sent_requests()),kt(()=>{let i=this._contactRequestsService.recieved_requests();this.setRecievedRequestsProfiles(i);let e=this._contactRequestsService.sent_requests();this.setSentRequestsProfiles(e)})}setRecievedRequestsProfiles(i){let e=i.map(n=>n.requester_user_profile);this.recievedRequestsProfiles=e}setSentRequestsProfiles(i){let e=i.map(n=>n.target_user_profile);this.sentRequestsProfiles=e}isConfirmDeleteModalVisible=!1;contactToDeleteUserId="";toggleRemoveContact(i){this.contactToDeleteUserId=i,this.isConfirmDeleteModalVisible=!0}handleConfirmRemoveCode(){let i=this.contactToDeleteUserId;this._stationsService.stopSharingStationsWith(i).subscribe(e=>{e?this._stationsService.stopGettingStationsSharedFrom(i).subscribe(n=>{n?this.contactsService.deleteContact(i).subscribe(o=>{o?this.successRemovingContact():this.errorRemovingContact()}):this.errorRemovingContact()}):this.errorRemovingContact()}),this.contactToDeleteUserId="",this.isConfirmDeleteModalVisible=!1}errorRemovingContact(){this._modalService.error({nzTitle:"No se pudo eliminar el contacto",nzContent:"Hubo un problema, int\xE9ntelo nuevamente m\xE1s tarde."})}successRemovingContact(){this._modalService.success({nzTitle:"Se elimino contacto correctamente",nzContent:"El usuario en cuesti\xF3n ya no aparecer\xE1 en su lista de contactos, ni tendr\xE1 acceso a las estaciones previamente compartidas con \xE9l."})}handleCancelRemoveCode(){this.contactToDeleteUserId="",this.isConfirmDeleteModalVisible=!1}onAcceptReceivedRequest(i){this._contactRequestsService.updateRecievedRequest(i.id,!0).subscribe(e=>{e?this.contactsService.insertContact(i.user_id).subscribe(n=>{n?this.showModal("success","Solicitud Aceptada",`Ahora tu y ${i.username} pueden compartir estaciones!`):this.showModal("warning","No se pudo aceptar la solicitud","Hubo un problema, int\xE9ntelo de nuevo m\xE1s tarde.")}):this.showModal("warning","No se pudo aceptar la solicitud","Hubo un problema, int\xE9ntelo de nuevo m\xE1s tarde.")})}onRejectReceivedRequest(i){this._contactRequestsService.updateRecievedRequest(i.id,!1).subscribe(e=>{e?this.showModal("success","Solicitud Rechazada",`Rechazaste la solicitud de ${i.username}.`):this.showModal("warning","No se pudo rechazar la solicitud","Hubo un problema, int\xE9ntelo de nuevo m\xE1s tarde.")})}onRemoveSentRequest(i){this._contactRequestsService.updateSentRequest(i.id,!1).subscribe(e=>{e?(this.showModal("success","Solicitud descartada.",`La solicitud enviada a "${i.username}" dejo de estar disponible.`),this._contactRequestsService.loadAllCurrentUserSentRequests()):this.showModal("warning","No se pudo deshacer la solicitud","Hubo un problema, int\xE9ntelo de nuevo m\xE1s tarde.")})}showModal(i,e,n){i==="success"?this._modalService.success({nzTitle:e,nzContent:n}):i==="warning"?this._modalService.warning({nzTitle:e,nzContent:n}):i==="error"&&this._modalService.error({nzTitle:e,nzContent:n})}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=D({type:t,selectors:[["app-my-contacts"]],decls:9,vars:5,consts:[["page_content",""],["add_contacts_button",""],["profiles_table",""],["basicTable",""],["headerTitleText","Contactos",3,"useDefaultHeader","headerRightSideElement","content"],["nzOkText","Confirmar","nzCancelText","Cancelar",3,"nzVisibleChange","nzOnOk","nzOnCancel","nzVisible","nzTitle"],[4,"nzModalContent"],[1,"base-div"],[1,"inner-content"],["nzTitle","Contactos"],["nzStatus","warning","nzTitle","No se ha podido acceder a los contactos"],["nzStatus","warning","nzTitle","Cargando..."],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"nzTitle"],["nzStatus","warning","nzTitle","No se ha podido acceder a los contactos",4,"appDashboardCardContentDirective"],["nzStatus","warning","nzTitle","Cargando...",4,"appDashboardCardContentDirective"],[1,"button-container"],["nz-button","","nzType","primary","nzSize","default",3,"routerLink"],["nzType","plus"],[1,"full-nztable-10-items-hight",2,"height","672px","width","100%"],["nzTableLayout","fixed",2,"width","100%",3,"nzData"],["nzWidth","70px"],[3,"nzWidth"],["nzWidth","92px"],["nzGhost",""],[3,"nzHeader","nzActive","nzDisabled"],["nz-flex","","nzJustify","space-between","nzAlign","center",1,"station-details-wrappers"],["nzAlign","center"],["width","35","height","35","src","images/account_profile_circle.png",1,"profile-image"],[2,"margin","0"],[2,"margin","0","padding-bottom","12px"],[3,"routerLink"],["nzType","vertical"],[3,"click"],["nz-button","","nzType","primary",3,"click"],["nzEllipsis",""]],template:function(e,n){if(e&1){let o=M();h(0,"app-content-frame",4),u(1,ub,11,11,"ng-template",null,0,V)(3,hb,4,1,"ng-template",null,1,V)(5,kb,10,2,"ng-template",null,2,V),r(7,"nz-modal",5),ye("nzVisibleChange",function(d){return g(o),Se(n.isConfirmDeleteModalVisible,d)||(n.isConfirmDeleteModalVisible=d),C(d)}),y("nzOnOk",function(){return g(o),C(n.handleConfirmRemoveCode())})("nzOnCancel",function(){return g(o),C(n.handleCancelRemoveCode())}),u(8,Pb,5,0,"ng-container",6),s()}if(e&2){let o=E(2),a=E(4);m("useDefaultHeader",!0)("headerRightSideElement",a)("content",o),c(7),ze("nzVisible",n.isConfirmDeleteModalVisible),m("nzTitle","Confirmar eliminar Contacto")}},dependencies:[Pt,Be,ie,$e,Ge,Yi,ao,oo,J,me,sn,si,ni,Vt,qt,Xt,Wt,en,Yt,Gt,un,qn,at,ct,De,Pe,Me,ke,Hi,vi,xn,zn,vn,Dt],styles:[".inner-content[_ngcontent-%COMP%]{background:#fff;padding:24px;min-height:280px}.base-div[_ngcontent-%COMP%]{color:#a9a9a9;padding:24px;width:100%;height:100%}.image-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:48px;width:48px;max-width:48px}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:inline-block;height:32px;width:32px;vertical-align:middle}.overlay[_ngcontent-%COMP%]{background-color:#00000080;position:fixed;inset:0;z-index:100}.drawer[_ngcontent-%COMP%]{position:fixed;top:0;right:-60vw;width:60vw;height:100%;background-color:#fff;transition:right .3s ease;z-index:100}.drawer.active[_ngcontent-%COMP%]{right:0}.drawer[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:0}@media (max-width: 670px){.drawer[_ngcontent-%COMP%]{position:fixed;top:0;right:-80vw;width:80vw;height:100%}}"]})};var Ib=()=>({overflow:"auto"}),Ob=(t,i)=>i.station.id;function Nb(t,i){t&1&&(r(0,"div",5),h(1,"nz-result",7),s())}function Fb(t,i){t&1&&(r(0,"th"),p(1," Descripci\xF3n "),s(),r(2,"th",10),p(3," Estado "),s())}function Eb(t,i){if(t&1&&(r(0,"td",12),p(1),s(),r(2,"td"),p(3),s()),t&2){let e=l().$implicit;c(),K(e.station.description),c(2),K(e.station.state)}}function Ab(t,i){if(t&1){let e=M();r(0,"tr")(1,"td",11),y("nzCheckedChange",function(o){let a=g(e).$implicit,d=l(3);return C(d.onItemChecked(a.station.id,o))}),s(),r(2,"td",12),p(3),s(),u(4,Eb,4,2),s()}if(t&2){let e=i.$implicit,n=l(3);c(),m("nzChecked",n.setOfCheckedIds.has(e.station.id))("nzDisabled",e.disabled)("nzLabel",e.station.name),c(2),W(" ",e.station.name," "),c(),z(n.screenInfoService.isMobile?-1:4)}}function Rb(t,i){if(t&1){let e=M();r(0,"div",6)(1,"nz-table",8,1),y("nzCurrentPageDataChange",function(o){g(e);let a=l(2);return C(a.onCurrentPageDataChange(o))}),r(3,"thead")(4,"tr")(5,"th",9),y("nzCheckedChange",function(o){g(e);let a=l(2);return C(a.onAllChecked(o))}),s(),r(6,"th"),p(7," Nombre "),s(),u(8,Fb,4,0),s()(),r(9,"tbody"),j(10,Ab,5,5,"tr",null,Ob),s()()()}if(t&2){let e=E(2),n=l(2);c(),m("nzPageSize",8)("nzData",n.stations),c(4),m("nzChecked",n.checkAllChecked)("nzIndeterminate",n.indeterminate),c(3),z(n.screenInfoService.isMobile?-1:8),c(2),L(e.data)}}function Yb(t,i){if(t&1&&(r(0,"div",4),u(1,Nb,2,0,"div",5)(2,Rb,12,5,"div",6),s()),t&2){let e=l();c(),z(e.selectedContactId?2:1)}}function Vb(t,i){if(t&1){let e=M();r(0,"div",13)(1,"button",14),y("click",function(){g(e);let o=l();return C(o.onClose())}),p(2,"Cancelar"),s(),r(3,"button",15),y("click",function(){g(e);let o=l();return C(o.onShare())}),p(4,"Compartir"),s()()}}var xr=class t{_nzMessageService=_(ut);_stationsService=_(We);_contactsService=_(Ht);_activateRoute=_(jn);routesAccessService=_(Qe);screenInfoService=_(be);selectedContact=void 0;inputContactId=null;visible=null;nonInputVisible=!1;onClosed=new F;selectedContactId=null;checkAllChecked=!1;indeterminate=!1;setOfCheckedIds=new Set;stations=[];stationsOfCurrentPage=[];constructor(){this.selectedContactId=this.getSelectedContactId(),this.selectedContact=this._contactsService.contacts_profiles().find(i=>i.id===this.selectedContactId),this.stations=this.getDisablingWrappedStations(this._stationsService.stations()),kt(()=>{let i=this._stationsService.stations();this.stations=this.getDisablingWrappedStations(this._stationsService.stations())})}ngOnInit(){}getSelectedContactId(){return this.inputContactId?this.inputContactId:this._activateRoute.snapshot.paramMap.get(this.routesAccessService.CONTACTS_PARAMS.profile_id)}getDisablingWrappedStations(i){return i.map(e=>({station:e,disabled:e.v2_sharedstations.some(n=>n.target_user_id===this.selectedContact?.user_id)}))}onClose(){this.onClosed.emit(),this.nonInputVisible=!1}onShare(){this._stationsService.shareStationsWithContact(this.selectedContact?.user_id,Array.from(this.setOfCheckedIds)).subscribe(i=>{i&&(this._nzMessageService.create("success",Array.from(this.setOfCheckedIds).length===1?"La estaci\xF3n se comparti\xF3 correctamente.":"Las estaciones se compartieron correctamente."),this.setOfCheckedIds.clear(),this._stationsService.loadAllCurrentUserStations())})}onCurrentPageDataChange(i){this.stationsOfCurrentPage=i,this.refreshCheckedStatus()}onAllChecked(i){this.stationsOfCurrentPage.filter(({disabled:e})=>!e).forEach(({station:e})=>this.updateCheckedSet(e.id,i)),this.refreshCheckedStatus()}onItemChecked(i,e){this.updateCheckedSet(i,e),this.refreshCheckedStatus()}refreshCheckedStatus(){let i=this.stationsOfCurrentPage.filter(({disabled:e})=>!e);this.checkAllChecked=i.every(({station:e})=>this.setOfCheckedIds.has(e.id)),this.indeterminate=i.some(({station:e})=>this.setOfCheckedIds.has(e.id))&&!this.checkAllChecked}updateCheckedSet(i,e){e?this.setOfCheckedIds.add(i):this.setOfCheckedIds.delete(i)}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=D({type:t,selectors:[["app-share-station-with-contact"]],inputs:{selectedContact:"selectedContact",inputContactId:"inputContactId",visible:"visible"},outputs:{onClosed:"onClosed"},decls:4,vars:5,consts:[["footerTpl",""],["rowSelectionTable",""],["nzTitle","Editar Estaci\xF3n",3,"nzOnClose","nzBodyStyle","nzWidth","nzVisible","nzFooter"],["nz-form","",4,"nzDrawerContent"],["nz-form",""],[1,"content-body-wrapper"],[1,"full-nztable-10-items-hight",2,"height","100%","width","100%"],["nzStatus","warning","nzTitle","No se puedo acceder a las estaciones"],["nzShowPagination","","nzSize","middle","nzTableLayout","fixed",3,"nzCurrentPageDataChange","nzPageSize","nzData"],["nzWidth","44px","nzLabel","Select all",3,"nzCheckedChange","nzChecked","nzIndeterminate"],["nzWidth","104px"],[3,"nzCheckedChange","nzChecked","nzDisabled","nzLabel"],["nzEllipsis",""],["nz-flex","","nzJustify","space-between","nzAlign","center",1,"btn-wrappers"],["nz-button","",3,"click"],["nz-button","","nzType","primary",3,"click"]],template:function(e,n){if(e&1){let o=M();r(0,"nz-drawer",2),y("nzOnClose",function(){return g(o),C(n.onClose())}),u(1,Yb,3,1,"div",3)(2,Vb,5,0,"ng-template",null,0,V),s()}if(e&2){let o=E(3);m("nzBodyStyle",xe(4,Ib))("nzWidth",n.screenInfoService.isMobile?"85%":720)("nzVisible",n.visible===null?n.nonInputVisible:n.visible)("nzFooter",o)}},dependencies:[Be,$e,Ge,J,Vt,qt,Xt,Wt,oa,en,Yt,Gt,qn,aa,at,ct,De,Pe,Me,ke,Gn,wn,Hn],styles:[".base-div[_ngcontent-%COMP%]{color:#000;width:100%;height:100%}.ant-advanced-search-form[_ngcontent-%COMP%]{height:100%;padding:12px;background:#fbfbfb}.search-result-list[_ngcontent-%COMP%]{margin-top:16px;border:1px dashed #e9e9e9;border-radius:6px;background-color:#fafafa;min-height:200px;text-align:center;padding-top:80px}[nz-form-label][_ngcontent-%COMP%]{overflow:visible}button[_ngcontent-%COMP%]{margin-left:8px}.collapse[_ngcontent-%COMP%]{margin-left:8px;font-size:12px}.search-area[_ngcontent-%COMP%]{text-align:right}.btn-wrappers[_ngcontent-%COMP%]{width:100%}"]})};var zi=t=>[t],Hb=()=>[24,24,24],jb=()=>["Informaci\xF3n del Usuario:","Estaciones que YO le comparto:","Estaciones que EL me comparte:"],Lb=()=>({xxl:1,xl:1,lg:1,md:1,sm:1,xs:1}),Sm=(t,i)=>i.id;function Bb(t,i){if(t&1&&(r(0,"a",8),p(1),s()),t&2){let e=l();m("routerLink",Ie(4,zi,e.routesAccessService.insertParamsInRoute(e.routesAccessService.CONTACTS_ROUTES_PATHS.contact_profile,Ie(2,zi,e.currentContactProfile.id)))),c(),W(" ",e.currentContactProfile.username," ")}}function Ub(t,i){t&1&&(r(0,"a"),p(1," ???? "),s())}function $b(t,i){t&1&&(r(0,"div",9),h(1,"nz-result",11),s())}function Wb(t,i){if(t&1&&lt(0,16),t&2){l(2);let e=E(12);m("ngTemplateOutlet",e)}}function qb(t,i){if(t&1&&lt(0,16),t&2){l(2);let e=E(14);m("ngTemplateOutlet",e)}}function Gb(t,i){if(t&1&&lt(0,16),t&2){l(2);let e=E(18);m("ngTemplateOutlet",e)}}function Qb(t,i){if(t&1&&(r(0,"div",9)(1,"div",12)(2,"span",13),p(3),s()(),r(4,"app-dashboard-layout",14),u(5,Wb,1,1,"ng-container",15)(6,qb,1,1,"ng-container",15)(7,Gb,1,1,"ng-container",15),s()()),t&2){let e=l();c(3),K(e.currentContactProfile.username),c(),m("gridCellSpans",xe(3,Hb))("gridCellTitles",xe(4,jb))}}function Kb(t,i){if(t&1&&(r(0,"div",17)(1,"div",18),h(2,"img",19),s(),r(3,"nz-descriptions",20)(4,"nz-descriptions-item",21)(5,"div"),p(6),s()(),r(7,"nz-descriptions-item",22)(8,"div"),p(9),s()(),r(10,"nz-descriptions-item",23)(11,"div"),p(12),s()()()()),t&2){let e=l();c(3),m("nzLayout",e.screenInfoService.isMobile?"vertical":"horizontal")("nzColumn",xe(11,Lb)),c(2),ve(e.screenInfoService.isMobile?"text-align: right; width: 100%;":""),c(),W(" ",e.currentContactProfile==null?null:e.currentContactProfile.username," "),c(2),ve(e.screenInfoService.isMobile?"text-align: right; width: 100%;":""),c(),W(" ",e.currentContactProfile==null?null:e.currentContactProfile.fullname," "),c(2),ve(e.screenInfoService.isMobile?"text-align: right; width: 100%;":""),c(),W(" ",e.currentContactProfile==null?null:e.currentContactProfile.email," ")}}function Zb(t,i){t&1&&(r(0,"th"),p(1," Nombre "),s())}function Jb(t,i){t&1&&(r(0,"th",26),p(1," Nombre "),s(),r(2,"th",27),p(3," Estado "),s(),r(4,"th",28),p(5," Descripci\xF3n "),s(),r(6,"th",29),p(7," Acciones "),s())}function Xb(t,i){if(t&1){let e=M();r(0,"nz-collapse",30)(1,"nz-collapse-panel",31)(2,"div",32)(3,"p",33)(4,"strong"),p(5,"Estado:"),s()(),r(6,"p",33),p(7),s()(),h(8,"br"),r(9,"div",32)(10,"p",33)(11,"strong"),p(12,"Descripci\xF3n:"),s()(),r(13,"p",33),p(14),s()(),h(15,"br"),r(16,"p",34)(17,"strong"),p(18,"Estaci\xF3n:"),s()(),r(19,"div",32)(20,"a",8),p(21," Ver "),s(),h(22,"nz-divider",35),r(23,"a",36),y("click",function(){g(e);let o=l().$implicit,a=l(2);return C(a.onClickRemover(o.id))}),p(24," Remover "),s()()()()}if(t&2){let e=l().$implicit,n=l(2);c(),m("nzHeader",e.name)("nzActive",!1)("nzDisabled",!1),c(6),W(" ",e.state," "),c(7),W(" ",e.description?e.description:""," "),c(6),m("routerLink",n.routesAccessService.insertParamsInRoute(n.routesAccessService.STATIONS_ROUTES_PATHS.station_info,Ie(6,zi,e.id)))}}function e1(t,i){if(t&1){let e=M();r(0,"td"),p(1),s(),r(2,"td"),p(3),s(),r(4,"td",28),p(5),s(),r(6,"td",37)(7,"a",8),p(8," Ver "),s(),h(9,"nz-divider",35),r(10,"a",36),y("click",function(){g(e);let o=l().$implicit,a=l(2);return C(a.onClickRemover(o.id))}),p(11," Remover "),s()()}if(t&2){let e=l().$implicit,n=l(2);c(),K(e.name),c(2),K(e.state),c(2),W(" ",e.description?e.description:""," "),c(2),m("routerLink",n.routesAccessService.insertParamsInRoute(n.routesAccessService.STATIONS_ROUTES_PATHS.station_info,Ie(4,zi,e.id)))}}function t1(t,i){if(t&1&&(r(0,"tr"),u(1,Xb,25,8,"nz-collapse",30)(2,e1,12,6),s()),t&2){let e=l(2);c(),z(e.screenInfoService.isMobile?1:2)}}function n1(t,i){if(t&1&&(r(0,"div",17)(1,"div",24)(2,"nz-table",25,4)(4,"thead")(5,"tr"),u(6,Zb,2,0,"th")(7,Jb,8,0),s()(),r(8,"tbody"),j(9,t1,3,1,"tr",null,Sm),s()()()()),t&2){let e=E(3),n=l(),o=E(16);c(2),m("nzData",n.stationsIShareWithContact)("nzFooter",o),c(4),z(n.screenInfoService.isMobile?6:7),c(3),L(e.data)}}function i1(t,i){if(t&1){let e=M();r(0,"button",38),y("click",function(){g(e);let o=l();return C(o.toggleShareWithContact())}),h(1,"nz-icon",39),p(2," Agregar "),s()}}function o1(t,i){t&1&&(r(0,"th"),p(1," Nombre "),s())}function a1(t,i){t&1&&(r(0,"th",26),p(1," Nombre "),s(),r(2,"th",27),p(3," Estado "),s(),r(4,"th"),p(5," Descripci\xF3n "),s(),r(6,"th",41),p(7," Lecturas "),s(),r(8,"th",41),p(9," Estaci\xF3n "),s())}function r1(t,i){if(t&1&&(r(0,"a",8),p(1," Ver Lecturas "),s()),t&2){let e=l(2).$implicit,n=l(2);m("routerLink",n.routesAccessService.insertParamsInRoute(n.routesAccessService.MEASUREMENTS_ROUTES_PATHS.station_measurements,Ie(1,zi,e.id)))}}function s1(t,i){t&1&&p(0," --- ")}function l1(t,i){if(t&1&&(r(0,"nz-collapse",30)(1,"nz-collapse-panel",31)(2,"div",32)(3,"p",33)(4,"strong"),p(5,"Estado:"),s()(),r(6,"p",33),p(7),s()(),h(8,"br"),r(9,"div",32)(10,"p",33)(11,"strong"),p(12,"Descripci\xF3n:"),s()(),r(13,"p",33),p(14),s()(),h(15,"br"),r(16,"p",34)(17,"strong"),p(18,"Acciones:"),s()(),r(19,"div",32),u(20,r1,2,3,"a",8)(21,s1,1,0),h(22,"nz-divider",35),r(23,"a",8),p(24," Ver Estaci\xF3n "),s()()()()),t&2){let e=l().$implicit,n=l(2);c(),m("nzHeader",e.name)("nzActive",!1)("nzDisabled",!1),c(6),W(" ",e.state," "),c(7),W(" ",e.description?e.description:""," "),c(6),z(e.imei_code_id?20:21),c(3),m("routerLink",n.routesAccessService.insertParamsInRoute(n.routesAccessService.STATIONS_ROUTES_PATHS.station_info,Ie(7,zi,e.id)))}}function c1(t,i){if(t&1&&(r(0,"a",8),p(1," Ver "),s()),t&2){let e=l(2).$implicit,n=l(2);m("routerLink",n.routesAccessService.insertParamsInRoute(n.routesAccessService.MEASUREMENTS_ROUTES_PATHS.station_measurements,Ie(1,zi,e.id)))}}function d1(t,i){t&1&&p(0," --- ")}function m1(t,i){if(t&1&&(r(0,"td"),p(1),s(),r(2,"td"),p(3),s(),r(4,"td",28),p(5),s(),r(6,"td",42),u(7,c1,2,3,"a",8)(8,d1,1,0),s(),r(9,"td",42)(10,"a",8),p(11," Ver "),s()()),t&2){let e=l().$implicit,n=l(2);c(),K(e.name),c(2),K(e.state),c(2),W(" ",e.description?e.description:""," "),c(2),z(e.imei_code_id?7:8),c(3),m("routerLink",n.routesAccessService.insertParamsInRoute(n.routesAccessService.STATIONS_ROUTES_PATHS.station_info,Ie(5,zi,e.id)))}}function p1(t,i){if(t&1&&(r(0,"tr"),u(1,l1,25,9,"nz-collapse",30)(2,m1,12,7),s()),t&2){let e=l(2);c(),z(e.screenInfoService.isMobile?1:2)}}function u1(t,i){if(t&1&&(r(0,"div",17)(1,"div",24)(2,"nz-table",40,4)(4,"thead")(5,"tr"),u(6,o1,2,0,"th")(7,a1,10,0),s()(),r(8,"tbody"),j(9,p1,3,1,"tr",null,Sm),s()()()()),t&2){let e=E(3),n=l();c(2),m("nzData",n.stationsContactSharesWithMe),c(4),z(n.screenInfoService.isMobile?6:7),c(3),L(e.data)}}var br=class t{_activatedRoute=_(jn);_contactsService=_(Ht);_stationsService=_(We);_nzMessageService=_(ut);screenInfoService=_(be);routesAccessService=_(Qe);currentContactProfileId=null;currentContactProfile=null;profilesStationIsSharedWith=[];stationsIShareWithContact=[];stationsContactSharesWithMe=[];constructor(){this.currentContactProfileId=this._activatedRoute.snapshot.paramMap.get(this.routesAccessService.CONTACTS_PARAMS.profile_id),this.currentContactProfile=this._contactsService.getContactProfileById(this.currentContactProfileId,this._contactsService.contacts_profiles()),this.stationsIShareWithContact=this._stationsService.stations().filter(i=>i.v2_sharedstations.some(e=>{e.target_user_id,this.currentContactProfile?.user_id})),this.stationsContactSharesWithMe=this._stationsService.shared_stations().filter(i=>i.id_user_owner===this.currentContactProfile?.user_id),kt(()=>{this.currentContactProfile=this._contactsService.getContactProfileById(this.currentContactProfileId,this._contactsService.contacts_profiles()),this.stationsIShareWithContact=this._stationsService.stations().filter(i=>i.v2_sharedstations.some(e=>e.target_user_id===this.currentContactProfile?.user_id)),this.stationsContactSharesWithMe=this._stationsService.shared_stations().filter(i=>i.id_user_owner===this.currentContactProfile?.user_id)})}shortenDescription(i,e,n){return n.length<i?n:n.slice(0,i-e.length)+e}onClickRemover(i){this._nzMessageService.info("Dejando de compartir estaci\xF3n..."),this._stationsService.removeStationShare(i,this.currentContactProfile?.user_id).subscribe(e=>{if(e){let n=this._stationsService.stations().find(a=>a.id===i)?.name||"???",o=this.currentContactProfile?.username;this._nzMessageService.success(`Se dejo de compartir la estaci\xF3n ${n} con ${o}!`),this._stationsService.loadAllCurrentUserStations()}})}isShareWithContactMenu=!1;toggleShareWithContact(){this.isShareWithContactMenu=!this.isShareWithContactMenu}closeShareStations(i){this.isShareWithContactMenu=!1}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=D({type:t,selectors:[["app-contact-profile"]],decls:20,vars:8,consts:[["contactInfo",""],["stations_i_share",""],["share_stations_button",""],["stations_contact_shares",""],["basicTable",""],["headerTitleText","Contactos",3,"useDefaultHeader"],[1,"content-wrapper"],[2,"padding-bottom","12px"],[3,"routerLink"],[1,"content-body-wrapper"],[3,"onClosed","visible","selectedContact"],["nzStatus","warning","nzTitle","La informaci\xF3n del contacto no est\xE1 disponible"],[1,"content-header-element"],[1,"content-header-tittle"],[3,"gridCellSpans","gridCellTitles"],[3,"ngTemplateOutlet",4,"appDashboardCardContentDirective"],[3,"ngTemplateOutlet"],[1,"seccion-content"],[2,"width","100%","text-align","center","margin-bottom","24px"],["width","200","height","200","src","images/account_profile_circle.png",1,"profile-image"],["nzBordered","","nzSize","middle",2,"width","100%",3,"nzLayout","nzColumn"],["nzTitle","Nombre de usuario"],["nzTitle","Nombre completo"],["nzTitle","Email"],[1,"full-nztable-10-items-hight",2,"height","672px"],["nzTableLayout","fixed",3,"nzData","nzFooter"],["nzWidth","180px"],["nzWidth","110px"],["nzEllipsis",""],["nzWidth","200px"],["nzGhost",""],[3,"nzHeader","nzActive","nzDisabled"],["nz-flex","","nzJustify","space-between","nzAlign","center",1,"station-details-wrappers"],[2,"margin","0"],[2,"margin","0","padding-bottom","12px"],["nzType","vertical"],[3,"click"],["nzAlign","center","nz-flex","","nzJustify","space-between","nzAlign","center"],["nz-button","","nzType","primary","size","default",3,"click"],["nzType","plus","nzTheme","outline"],["nzTableLayout","fixed",3,"nzData"],["nzWidth","100px"],["nzAlign","center"]],template:function(e,n){if(e&1){let o=M();r(0,"app-content-frame",5)(1,"div",6)(2,"nz-breadcrumb",7)(3,"nz-breadcrumb-item")(4,"a",8),p(5," Contactos "),s()(),r(6,"nz-breadcrumb-item"),u(7,Bb,2,6,"a",8)(8,Ub,2,0,"a"),s()(),u(9,$b,2,0,"div",9)(10,Qb,8,5,"div",9),s()(),u(11,Kb,13,12,"ng-template",null,0,V)(13,n1,11,3,"ng-template",null,1,V)(15,i1,3,0,"ng-template",null,2,V)(17,u1,11,2,"ng-template",null,3,V),r(19,"app-share-station-with-contact",10),y("onClosed",function(d){return g(o),C(n.closeShareStations(d))}),s()}e&2&&(m("useDefaultHeader",!0),c(4),m("routerLink",Ie(6,zi,n.routesAccessService.CONTACTS_ROUTES_PATHS.my_contacts)),c(3),z(n.currentContactProfile?7:8),c(2),z(n.currentContactProfile?10:9),c(10),m("visible",n.isShareWithContactMenu)("selectedContact",n.currentContactProfile))},dependencies:[Pt,Be,ie,J,me,Vt,qt,Xt,Wt,en,Yt,Gt,un,qn,at,ct,De,Pe,Me,ke,Hi,vi,Vi,Ci,di,Co,go,_o,Dt,$e,Ge,xn,zn,vn,rn,an,xr],styles:[".content-wrapper[_ngcontent-%COMP%]{color:#a9a9a9;padding:24px;width:100%}.content-body-wrapper[_ngcontent-%COMP%]{width:100%;background:#fff;min-height:280px;padding:12px}.content-header-element[_ngcontent-%COMP%]{width:100%}.content-header-tittle[_ngcontent-%COMP%]{margin-right:12px;margin-bottom:0;color:#000000d9;font-weight:600;font-size:20px;line-height:32px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.float-right[_ngcontent-%COMP%]{float:right}.align-contents-right[_ngcontent-%COMP%]{text-align:right}@media (max-width: 710px){.content-header[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.content-header-element[_ngcontent-%COMP%]{width:100%}.radio-button-label[_ngcontent-%COMP%]{width:95px}.align-contents-right[_ngcontent-%COMP%]{text-align:lef}.content-wrapper[_ngcontent-%COMP%]{padding:12px}}.inner-box[_ngcontent-%COMP%]{background-color:#00f;height:100%}.seccion-title[_ngcontent-%COMP%]{min-height:15px;padding-left:12px}.seccion-content[_ngcontent-%COMP%]{width:100%;min-height:100px;display:flex;align-items:right;flex-direction:column}.overlay[_ngcontent-%COMP%]{background-color:#00000080;position:fixed;inset:0;z-index:100}.drawer[_ngcontent-%COMP%]{position:fixed;top:0;right:-60vw;width:60vw;height:100%;background-color:#fff;transition:right .3s ease;z-index:100}.drawer.active[_ngcontent-%COMP%]{right:0}.drawer[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:0}@media (max-width: 670px){.drawer[_ngcontent-%COMP%]{position:fixed;top:0;right:-80vw;width:80vw;height:100%}}"]})};var Tr=class t{_authService=_(tt);_contactsService=_(Ht);_stationsService=_(We);_contactRequestsService=_(Ui);constructor(){}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=D({type:t,selectors:[["app-base-contacts"]],decls:1,vars:0,template:function(e,n){e&1&&h(0,"router-outlet")},dependencies:[Di],encapsulation:2})};var h1=(t,i)=>i.id;function f1(t,i){if(t&1){let e=M();r(0,"button",15),y("click",function(){g(e);let o=l(3);return C(o.onSearch())}),h(1,"nz-icon",16),s()}}function _1(t,i){if(t&1){let e=M();r(0,"button",15),y("click",function(){g(e);let o=l(3);return C(o.onSearch())}),h(1,"nz-icon",16),p(2," Buscar "),s()}}function g1(t,i){if(t&1&&u(0,f1,2,0,"button",14)(1,_1,3,0,"button",14),t&2){let e=l(2);z(e.screenInfoService.isMobile?0:1)}}function C1(t,i){t&1&&h(0,"th",12)}function v1(t,i){t&1&&h(0,"th",13)}function z1(t,i){if(t&1){let e=M();r(0,"button",15),y("click",function(){g(e);let o=l().$implicit,a=l(2);return C(a.sendContactRequest(o.id,o.username))}),h(1,"nz-icon",19),s()}}function S1(t,i){if(t&1){let e=M();r(0,"button",15),y("click",function(){g(e);let o=l().$implicit,a=l(2);return C(a.sendContactRequest(o.id,o.username))}),h(1,"nz-icon",19),p(2," Agregar "),s()}}function y1(t,i){if(t&1&&(r(0,"tr")(1,"td",17),h(2,"img",18),s(),r(3,"td"),p(4),s(),r(5,"td",17),u(6,z1,2,0,"button",14)(7,S1,3,0,"button",14),s()()),t&2){let e=i.$implicit,n=l(2);c(4),W(" ",e.username," "),c(2),z(n.screenInfoService.isMobile?6:7)}}function x1(t,i){if(t&1){let e=M();r(0,"div",5)(1,"div",6)(2,"div")(3,"nz-input-group",7)(4,"input",8),ye("ngModelChange",function(o){g(e);let a=l();return Se(a.searchUserName,o)||(a.searchUserName=o),C(o)}),s()(),u(5,g1,2,1,"ng-template",null,2,V),s(),h(7,"br"),r(8,"div",9)(9,"nz-table",10,3)(11,"thead")(12,"tr"),h(13,"th",11),r(14,"th"),p(15," Nombre de usuario "),s(),u(16,C1,1,0,"th",12)(17,v1,1,0,"th",13),s()(),r(18,"tbody"),j(19,y1,8,2,"tr",null,h1),s()()()()()}if(t&2){let e=E(6),n=E(10),o=l();c(2),ve("width: "+(o.screenInfoService.isMobile?"100%;":"380px;")),c(),m("nzAddOnAfter",e),c(),ze("ngModel",o.searchUserName),c(5),m("nzData",o.searchedUsers),c(7),z(o.screenInfoService.isMobile?16:17),c(3),L(n.data)}}function b1(t,i){if(t&1&&(r(0,"div",20)(1,"button",21),h(2,"nz-icon",22),p(3," Mis contactos "),s()()),t&2){let e=l();c(),m("routerLink",e.routesAccessService.CONTACTS_ROUTES_PATHS.my_contacts)}}var wr=class t{_contactRequestsService=_(Ui);_nzMessageService=_(ut);_contactsService=_(Ht);_authService=_(tt);routesAccessService=_(Qe);screenInfoService=_(be);searchedUsers=[];searchUserName="";idsToFilterOut=[];constructor(){let i=this._authService.currentUserProfile()?.id,e=this._contactsService.contacts_profiles().map(a=>a.id),n=this._contactRequestsService.sent_requests().map(a=>a.target_user_profile_id),o=this._contactRequestsService.recieved_requests().map(a=>a.target_user_profile_id);this.idsToFilterOut=[i||"",...e,...n,...o],kt(()=>{let a=this._authService.currentUserProfile()?.id,d=this._contactsService.contacts_profiles().map(k=>k.id),f=this._contactRequestsService.sent_requests().map(k=>k.target_user_profile_id),x=this._contactRequestsService.recieved_requests().map(k=>k.target_user_profile_id);this.idsToFilterOut=[a||"",...d,...f,...x]})}onSearch(){this._contactRequestsService.getProfilesByUsername(this.searchUserName).subscribe(i=>{this.searchedUsers=this.filterOut(i,this.idsToFilterOut)})}filterOut(i,e){return i.filter(o=>!e.some(a=>a===o.id))}sendContactRequest(i,e){this._contactRequestsService.insertRequest(i).subscribe(n=>{n&&(this._contactRequestsService.loadAllCurrentUserSentRequests().then(()=>this.onSearch()),this._nzMessageService.success(`Se envi\xF3 la solicitud a ${e}!`))})}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=D({type:t,selectors:[["app-search-users"]],decls:5,vars:3,consts:[["page_content",""],["go_back_button",""],["suffixIconButton",""],["basicTable",""],["headerTitleText","Buscar Usuarios",3,"useDefaultHeader","headerRightSideElement","content"],[1,"base-div"],[1,"inner-content"],["nzSearch","",3,"nzAddOnAfter"],["type","text","nz-input","","placeholder","Nombre del usuario",3,"ngModelChange","ngModel"],[1,"full-nztable-10-items-hight",2,"height","672px","width","100%"],["nzTableLayout","fixed",2,"width","100%",3,"nzData"],["nzWidth","55px"],["nzWidth","62px"],["nzWidth","142px"],["nz-button","","nzType","primary","nzSearch",""],["nz-button","","nzType","primary","nzSearch","",3,"click"],["nzType","search"],["nzAlign","center"],["width","35","height","35","src","images/account_profile_circle.png",1,"profile-image"],["nzType","send","nzTheme","outline"],[1,"button-container"],["nz-button","","nzType","primary","nzSize","default",3,"routerLink"],["nzType","arrow-left","nzTheme","outline"]],template:function(e,n){if(e&1&&(h(0,"app-content-frame",4),u(1,x1,21,6,"ng-template",null,0,V)(3,b1,4,1,"ng-template",null,1,V)),e&2){let o=E(2),a=E(4);m("useDefaultHeader",!0)("headerRightSideElement",a)("content",o)}},dependencies:[Pt,ot,vt,Oe,zt,Be,J,me,ht,Tt,ei,Vt,qt,Xt,Wt,en,Yt,Gt,un,De,Pe,Me,ke,at,Dt],styles:[".inner-content[_ngcontent-%COMP%]{background:#fff;padding:24px;min-height:280px}.base-div[_ngcontent-%COMP%]{color:#a9a9a9;padding:24px;width:100%;height:100%}.image-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:48px;width:48px;max-width:48px}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:inline-block;height:32px;width:32px;vertical-align:middle}.overlay[_ngcontent-%COMP%]{background-color:#00000080;position:fixed;inset:0;z-index:100}.drawer[_ngcontent-%COMP%]{position:fixed;top:0;right:-60vw;width:60vw;height:100%;background-color:#fff;transition:right .3s ease;z-index:100}.drawer.active[_ngcontent-%COMP%]{right:0}.drawer[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:0}@media (max-width: 670px){.drawer[_ngcontent-%COMP%]{position:fixed;top:0;right:-80vw;width:80vw;height:100%}.inner-content[_ngcontent-%COMP%], .base-div[_ngcontent-%COMP%]{padding:12px}}"]})};var o4=[{path:"",component:Tr,children:[{path:"",pathMatch:"full",redirectTo:"my-contacts"},{path:"my-contacts",component:yr},{path:"search",component:wr},{path:":profile-id",component:br}]}],ym={base_contacts:"/contacts",my_contacts:"/contacts/my-contacts",search_users:"/contacts/search",contact_profile:"/contacts/:profile-id"},xm={profile_id:"profile-id"};var T1=()=>[24],w1=()=>[" "],D1=()=>({xxl:1,xl:1,lg:1,md:1,sm:1,xs:1});function M1(t,i){t&1&&(r(0,"div",3),h(1,"nz-result",4),s())}function k1(t,i){if(t&1&&lt(0,7),t&2){l(2);let e=E(5);m("ngTemplateOutlet",e)}}function P1(t,i){t&1&&(r(0,"div",3)(1,"app-dashboard-layout",5),u(2,k1,1,1,"ng-container",6),s()()),t&2&&(c(),m("gridCellSpans",xe(2,T1))("gridCellTitles",xe(3,w1)))}function I1(t,i){if(t&1){let e=M();r(0,"div",8)(1,"div",9),h(2,"img",10),s(),h(3,"br"),r(4,"nz-descriptions",11)(5,"nz-descriptions-item",12)(6,"div"),p(7),s()(),r(8,"nz-descriptions-item",13)(9,"div"),p(10),s()(),r(11,"nz-descriptions-item",14)(12,"div"),p(13),s()(),r(14,"nz-descriptions-item",15)(15,"div"),p(16),cn(17,"date"),s()()(),h(18,"br"),r(19,"div",16)(20,"h4"),p(21,"Acciones:"),s(),r(22,"div",17)(23,"div"),p(24," Cerrar sesi\xF3n: "),s(),r(25,"button",18),y("click",function(){g(e);let o=l();return C(o.onLogOut())}),h(26,"nz-icon",19),p(27," Cerrar sesi\xF3n "),s()()()()}if(t&2){let e=l();c(4),m("nzLayout",e.screenInfoService.isMobile?"vertical":"horizontal")("nzColumn",xe(17,D1)),c(2),ve(e.screenInfoService.isMobile?"text-align: right; width: 100%;":"width: 100%;"),c(),W(" ",e.currentUserPrfile==null?null:e.currentUserPrfile.username," "),c(2),ve(e.screenInfoService.isMobile?"text-align: right; width: 100%;":""),c(),W(" ",e.currentUserPrfile==null?null:e.currentUserPrfile.fullname," "),c(2),ve(e.screenInfoService.isMobile?"text-align: right; width: 100%;":""),c(),W(" ",e.currentUserPrfile==null?null:e.currentUserPrfile.email," "),c(2),ve(e.screenInfoService.isMobile?"text-align: right; width: 100%;":""),c(),W(" ",wi(17,14,e.currentUserPrfile==null?null:e.currentUserPrfile.created_at,"medium")," ")}}var Dr=class t{_routesAccessService=_(Qe);_authService=_(tt);_router=_(bt);screenInfoService=_(be);currentUserPrfile=null;currentUserPrfile_signal=this._authService.currentUserProfile;constructor(){this.currentUserPrfile=this.currentUserPrfile_signal(),kt(()=>{this.currentUserPrfile=this.currentUserPrfile_signal()})}onLogOut(){this._authService.logout(),this._router.navigateByUrl(this._routesAccessService.AUTH_ROUTES_PATHS.base_auth)}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=D({type:t,selectors:[["app-user-profile"]],decls:6,vars:2,consts:[["userProfileInfo",""],["headerTitleText","Perfil del Usuario",3,"useDefaultHeader"],[1,"content-wrapper"],[1,"content-body-wrapper"],["nzStatus","warning","nzTitle","No se pudo acceder a al perfil"],[3,"gridCellSpans","gridCellTitles"],[3,"ngTemplateOutlet",4,"appDashboardCardContentDirective"],[3,"ngTemplateOutlet"],[1,"seccion-content"],[1,"profile-image-wrapper"],["src","images/account_profile_circle.png","alt","logo",1,"profile-image"],["nzBordered","","nzSize","middle",2,"width","100%",3,"nzLayout","nzColumn"],["nzTitle","Nombre de Usuario"],["nzTitle","Nombre Completo"],["nzTitle","Email"],["nzTitle","Miembro desde"],[2,"width","100%"],["nz-flex","","nzJustify","space-between","nzAlign","center",2,"margin-bottom","12px"],["nz-button","","nzType","primary","size","default",3,"click"],["nzType","logout","nzTheme","outline"]],template:function(e,n){e&1&&(r(0,"app-content-frame",1)(1,"div",2),u(2,M1,2,0,"div",3)(3,P1,3,4,"div",3),s()(),u(4,I1,28,18,"ng-template",null,0,V)),e&2&&(m("useDefaultHeader",!0),c(2),z(n.currentUserPrfile?3:2))},dependencies:[Be,ie,po,Co,go,_o,De,Pe,Me,ke,at,ct,J,me,$e,Ge,an,rn,Dt],styles:[".content-wrapper[_ngcontent-%COMP%]{color:#a9a9a9;padding:24px;width:100%}.content-body-wrapper[_ngcontent-%COMP%]{width:100%;background:#fff;min-height:280px;padding:12px}.content-header-element[_ngcontent-%COMP%]{width:100%}.content-header-tittle[_ngcontent-%COMP%]{margin-right:12px;margin-bottom:0;color:#000000d9;font-weight:600;font-size:20px;line-height:32px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.float-right[_ngcontent-%COMP%]{float:right}.align-contents-right[_ngcontent-%COMP%]{text-align:right}.profile-image[_ngcontent-%COMP%]{aspect-ratio:1 / 1;height:100%}.profile-image-wrapper[_ngcontent-%COMP%]{height:256px;width:100%;overflow:hidden;line-height:48px;background:#fff;transition:all .3s;display:flex;align-items:center;justify-content:center}@media (max-width: 710px){.content-header[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.content-header-element[_ngcontent-%COMP%]{width:100%}.radio-button-label[_ngcontent-%COMP%]{width:95px}.align-contents-right[_ngcontent-%COMP%]{text-align:lef}.content-wrapper[_ngcontent-%COMP%]{padding:12px}}.inner-box[_ngcontent-%COMP%]{background-color:#00f;height:100%}.seccion-title[_ngcontent-%COMP%]{min-height:15px;padding-left:12px}.seccion-content[_ngcontent-%COMP%]{width:100%;min-height:100px;display:flex;align-items:right;flex-direction:column}.overlay[_ngcontent-%COMP%]{background-color:#00000080;position:fixed;inset:0;z-index:100}.drawer[_ngcontent-%COMP%]{position:fixed;top:0;right:-60vw;width:60vw;height:100%;background-color:#fff;transition:right .3s ease;z-index:100}.drawer.active[_ngcontent-%COMP%]{right:0}.drawer[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:0}@media (max-width: 670px){.drawer[_ngcontent-%COMP%]{position:fixed;top:0;right:-80vw;width:80vw;height:100%}}"]})};var O4=[{path:"",pathMatch:"full",redirectTo:"profile"},{path:"profile",component:Dr}],bm={base_user:"/user",user_profile:"/user/profile"};var O1=["numericInputElement"],N1=()=>({overflow:"auto"}),F1=(t,i)=>i.id;function E1(t,i){if(t&1&&h(0,"nz-option",10),t&2){let e=i.$implicit;m("nzLabel",e.display)("nzValue",e.value)}}function A1(t,i){if(t&1&&h(0,"nz-option",10),t&2){let e=i.$implicit;m("nzLabel",e.display)("nzValue",e.value)}}function R1(t,i){if(t&1&&h(0,"nz-option",10),t&2){let e=i.$implicit;m("nzLabel",e.name)("nzValue",e.id)}}function Y1(t,i){if(t&1&&p(0),t&2){let e=i.$implicit;W(" y ",e.length===1?"1 otra seleccionada":"otras "+e.length+" seleccionadas"," ")}}function V1(t,i){if(t&1){let e=M();r(0,"form",5)(1,"div",6)(2,"div",7)(3,"nz-form-item")(4,"nz-form-control")(5,"nz-form-label"),p(6,"Nombre"),s(),h(7,"input",8),s()()(),r(8,"div",7)(9,"nz-form-item")(10,"nz-form-control")(11,"nz-form-label"),p(12,"Variable"),s(),r(13,"nz-select",9),j(14,E1,1,2,"nz-option",10,_n),s()()()(),r(16,"div",7)(17,"nz-form-item")(18,"nz-form-control")(19,"nz-form-label"),p(20,"Valor"),s(),r(21,"input",11,1),y("ngModelChange",function(o){g(e);let a=l();return C(a.onChange(o))})("blur",function(){g(e);let o=l();return C(o.onBlur())}),s()()()(),r(23,"div",7)(24,"nz-form-item")(25,"nz-form-control")(26,"nz-form-label"),p(27,"Condici\xF3n"),s(),r(28,"nz-select",12),j(29,A1,1,2,"nz-option",10,_n),s()()()(),r(31,"div",13)(32,"nz-form-item")(33,"nz-form-control")(34,"nz-form-label"),p(35,"Estaciones"),s(),r(36,"nz-select",14),j(37,R1,1,2,"nz-option",10,F1),s(),u(39,Y1,1,1,"ng-template",null,2,V),s()()()()()}if(t&2){let e=E(40),n=l();m("formGroup",n.form),c(),m("nzGutter",8),c(),m("nzSpan",n.screenInfoService.isMobile?24:12),c(6),m("nzSpan",n.screenInfoService.isMobile?24:12),c(6),L(n.variableSelectOptions),c(2),m("nzSpan",n.screenInfoService.isMobile?24:12),c(7),m("nzSpan",n.screenInfoService.isMobile?24:12),c(6),L(n.conditionSelectOptions),c(7),m("nzMaxTagCount",n.screenInfoService.isMobile?1:3)("nzMaxTagPlaceholder",e),c(),L(n.stations())}}function H1(t,i){if(t&1){let e=M();r(0,"div",15)(1,"button",16),y("click",function(){g(e);let o=l();return C(o.onClose())}),p(2,"Cancelar"),s(),r(3,"button",16),y("click",function(){g(e);let o=l();return C(o.onClear())}),p(4,"Deshacer"),s(),r(5,"button",17),y("click",function(){g(e);let o=l();return C(o.onCreate())}),p(6,"Crear"),s()()}}var No=class t{_nzMessageService=_(ut);_stationsService=_(We);_alertsService=_(Tn);_fb=_(on);screenInfoService=_(be);stations=this._stationsService.stations;visible=null;nonInputVisible=!1;onClosed=new F;form=this._fb.nonNullable.group({name:this._fb.control("",[le.required]),variable:this._fb.control("",[le.required]),condition:this._fb.control("",[le.required]),value:this._fb.control("",[le.required]),stationsIds:this._fb.control([],[])});variableSelectOptions=this._alertsService.variableSelectOptions;conditionSelectOptions=this._alertsService.conditionSelectOptions;constructor(){}onClose(){this.onClosed.emit(),this.nonInputVisible=!1}onClear(){this.form.reset()}onCreate(){this.form.valid?this.createAlert():Object.values(this.form.controls).forEach(i=>{i.invalid&&(i.markAsDirty(),i.updateValueAndValidity({onlySelf:!0}))})}createAlert(){let i=this.form.getRawValue();if(!i.name||!i.variable||!i.condition||!i.value||!i.stationsIds)return;let e={name:i.name,variable:i.variable,condition:i.condition,value:Number(i.value)};this._alertsService.insertAlert(e).subscribe(n=>{if(!n)this._nzMessageService.error("No se puedo crear la estaci\xF3n. Intento de nuevo m\xE1s tarde");else if(i.stationsIds&&i.stationsIds.length>0){let o=[];i.stationsIds?.forEach(a=>{let d=this._alertsService.insertAlertStationLink(n.id,a);o.push(d)}),nl(o).subscribe(a=>{let d=a.reduce((f,x)=>x===null?f+1:f,0);d>0&&this._nzMessageService.error(`${d} estaciones no se pudieron enlazar a la alerta`),this._nzMessageService.success(`La alerta "${n.name}" se cre\xF3 exitosamente`),this.form.reset(),this._stationsService.loadAllCurrentUserStations(),this._alertsService.loadAllCurrentUserAlerts()})}else this._nzMessageService.success(`La alerta "${n.name}" se cre\xF3 exitosamente`),this.form.reset(),this._alertsService.loadAllCurrentUserAlerts()})}value="";inputElement;onChange(i){this.updateValue(i)}onBlur(){(this.value.charAt(this.value.length-1)==="."||this.value==="-")&&this.updateValue(this.value.slice(0,-1))}updateValue(i){let e=/^-?(0|[1-9][0-9]*)(\.[0-9]*)?$/;(!isNaN(+i)&&e.test(i)||i===""||i==="-")&&(this.value=i),this.inputElement.nativeElement.value=this.value}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=D({type:t,selectors:[["app-create-alert"]],viewQuery:function(e,n){if(e&1&&G(O1,5),e&2){let o;R(o=Y())&&(n.inputElement=o.first)}},inputs:{visible:"visible"},outputs:{onClosed:"onClosed"},decls:4,vars:5,consts:[["footerTpl",""],["numericInputElement",""],["tagPlaceHolder",""],["nzTitle","Crear Alerta",3,"nzOnClose","nzBodyStyle","nzWidth","nzVisible","nzFooter"],["nz-form","",3,"formGroup",4,"nzDrawerContent"],["nz-form","",3,"formGroup"],["nz-row","",3,"nzGutter"],["nz-col","",3,"nzSpan"],["nzSize","large","nz-input","","placeholder","nombre de la alerta","formControlName","name"],["nzSize","large","formControlName","variable",2,"width","100%"],[3,"nzLabel","nzValue"],["nzSize","large","nz-input","","placeholder","Ejemplo: 40","formControlName","value",3,"ngModelChange","blur"],["nzSize","large","formControlName","condition",2,"width","100%"],["nz-col","","nzSpan","24"],["nzSize","large","formControlName","stationsIds","nzMode","multiple",2,"width","100%",3,"nzMaxTagCount","nzMaxTagPlaceholder"],[2,"float","right"],["nz-button","",2,"margin-right","8px",3,"click"],["nz-button","","nzType","primary",3,"click"]],template:function(e,n){if(e&1){let o=M();r(0,"nz-drawer",3),y("nzOnClose",function(){return g(o),C(n.onClose())}),u(1,V1,41,8,"form",4)(2,H1,7,0,"ng-template",null,0,V),s()}if(e&2){let o=E(3);m("nzBodyStyle",xe(4,N1))("nzWidth",n.screenInfoService.isMobile?330:720)("nzVisible",n.visible===null?n.nonInputVisible:n.visible)("nzFooter",o)}},dependencies:[Ue,Zt,vt,Oe,Kt,Jt,It,De,Pe,Me,ke,Gn,wn,Hn,ft,nn,$t,ht,Tt,Ft,Ot,wt,Nt,Bt,Yn,Ut,J],encapsulation:2})};var j1=["numericInputElement"],L1=()=>({overflow:"auto"}),B1=(t,i)=>i.id;function U1(t,i){if(t&1&&h(0,"nz-option",10),t&2){let e=i.$implicit;m("nzLabel",e.display)("nzValue",e.value)}}function $1(t,i){if(t&1&&h(0,"nz-option",10),t&2){let e=i.$implicit;m("nzLabel",e.display)("nzValue",e.value)}}function W1(t,i){if(t&1&&h(0,"nz-option",10),t&2){let e=i.$implicit;m("nzLabel",e.name)("nzValue",e.id)}}function q1(t,i){if(t&1&&p(0),t&2){let e=i.$implicit;W(" y ",e.length===1?"una otra seleccionada":"otras "+e.length+" seleccionadas"," ")}}function G1(t,i){if(t&1){let e=M();r(0,"form",5)(1,"div",6)(2,"div",7)(3,"nz-form-item")(4,"nz-form-control")(5,"nz-form-label"),p(6,"Nombre"),s(),h(7,"input",8),s()()(),r(8,"div",7)(9,"nz-form-item")(10,"nz-form-control")(11,"nz-form-label"),p(12,"Variable"),s(),r(13,"nz-select",9),j(14,U1,1,2,"nz-option",10,_n),s()()()(),r(16,"div",7)(17,"nz-form-item")(18,"nz-form-control")(19,"nz-form-label"),p(20,"Valor"),s(),r(21,"input",11,1),y("ngModelChange",function(o){g(e);let a=l();return C(a.onChange(o))})("blur",function(){g(e);let o=l();return C(o.onBlur())}),s()()()(),r(23,"div",7)(24,"nz-form-item")(25,"nz-form-control")(26,"nz-form-label"),p(27,"Condici\xF3n"),s(),r(28,"nz-select",12),j(29,$1,1,2,"nz-option",10,_n),s()()()(),r(31,"div",13)(32,"nz-form-item")(33,"nz-form-control")(34,"nz-form-label"),p(35,"Estaciones"),s(),r(36,"nz-select",14),j(37,W1,1,2,"nz-option",10,B1),s(),u(39,q1,1,1,"ng-template",null,2,V),s()()()()()}if(t&2){let e=E(40),n=l();m("formGroup",n.form),c(),m("nzGutter",8),c(),m("nzSpan",n.screenInfoService.isMobile?24:12),c(6),m("nzSpan",n.screenInfoService.isMobile?24:12),c(6),L(n.variableSelectOptions),c(2),m("nzSpan",n.screenInfoService.isMobile?24:12),c(7),m("nzSpan",n.screenInfoService.isMobile?24:12),c(6),L(n.conditionSelectOptions),c(7),m("nzMaxTagCount",n.screenInfoService.isMobile?1:3)("nzMaxTagPlaceholder",e),c(),L(n.stations())}}function Q1(t,i){if(t&1){let e=M();r(0,"div",15)(1,"button",16),y("click",function(){g(e);let o=l();return C(o.onClose())}),p(2,"Cancelar"),s(),r(3,"button",16),y("click",function(){g(e);let o=l();return C(o.onUndo())}),p(4,"Deshacer"),s(),r(5,"button",17),y("click",function(){g(e);let o=l();return C(o.onUpdate())}),p(6,"Actualizar"),s()()}}var Fo=class t{_nzMessageService=_(ut);_stationsService=_(We);_alertsService=_(Tn);_fb=_(on);screenInfoService=_(be);selectedAlert=null;visible=null;nonInputVisible=!1;onClosed=new F;form=this._fb.nonNullable.group({name:this._fb.control("",[le.required]),variable:this._fb.control("",[le.required]),condition:this._fb.control("",[le.required]),value:this._fb.control("",[le.required]),stationsIds:this._fb.control([],[])});stations=this._stationsService.stations;variableSelectOptions=this._alertsService.variableSelectOptions;conditionSelectOptions=this._alertsService.conditionSelectOptions;constructor(){}ngOnInit(){this.setupForm()}ngOnChanges(i){this.setupForm()}setupForm(){this.selectedAlert?this.form=this._fb.nonNullable.group({name:this._fb.control(this.selectedAlert.name,[le.required]),variable:this._fb.control(this.selectedAlert.variable,[le.required]),condition:this._fb.control(this.selectedAlert.condition,[le.required]),value:this._fb.control(this.selectedAlert.value,[le.required]),stationsIds:this._fb.control(this.selectedAlert.stations.map(i=>i.id),[])}):this.form=this._fb.nonNullable.group({name:this._fb.control("",[le.required]),variable:this._fb.control("",[le.required]),condition:this._fb.control("",[le.required]),value:this._fb.control(0,[le.required]),stationsIds:this._fb.control([],[])})}onClose(){this.onClosed.emit(),this.nonInputVisible=!1}onUndo(){this.selectedAlert?this.form.patchValue({name:this.selectedAlert.name,variable:this.selectedAlert.variable,condition:this.selectedAlert.condition,value:this.selectedAlert.value,stationsIds:this.selectedAlert.stations.map(i=>i.id)}):this.form.patchValue({name:"",variable:"",condition:"",value:0,stationsIds:[]})}onUpdate(){this.form.valid?this.updateAlert():Object.values(this.form.controls).forEach(i=>{i.invalid&&(i.markAsDirty(),i.updateValueAndValidity({onlySelf:!0}))})}alreadyProcessingUpdate=!1;updateAlert(){if(!this.selectedAlert||this.alreadyProcessingUpdate)return;this.alreadyProcessingUpdate=!0;let i=this.form.getRawValue();if(!i.name||!i.variable||!i.condition||!i.value||!i.stationsIds)return;let e={name:i.name,variable:i.variable,condition:i.condition,value:Number(i.value)};this._alertsService.updateAlert(this.selectedAlert.id,e).subscribe(n=>{if(!n)this._nzMessageService.error("No se puedo modificar la estaci\xF3n. Intento de nuevo m\xE1s tarde");else{let o=i.stationsIds,a=this.selectedAlert.stations.map(x=>x.id),d=this.getAddedStationsIds(o,a),f=this.getRemovedStationsIds(o,a);f.length>0&&this._alertsService.deleteAlertStationLinks(this.selectedAlert.id,f).subscribe(x=>{x?this._nzMessageService.success("Las estaciones removidas se desvincularon correctamente."):this._nzMessageService.error("No se pudieron desvincular las estaciones removidas.")}),d?.forEach(x=>{this._alertsService.insertAlertStationLink(this.selectedAlert.id,x).subscribe(k=>{k||this._nzMessageService.error("Una de las estaciones no se pudo enlazar a la alerta.")})}),this.alreadyProcessingUpdate=!1,this._nzMessageService.success(`La alerta "${e.name}" se actualizo correctamente`),this._alertsService.loadAllCurrentUserAlerts(),this._stationsService.loadAllCurrentUserStations()}})}getAddedStationsIds(i,e){let n=[];return i.forEach(o=>{e.some(a=>a===o)||n.push(o)}),n}getRemovedStationsIds(i,e){let n=[];return e.forEach(o=>{i.some(a=>a===o)||n.push(o)}),n}value="";inputElement;onChange(i){this.updateValue(i)}onBlur(){(this.value.charAt(this.value.length-1)==="."||this.value==="-")&&this.updateValue(this.value.slice(0,-1))}updateValue(i){let e=/^-?(0|[1-9][0-9]*)(\.[0-9]*)?$/;(!isNaN(+i)&&e.test(i)||i===""||i==="-")&&(this.value=i),this.inputElement.nativeElement.value=this.value}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=D({type:t,selectors:[["app-edit-alert"]],viewQuery:function(e,n){if(e&1&&G(j1,5),e&2){let o;R(o=Y())&&(n.inputElement=o.first)}},inputs:{selectedAlert:"selectedAlert",visible:"visible"},outputs:{onClosed:"onClosed"},features:[Q],decls:4,vars:5,consts:[["footerTpl",""],["numericInputElement",""],["tagPlaceHolder",""],["nzTitle","Editar Alerta",3,"nzOnClose","nzBodyStyle","nzWidth","nzVisible","nzFooter"],["nz-form","",3,"formGroup",4,"nzDrawerContent"],["nz-form","",3,"formGroup"],["nz-row","",3,"nzGutter"],["nz-col","",3,"nzSpan"],["nzSize","large","nz-input","","placeholder","Nombre de la estaci\xF3n","formControlName","name"],["nzSize","large","formControlName","variable",2,"width","100%"],[3,"nzLabel","nzValue"],["nzSize","large","nz-input","","placeholder","Ejemplo: 40","formControlName","value",3,"ngModelChange","blur"],["nzSize","large","formControlName","condition",2,"width","100%"],["nz-col","","nzSpan","24"],["nzSize","large","formControlName","stationsIds","nzMode","multiple",2,"width","100%",3,"nzMaxTagCount","nzMaxTagPlaceholder"],[2,"float","right"],["nz-button","",2,"margin-right","8px",3,"click"],["nz-button","","nzType","primary",3,"click"]],template:function(e,n){if(e&1){let o=M();r(0,"nz-drawer",3),y("nzOnClose",function(){return g(o),C(n.onClose())}),u(1,G1,41,8,"form",4)(2,Q1,7,0,"ng-template",null,0,V),s()}if(e&2){let o=E(3);m("nzBodyStyle",xe(4,L1))("nzWidth",n.screenInfoService.isMobile?330:720)("nzVisible",n.visible===null?n.nonInputVisible:n.visible)("nzFooter",o)}},dependencies:[Ue,Zt,vt,Oe,Kt,Jt,It,De,Pe,Me,ke,Gn,wn,Hn,ft,nn,$t,ht,Tt,Ft,Ot,wt,Nt,Bt,Yn,Ut,J],encapsulation:2})};var K1=(t,i)=>i.id;function Z1(t,i){t&1&&h(0,"nz-result",11)}function J1(t,i){t&1&&u(0,Z1,1,0,"nz-result",14)}function X1(t,i){t&1&&h(0,"nz-spin",12)}function eT(t,i){t&1&&(r(0,"th"),p(1," Alertas: "),s())}function tT(t,i){t&1&&(r(0,"th",15),p(1," Nombre "),s(),r(2,"th",15),p(3," Variable "),s(),r(4,"th",15),p(5," Valor "),s(),r(6,"th",15),p(7," Condici\xF3n "),s(),r(8,"th",16),p(9," Acciones "),s())}function nT(t,i){if(t&1){let e=M();r(0,"nz-collapse",17)(1,"nz-collapse-panel",18)(2,"div",19)(3,"p",20)(4,"strong"),p(5,"Variable:"),s()(),r(6,"p",20),p(7),s()(),h(8,"br"),r(9,"div",19)(10,"p",20)(11,"strong"),p(12,"Valor:"),s()(),r(13,"p",20),p(14),s()(),h(15,"br"),r(16,"div",19)(17,"p",20)(18,"strong"),p(19,"Condici\xF3n:"),s()(),r(20,"p",20),p(21),s()(),h(22,"br"),r(23,"p",21)(24,"strong"),p(25,"Acciones:"),s()(),r(26,"div",19)(27,"button",22),y("click",function(){g(e);let o=l().$implicit,a=l(3);return C(a.editAlert(o))}),h(28,"nz-icon",23),p(29," Editar "),s(),h(30,"nz-divider",24),r(31,"button",22),y("click",function(){g(e);let o=l().$implicit,a=l(3);return C(a.toggleDeleteAlert(o))}),h(32,"nz-icon",25),p(33," Eliminar "),s()()()()}if(t&2){let e=l().$implicit,n=l(3);c(),m("nzHeader",e.name)("nzActive",!1)("nzDisabled",!1),c(6),W(" ",n.variableToDisplay(e.variable)," "),c(7),W(" ",e.value," "),c(7),W(" ",n.conditionToDisplay(e.condition)," ")}}function iT(t,i){if(t&1){let e=M();r(0,"td"),p(1),s(),r(2,"td"),p(3),s(),r(4,"td"),p(5),s(),r(6,"td"),p(7),s(),r(8,"td",26)(9,"button",22),y("click",function(){g(e);let o=l().$implicit,a=l(3);return C(a.editAlert(o))}),h(10,"nz-icon",23),p(11," Editar "),s(),h(12,"nz-divider",24),r(13,"button",22),y("click",function(){g(e);let o=l().$implicit,a=l(3);return C(a.toggleDeleteAlert(o))}),h(14,"nz-icon",25),p(15," Eliminar "),s()()}if(t&2){let e=l().$implicit,n=l(3);c(),W(" ",e.name," "),c(2),W(" ",n.variableToDisplay(e.variable)," "),c(2),W(" ",e.value," "),c(2),W(" ",n.conditionToDisplay(e.condition)," ")}}function oT(t,i){if(t&1&&(r(0,"tr"),u(1,nT,34,6,"nz-collapse",17)(2,iT,16,4),s()),t&2){let e=l(3);c(),z(e.screenInfoService.isMobile?1:2)}}function aT(t,i){if(t&1&&(r(0,"nz-table",13,2)(2,"thead")(3,"tr"),u(4,eT,2,0,"th")(5,tT,10,0),s()(),r(6,"tbody"),j(7,oT,3,1,"tr",null,K1),s()()),t&2){let e=E(1),n=l(2);m("nzData",n.alerts()),c(4),z(n.screenInfoService.isMobile?4:5),c(3),L(e.data)}}function rT(t,i){if(t&1&&(r(0,"div",8)(1,"div",9)(2,"div",10),u(3,J1,1,0,"nz-result",11)(4,X1,1,0,"nz-spin",12)(5,aT,9,2,"nz-table",13),s()()()),t&2){let e=l();c(3),z(e.alerts_error()?3:e.alerts_loading()?4:5)}}function sT(t,i){if(t&1){let e=M();r(0,"div",27)(1,"button",22),y("click",function(){g(e);let o=l();return C(o.toggleCreateAlert(null))}),h(2,"nz-icon",28),p(3," Crear Alerta "),s()()}}function lT(t,i){t&1&&(te(0),r(1,"p"),p(2,"Est\xE1 seguro que desea eliminar la alerta?"),s(),r(3,"p"),p(4,"Una vez eliminada, no se puede recuperar."),s(),ne())}var Mr=class t{routesAccessService=_(Qe);_nzMessageService=_(ut);_stationsService=_(We);_alertsService=_(Tn);_router=_(bt);screenInfoService=_(be);selectedAlert=null;alerts_error=this._alertsService.alerts_error;alerts_loading=this._alertsService.alerts_loading;alerts=this._alertsService.alerts;constructor(){}editAlertVisible=!1;editAlert(i){this.selectedAlert=i,this.editAlertVisible=!0}closeEditAlert(i){this.editAlertVisible=!1,this.selectedAlert=null}isConfirmDeleteModalVisible=!1;alertToDelete=null;toggleDeleteAlert(i){this.isConfirmDeleteModalVisible=!this.isConfirmDeleteModalVisible,this.alertToDelete=i}handleCancelDeleteAlert(){this.isConfirmDeleteModalVisible=!1,this.alertToDelete=null}handleConfirmDeleteAlert(){let i=this.alertToDelete.stations.map(e=>e.id);this._alertsService.deleteAlert(this.alertToDelete.id).subscribe(e=>{e?(this._nzMessageService.success("La alerta se elimin\xF3 correctamente."),this.isConfirmDeleteModalVisible=!1,this.alertToDelete=null,this._alertsService.loadAllCurrentUserAlerts(),this._stationsService.loadAllCurrentUserStations()):this._nzMessageService.error("La alerta no se puedo eliminar. Intente de nuevo m\xE1s tarde.")})}createAlertVisible=!1;toggleCreateAlert(i){this.createAlertVisible=!this.createAlertVisible}variableToDisplay(i){let e="---";switch(i){case"temperature":e="Temperatura";break;case"humidity":e="Humedad";break}return e}conditionToDisplay(i){let e="---";switch(i){case"greaterthan":e="Mayor que";break;case"lessthan":e="Menor que";break}return e}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=D({type:t,selectors:[["app-my-alerts"]],decls:9,vars:8,consts:[["page_content",""],["add_alert_button",""],["basicTable",""],["headerTitleText","Alertas",3,"useDefaultHeader","headerRightSideElement","content"],[3,"onClosed","visible"],[3,"onClosed","visible","selectedAlert"],["nzOkText","Confirmar","nzCancelText","Cancelar",3,"nzVisibleChange","nzOnOk","nzOnCancel","nzVisible","nzTitle"],[4,"nzModalContent"],[1,"base-div"],[1,"inner-content"],[1,"full-nztable-10-items-hight",2,"min-height","672px","width","100%"],["nzStatus","warning","nzTitle","No se ha podido acceder a las alertas"],["nzSimple","","nzSize","large"],["nzTableLayout","fixed",2,"width","100%",3,"nzData"],["nzStatus","warning","nzTitle","No se ha podido acceder a las alertas",4,"appDashboardCardContentDirective"],["nzWidth","15%"],["nzWidth","40%"],["nzGhost",""],[3,"nzHeader","nzActive","nzDisabled"],["nz-flex","","nzJustify","space-between","nzAlign","center",1,"station-details-wrappers"],[2,"margin","0"],[2,"margin","0","padding-bottom","12px"],["nz-button","","nzType","primary","nzSize","default",3,"click"],["nzType","edit","nzTheme","outline"],["nzType","vertical"],["nzType","delete","nzTheme","outline"],["nzAlign","center"],[1,"button-container"],["nzType","plus"]],template:function(e,n){if(e&1){let o=M();h(0,"app-content-frame",3),u(1,rT,6,1,"ng-template",null,0,V)(3,sT,4,0,"ng-template",null,1,V),r(5,"app-create-alert",4),y("onClosed",function(d){return g(o),C(n.toggleCreateAlert(d))}),s(),r(6,"app-edit-alert",5),y("onClosed",function(d){return g(o),C(n.closeEditAlert(d))}),s(),r(7,"nz-modal",6),ye("nzVisibleChange",function(d){return g(o),Se(n.isConfirmDeleteModalVisible,d)||(n.isConfirmDeleteModalVisible=d),C(d)}),y("nzOnOk",function(){return g(o),C(n.handleConfirmDeleteAlert())})("nzOnCancel",function(){return g(o),C(n.handleCancelDeleteAlert())}),u(8,lT,5,0,"ng-container",7),s()}if(e&2){let o=E(2),a=E(4);m("useDefaultHeader",!0)("headerRightSideElement",a)("content",o),c(5),m("visible",n.createAlertVisible),c(),m("visible",n.editAlertVisible)("selectedAlert",n.selectedAlert),c(),ze("nzVisible",n.isConfirmDeleteModalVisible),m("nzTitle","Confirmar eliminar alerta")}},dependencies:[Be,xn,zn,vn,Hi,vi,De,Pe,Me,ke,at,ct,Vt,qt,Xt,Wt,en,Yt,Gt,un,sn,si,ni,J,me,Qa,Do,$e,Ge,Dt,No,Fo],styles:[".inner-content[_ngcontent-%COMP%]{background:#fff;padding:24px;min-height:280px}.base-div[_ngcontent-%COMP%]{color:#a9a9a9;padding:24px;width:100%;height:100%}.image-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:48px;width:48px;max-width:48px}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:inline-block;height:32px;width:32px;vertical-align:middle}.overlay[_ngcontent-%COMP%]{background-color:#00000080;position:fixed;inset:0;z-index:100}.drawer[_ngcontent-%COMP%]{position:fixed;top:0;right:-60vw;width:60vw;height:100%;background-color:#fff;transition:right .3s ease;z-index:100}.drawer.active[_ngcontent-%COMP%]{right:0}.drawer[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:0}@media (max-width: 670px){.drawer[_ngcontent-%COMP%]{position:fixed;top:0;right:-80vw;width:80vw;height:100%}}"]})};var kr=class t{_stationsService=_(We);_alertsService=_(Tn);_authService=_(tt);constructor(){}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=D({type:t,selectors:[["app-base-alerts"]],decls:1,vars:0,template:function(e,n){e&1&&h(0,"router-outlet")},dependencies:[Di],encapsulation:2})};var lL=[{path:"",pathMatch:"full",redirectTo:"/alerts/my-alerts"},{path:"",component:kr,children:[{path:"my-alerts",component:Mr},{path:"edit-alert",component:Fo},{path:"create-alert",component:No}]}],Tm={base_alerts:"/alerts",my_alerts:"/alerts/my-alerts",create_alert:"/alerts/crear-alerta",edit_alert:"/alerts/edit-alert"};var cT=()=>({overflow:"auto"});function dT(t,i){if(t&1&&(r(0,"form",3)(1,"div",4)(2,"div",5)(3,"nz-form-item")(4,"nz-form-control")(5,"nz-form-label"),p(6,"Nombre"),s(),h(7,"input",6),s()()(),r(8,"div",5)(9,"nz-form-item")(10,"nz-form-control")(11,"nz-form-label"),p(12,"Codigo imei"),s(),h(13,"input",7),s()()()()()),t&2){let e=l();m("formGroup",e.form),c(),m("nzGutter",8),c(),m("nzSpan",(e.screenInfoService.isMobile,24)),c(6),m("nzSpan",(e.screenInfoService.isMobile,24))}}function mT(t,i){if(t&1){let e=M();r(0,"div",8)(1,"button",9),y("click",function(){g(e);let o=l();return C(o.onClose())}),p(2,"Cancelar"),s(),r(3,"button",9),y("click",function(){g(e);let o=l();return C(o.onClear())}),p(4,"Deshacer"),s(),r(5,"button",10),y("click",function(){g(e);let o=l();return C(o.onCreate())}),p(6,"Crear"),s()()}}var Pr=class t{_stationcodesService=_(hn);_nzMessageService=_(ut);_fb=_(on);screenInfoService=_(be);visible=null;nonInputVisible=!1;onClosed=new F;form=this._fb.nonNullable.group({name:this._fb.control("",[le.required]),imei:this._fb.control("",[le.required])});constructor(){}onClose(){this.onClosed.emit(),this.nonInputVisible=!1}onClear(){this.form.reset()}onCreate(){this.form.valid?this.createAlert():Object.values(this.form.controls).forEach(i=>{i.invalid&&(i.markAsDirty(),i.updateValueAndValidity({onlySelf:!0}))})}createAlert(){let i=this.form.getRawValue();if(!i.name||!i.imei)return;let e={name:i.name,imei_code:i.imei.trim()};this._stationcodesService.insertStationCode(e).subscribe(n=>{n?(this._nzMessageService.success("La estaci\xF3n f\xEDsica se cre\xF3 correctamente."),this._stationcodesService.loadAllStationCodes(),this.onClear()):this._nzMessageService.error("No se pudo crear la estaci\xF3n f\xEDsica. Intente de nuevo m\xE1s tarde.")})}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=D({type:t,selectors:[["app-create-code"]],inputs:{visible:"visible"},outputs:{onClosed:"onClosed"},decls:4,vars:5,consts:[["footerTpl",""],["nzTitle","Registrar Estaci\xF3n F\xEDsica",3,"nzOnClose","nzBodyStyle","nzWidth","nzVisible","nzFooter"],["nz-form","",3,"formGroup",4,"nzDrawerContent"],["nz-form","",3,"formGroup"],["nz-row","",3,"nzGutter"],["nz-col","",3,"nzSpan"],["nzSize","large","nz-input","","placeholder","nombre de la estaci\xF3n","formControlName","name"],["nzSize","large","nz-input","","placeholder","imei de la estaci\xF3n","formControlName","imei"],[2,"float","right"],["nz-button","",2,"margin-right","8px",3,"click"],["nz-button","","nzType","primary",3,"click"]],template:function(e,n){if(e&1){let o=M();r(0,"nz-drawer",1),y("nzOnClose",function(){return g(o),C(n.onClose())}),u(1,dT,14,4,"form",2)(2,mT,7,0,"ng-template",null,0,V),s()}if(e&2){let o=E(3);m("nzBodyStyle",xe(4,cT))("nzWidth",n.screenInfoService.isMobile?330:720)("nzVisible",n.visible===null?n.nonInputVisible:n.visible)("nzFooter",o)}},dependencies:[Ue,Zt,vt,Oe,Kt,Jt,It,De,Pe,Me,ke,Gn,wn,Hn,ft,ht,Tt,Ft,Ot,wt,Nt,Bt,Yn,Ut,J],encapsulation:2})};var pT=()=>({overflow:"auto"});function uT(t,i){if(t&1&&(r(0,"form",3)(1,"div",4)(2,"div",5)(3,"nz-form-item")(4,"nz-form-control")(5,"nz-form-label"),p(6,"Nombre"),s(),h(7,"input",6),s()()(),r(8,"div",5)(9,"nz-form-item")(10,"nz-form-control")(11,"nz-form-label"),p(12,"Codigo imei"),s(),h(13,"input",7),s()()()()()),t&2){let e=l();m("formGroup",e.form),c(),m("nzGutter",8),c(),m("nzSpan",(e.screenInfoService.isMobile,24)),c(6),m("nzSpan",(e.screenInfoService.isMobile,24))}}function hT(t,i){if(t&1){let e=M();r(0,"div",8)(1,"button",9),y("click",function(){g(e);let o=l();return C(o.onUndo())}),p(2,"Deshacer"),s(),r(3,"button",9),y("click",function(){g(e);let o=l();return C(o.onClose())}),p(4,"Cancelar"),s(),r(5,"button",10),y("click",function(){g(e);let o=l();return C(o.onUpdate())}),p(6,"Actualizar"),s()()}}var Ir=class t{_stationcodesService=_(hn);_stationsService=_(We);_nzMessageService=_(ut);_fb=_(on);screenInfoService=_(be);selectedStationCode=null;visible=null;nonInputVisible=!1;onClosed=new F;form=this._fb.nonNullable.group({name:this._fb.control("",[le.required]),imei:this._fb.control("",[le.required])});constructor(){}ngOnInit(){this.setupForm()}ngOnChanges(i){this.setupForm()}setupForm(){this.selectedStationCode?this.form=this._fb.nonNullable.group({name:this._fb.control(this.selectedStationCode.name,[le.required]),imei:this._fb.control(this.selectedStationCode.imei_code,[le.required])}):this.form=this._fb.nonNullable.group({name:this._fb.control("",[le.required]),imei:this._fb.control("",[le.required])})}onClose(){this.onClosed.emit(),this.nonInputVisible=!1}onUndo(){this.selectedStationCode?this.form.patchValue({name:this.selectedStationCode.name,imei:this.selectedStationCode.imei_code}):this.form.patchValue({name:"",imei:""})}onUpdate(){this.form.valid?this.updateAlert():Object.values(this.form.controls).forEach(i=>{i.invalid&&(i.markAsDirty(),i.updateValueAndValidity({onlySelf:!0}))})}alreadyProcessingUpdate=!1;updateAlert(){if(!this.selectedStationCode||this.alreadyProcessingUpdate)return;this.alreadyProcessingUpdate=!0;let i=this.form.getRawValue();if(!i.name||!i.imei)return;let e={name:i.name,imei_code:i.imei.trim()};this._stationcodesService.updateStationCode(this.selectedStationCode.id,e).subscribe(n=>{n?(this.alreadyProcessingUpdate=!1,this._stationcodesService.loadAllStationCodes(),this._stationsService.loadAllCurrentUserStations(),this._nzMessageService.success(`La estaci\xF3n "${e.name}" se actualizo correctamente`)):this._nzMessageService.error("No se pudo modificar la estaci\xF3n. Intento de nuevo m\xE1s tarde")})}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=D({type:t,selectors:[["app-edit-code"]],inputs:{selectedStationCode:"selectedStationCode",visible:"visible"},outputs:{onClosed:"onClosed"},features:[Q],decls:4,vars:5,consts:[["footerTpl",""],["nzTitle","Editar Alerta",3,"nzOnClose","nzBodyStyle","nzWidth","nzVisible","nzFooter"],["nz-form","",3,"formGroup",4,"nzDrawerContent"],["nz-form","",3,"formGroup"],["nz-row","",3,"nzGutter"],["nz-col","",3,"nzSpan"],["nzSize","large","nz-input","","placeholder","Nombre de la estaci\xF3n","formControlName","name"],["nzSize","large","nz-input","","placeholder","Codigo imei","formControlName","imei"],[2,"float","right"],["nz-button","",2,"margin-right","8px",3,"click"],["nz-button","","nzType","primary",3,"click"]],template:function(e,n){if(e&1){let o=M();r(0,"nz-drawer",1),y("nzOnClose",function(){return g(o),C(n.onClose())}),u(1,uT,14,4,"form",2)(2,hT,7,0,"ng-template",null,0,V),s()}if(e&2){let o=E(3);m("nzBodyStyle",xe(4,pT))("nzWidth",n.screenInfoService.isMobile?330:720)("nzVisible",n.visible===null?n.nonInputVisible:n.visible)("nzFooter",o)}},dependencies:[Ue,Zt,vt,Oe,Kt,Jt,It,De,Pe,Me,ke,Gn,wn,Hn,ft,ht,Tt,Ft,Ot,wt,Nt,Bt,Yn,Ut,J],encapsulation:2})};var fT=(t,i)=>i.id;function _T(t,i){t&1&&h(0,"nz-result",11)}function gT(t,i){t&1&&u(0,_T,1,0,"nz-result",14)}function CT(t,i){t&1&&h(0,"nz-spin",12)}function vT(t,i){t&1&&(r(0,"th",15),p(1," Estaciones "),s())}function zT(t,i){t&1&&(r(0,"th",16),p(1," Nombre "),s(),r(2,"th",16),p(3," C\xF3digo imei "),s(),r(4,"th",17),p(5," Fecha Creaci\xF3n "),s(),h(6,"th",18)(7,"th",18))}function ST(t,i){if(t&1){let e=M();r(0,"nz-collapse",19)(1,"nz-collapse-panel",20)(2,"div",21)(3,"p",22)(4,"strong"),p(5,"Imei:"),s()(),r(6,"p",22),p(7),s()(),h(8,"br"),r(9,"div",21)(10,"p",22)(11,"strong"),p(12,"Fecha de Registro:"),s()(),r(13,"p",22),p(14),s()(),h(15,"br"),r(16,"p",23)(17,"strong"),p(18,"Acciones:"),s()(),r(19,"div",21)(20,"button",24),y("click",function(){g(e);let o=l().$implicit,a=l(3);return C(a.editStationCode(o))}),h(21,"nz-icon",25),p(22," Editar "),s(),r(23,"button",24),y("click",function(){g(e);let o=l().$implicit,a=l(3);return C(a.toggleDeleteCode(o.id))}),h(24,"nz-icon",26),p(25," Borrar "),s()()()()}if(t&2){let e=l().$implicit,n=l(3);c(),m("nzHeader",e.name)("nzActive",!1)("nzDisabled",!1),c(6),W(" ",e.imei_code," "),c(7),W(" ",n.formatCreatedAtDate(e.created_at)," ")}}function yT(t,i){if(t&1){let e=M();r(0,"tr")(1,"td"),p(2),s(),r(3,"td"),p(4),s(),r(5,"td"),p(6),s(),r(7,"td",27)(8,"button",24),y("click",function(){g(e);let o=l().$implicit,a=l(3);return C(a.editStationCode(o))}),h(9,"nz-icon",25),p(10," Editar "),s()(),r(11,"td",27)(12,"button",24),y("click",function(){g(e);let o=l().$implicit,a=l(3);return C(a.toggleDeleteCode(o.id))}),h(13,"nz-icon",26),p(14," Borrar "),s()()()}if(t&2){let e=l().$implicit,n=l(3);c(2),K(e.name),c(2),K(e.imei_code),c(2),K(n.formatCreatedAtDate(e.created_at))}}function xT(t,i){if(t&1&&u(0,ST,26,5,"nz-collapse",19)(1,yT,15,3,"tr"),t&2){let e=l(3);z(e.screenInfoService.isMobile?0:1)}}function bT(t,i){if(t&1&&(r(0,"nz-table",13,2)(2,"thead")(3,"tr"),u(4,vT,2,0,"th",15)(5,zT,8,0),s()(),r(6,"tbody"),j(7,xT,2,1,null,null,fT),s()()),t&2){let e=E(1),n=l(2);m("nzData",n.stationsCodes()),c(4),z(n.screenInfoService.isMobile?4:5),c(3),L(e.data)}}function TT(t,i){if(t&1&&(r(0,"div",8)(1,"div",9)(2,"div",10),u(3,gT,1,0,"nz-result",11)(4,CT,1,0,"nz-spin",12)(5,bT,9,2,"nz-table",13),s()()()),t&2){let e=l();c(3),z(e.stationsCodes_error()?3:e.stationsCodes_loading()?4:5)}}function wT(t,i){t&1&&(te(0),r(1,"p"),p(2,"\xBFEsta seguro que desea eliminar la estaci\xF3n f\xEDsica?"),s(),r(3,"p"),p(4,"Una vez borrada, no se puede recuperar."),s(),ne())}function DT(t,i){if(t&1){let e=M();r(0,"div",28)(1,"button",24),y("click",function(){g(e);let o=l();return C(o.toggleCreateCode(null))}),h(2,"nz-icon",29),p(3," Registrar Estaci\xF3n F\xEDsica "),s()()}}var Or=class t{_stationcodesService=_(hn);_nzMessageService=_(ut);_stationsService=_(We);_dateService=_(jt);routesAccessService=_(Qe);screenInfoService=_(be);stationsCodes_loading=this._stationcodesService.loading;stationsCodes=this._stationcodesService.stationsCodes;stationsCodes_error=this._stationcodesService.error;allCodes=this._stationcodesService.stationsCodes;constructor(){}formatCreatedAtDate(i){return this._dateService.getTimeString_DayMonthYear_Format(new Date(i))}isConfirmDeleteModalVisible=!1;codeToDeleteId="";toggleDeleteCode(i){this.codeToDeleteId=i,this.isConfirmDeleteModalVisible=!0}handleConfirmDeleteCode(){this._stationcodesService.deleteStationCode(this.codeToDeleteId).subscribe(i=>{i?(this._nzMessageService.success("La estaci\xF3n f\xEDsica de elimino correctamente."),this._stationcodesService.loadAllStationCodes(),this._stationsService.loadAllCurrentUserStations()):this._nzMessageService.error("La estaci\xF3n f\xEDsica no se pudo eliminar correctamente. Int\xE9ntelo de nuevo m\xE1s tarde.")}),this.isConfirmDeleteModalVisible=!1}handleCancelDeleteCode(){this.codeToDeleteId="",this.isConfirmDeleteModalVisible=!1}createCodeVisible=!1;toggleCreateCode(i){this.createCodeVisible=!this.createCodeVisible}editCodeVisible=!1;selectedStationCode=null;editStationCode(i){this.selectedStationCode=i,this.editCodeVisible=!0}closeEditCode(i){this.selectedStationCode=null,this.editCodeVisible=!1}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=D({type:t,selectors:[["app-my-codes"]],decls:9,vars:8,consts:[["page_content",""],["add_stationcode_button",""],["basicTable",""],["headerTitleText","Estaciones F\xEDsicas",3,"useDefaultHeader","headerRightSideElement","content"],["nzOkText","Confirmar","nzCancelText","Cancelar",3,"nzVisibleChange","nzOnOk","nzOnCancel","nzVisible","nzTitle"],[4,"nzModalContent"],[3,"onClosed","visible"],[3,"onClosed","visible","selectedStationCode"],[1,"base-div"],[1,"inner-content"],[1,"full-nztable-10-items-hight",2,"min-height","672px"],["nzStatus","warning","nzTitle","No se ha podido acceder a las estaciones f\xEDsicas"],["nzSimple","","nzSize","large"],["nzTableLayout","fixed","nzSize","middle",2,"width","100%",3,"nzData"],["nzStatus","warning","nzTitle","No se ha podido acceder a las estaciones f\xEDsicas",4,"appDashboardCardContentDirective"],["nzEllipsis",""],["nzWidth","30%"],["nzWidth","20%"],["nzWidth","10%"],["nzGhost",""],[3,"nzHeader","nzActive","nzDisabled"],["nz-flex","","nzJustify","space-between","nzAlign","center",1,"station-details-wrappers"],[2,"margin","0"],[2,"margin","0","padding-bottom","12px"],["nz-button","","nzType","primary","nzSize","default",3,"click"],["nzType","edit","nzTheme","outline"],["nzType","delete","nzTheme","outline"],["nzAlign","center"],[1,"button-container"],["nzType","plus"]],template:function(e,n){if(e&1){let o=M();h(0,"app-content-frame",3),u(1,TT,6,1,"ng-template",null,0,V),r(3,"nz-modal",4),ye("nzVisibleChange",function(d){return g(o),Se(n.isConfirmDeleteModalVisible,d)||(n.isConfirmDeleteModalVisible=d),C(d)}),y("nzOnOk",function(){return g(o),C(n.handleConfirmDeleteCode())})("nzOnCancel",function(){return g(o),C(n.handleCancelDeleteCode())}),u(4,wT,5,0,"ng-container",5),s(),r(5,"app-create-code",6),y("onClosed",function(d){return g(o),C(n.toggleCreateCode(d))}),s(),u(6,DT,4,0,"ng-template",null,1,V),r(8,"app-edit-code",7),y("onClosed",function(d){return g(o),C(n.closeEditCode(d))}),s()}if(e&2){let o=E(2),a=E(7);m("useDefaultHeader",!0)("headerRightSideElement",a)("content",o),c(3),ze("nzVisible",n.isConfirmDeleteModalVisible),m("nzTitle","Confirmar eliminar estaci\xF3n f\xEDsica"),c(2),m("visible",n.createCodeVisible),c(3),m("visible",n.editCodeVisible)("selectedStationCode",n.selectedStationCode)}},dependencies:[Be,ot,xn,zn,vn,De,Pe,Me,ke,at,ct,Vt,qt,Xt,Wt,en,Yt,Gt,un,qn,ht,sn,si,ni,J,me,Qa,Do,$e,Ge,Dt,Pr,Ir],styles:[".inner-content[_ngcontent-%COMP%]{background:#fff;padding:24px;min-height:280px}.base-div[_ngcontent-%COMP%]{color:#a9a9a9;padding:24px;width:100%;height:100%}.image-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:48px;width:48px;max-width:48px}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:inline-block;height:32px;width:32px;vertical-align:middle}.overlay[_ngcontent-%COMP%]{background-color:#00000080;position:fixed;inset:0;z-index:100}.drawer[_ngcontent-%COMP%]{position:fixed;top:0;right:-60vw;width:60vw;height:100%;background-color:#fff;transition:right .3s ease;z-index:100}.drawer.active[_ngcontent-%COMP%]{right:0}.drawer[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:0}@media (max-width: 670px){.drawer[_ngcontent-%COMP%]{position:fixed;top:0;right:-80vw;width:80vw;height:100%}}nz-spin[_ngcontent-%COMP%]{display:inline-block;margin-right:16px}"]})};var wB=[{path:"",pathMatch:"full",redirectTo:"codes"},{path:"codes",component:Or}],wm={base_codes:"/codes",my_codes:"/codes"},Dm={};var Qe=class t{router=_(bt);AUTH_ROUTES_PATHS=Mm;STATIONS_ROUTES_PATHS=sm;ALERTS_ROUTES_PATHS=Tm;MEASUREMENTS_ROUTES_PATHS=vm;CONTACTS_ROUTES_PATHS=ym;USER_ROUTES_PATHS=bm;CODES_ROUTES_PATHS=wm;SETTINGS_ROUTES_PATHS=yc;DEFAULT_ROUTE="/";STATIONS_PARAMS=lm;CONTACTS_PARAMS=xm;MEASUREMENTS_PARAMS=Bi;CODES_PARAMS=Dm;constructor(){}insertParamsInRoute(i,e){let n=":",o=i;return e.forEach(a=>{let d=o.indexOf(n);if(d>-1){let f=this.getParamLenght(o,d);o=o.substring(0,d)+a+o.substring(d+f)}}),o}getParamLenght(i,e){let o=i.indexOf("/",e);return o>-1?o-e:i.length-e}static \u0275fac=function(e){return new(e||t)};static \u0275prov=Ye({token:t,factory:t.\u0275fac,providedIn:"root"})};var Nr=class t{fb=_(on);router=_(bt);authService=_(tt);contactsService=_(Ht);ROUTES_PATHS=_(Qe);modal;errorMessage=null;form=this.fb.nonNullable.group({email:this.fb.nonNullable.control("",[le.required,le.email]),password:this.fb.nonNullable.control("",[le.required]),remember:this.fb.nonNullable.control(!0)});isFailedLoginModalVisible=!1;constructor(){}submitForm(){this.form.valid?this.logInUser():Object.values(this.form.controls).forEach(i=>{i.invalid&&(i.markAsDirty(),i.updateValueAndValidity({onlySelf:!0}))})}logInUser(){let i=this.form.getRawValue();!i.email||!i.password||this.authService.login(i.email,i.password).subscribe(e=>{e.error?(this.errorMessage=e.error.message,this.modal.showModal()):(this.contactsService.loadCurrentUserProfile(),this.router.navigateByUrl(this.ROUTES_PATHS.DEFAULT_ROUTE))})}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=D({type:t,selectors:[["app-login"]],viewQuery:function(e,n){if(e&1&&G(ta,5),e&2){let o;R(o=Y())&&(n.modal=o.first)}},decls:39,vars:7,consts:[[1,"main-container"],[1,"form-container"],["nz-form","",1,"login-form",3,"ngSubmit","formGroup"],[1,"center-me"],[1,"center-me","form-subtitle"],["nzErrorTip","\xA1Ingrese su correo!"],[1,"input-tittle"],["nzPrefixIcon","mail"],["type","email","nz-input","","formControlName","email","placeholder","email@ejemplo.com"],["nzErrorTip","Please input your Password!"],["nzPrefixIcon","lock"],["type","password","nz-input","","formControlName","password","placeholder",""],["nz-row","",1,"login-form-margin"],["nz-col","",3,"nzSpan"],[1,"login-form-forgot",3,"routerLink"],["nz-button","",1,"login-form-button","login-form-margin",3,"nzType"],[3,"routerLink"],[3,"modalTitle"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"div",1)(2,"form",2),y("ngSubmit",function(){return n.submitForm()}),r(3,"h2",3),p(4,"Bienvenido a "),r(5,"strong"),p(6,"Mi Estaci\xF3n Meteorol\xF3gica"),s()(),r(7,"h4",4),p(8," \xA1Ingresa ya! "),s(),r(9,"nz-form-item")(10,"nz-form-control",5)(11,"label",6),p(12,"Email"),s(),r(13,"nz-input-group",7),h(14,"input",8),s()()(),r(15,"nz-form-item")(16,"nz-form-control",9)(17,"label",6),p(18,"Contrase\xF1a "),s(),r(19,"nz-input-group",10),h(20,"input",11),s()()(),r(21,"div",12),h(22,"div",13),r(23,"div",13)(24,"a",14),p(25,"Olvide mi contrase\xF1a"),s()()(),r(26,"button",15),p(27," Acceder "),s(),r(28,"span"),p(29,"O "),r(30,"a",16),p(31,"registrarse!"),s()()()()(),r(32,"app-generic-modal",17)(33,"p"),p(34,"Posibles acciones a tomar:"),s(),r(35,"p"),p(36,"Verifique que sus credenciales sean correctas."),s(),r(37,"p"),p(38,"Verifique que haya dado ok al correo de confirmaci\xF3n."),s()()),e&2&&(c(2),m("formGroup",n.form),c(20),m("nzSpan",12),c(),m("nzSpan",12),c(),Gi("routerLink",n.ROUTES_PATHS.AUTH_ROUTES_PATHS.request_password_reset),c(2),m("nzType","primary"),c(4),Gi("routerLink",n.ROUTES_PATHS.AUTH_ROUTES_PATHS.signup),c(2),m("modalTitle","Problema al iniciar sesi\xF3n"))},dependencies:[Ue,Zt,vt,Oe,Kt,Jt,It,Pt,De,Pe,Me,ke,sn,Bn,Ft,Ot,wt,Nt,Bt,Ut,ht,Tt,ei,ta],styles:[".main-container[_ngcontent-%COMP%]{width:100%;height:100%}.form-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh}.login-form[_ngcontent-%COMP%]{max-width:370px}.login-form-margin[_ngcontent-%COMP%]{margin-bottom:16px}.form-subtitle[_ngcontent-%COMP%]{color:gray}.login-form-forgot[_ngcontent-%COMP%]{float:right}.login-form-button[_ngcontent-%COMP%]{width:100%}.center-me[_ngcontent-%COMP%]{text-align:center}.input-tittle[_ngcontent-%COMP%]{font-weight:700}@media (max-width: 600px){form[_ngcontent-%COMP%]{width:80%}}"]})};function MT(t,i){t&1&&(r(0,"div",1),h(1,"img",4),r(2,"div",2),h(3,"img",5),r(4,"div",6)(5,"p",7)(6,"strong"),p(7,"Mi Estaci\xF3n"),s()(),r(8,"p",7)(9,"strong"),p(10,"Meteorol\xF3gica"),s()()()()())}function kT(t,i){t&1&&(r(0,"div",2),h(1,"img",5),s())}var Fr=class t{screenInfoService=_(be);static \u0275fac=function(e){return new(e||t)};static \u0275cmp=D({type:t,selectors:[["app-base-auth"]],decls:5,vars:1,consts:[[1,"base-container"],[1,"image-container"],[1,"overlay-image-wrapper"],[1,"login-container"],["src","images/login_background.png","alt","Login Background",1,"background-image"],["src","icons/icon-96x96.png","alt","Overlay Image"],[1,"logo-text-wrapper"],[1,"logo-text"]],template:function(e,n){e&1&&(r(0,"div",0),u(1,MT,11,0,"div",1)(2,kT,2,0,"div",2),r(3,"div",3),h(4,"router-outlet"),s()()),e&2&&(c(),z(n.screenInfoService.isMobile?2:1))},dependencies:[Il,Di],styles:[".base-container[_ngcontent-%COMP%]{height:100vh;width:100vw;display:flex}.login-container[_ngcontent-%COMP%]{width:50vw}.image-container[_ngcontent-%COMP%]{position:relative;display:inline-block;width:50vw}.background-image[_ngcontent-%COMP%]{width:100%;height:100%}.logo-text[_ngcontent-%COMP%]{margin:0;font-size:24px}.logo-text-wrapper[_ngcontent-%COMP%]{margin-left:12px;justify-content:center;flex-direction:column;display:flex}.overlay-image-wrapper[_ngcontent-%COMP%]{position:absolute;display:flex;top:50px;left:50px;width:calc(100% - 100px);height:96px}@media (max-width: 768px){.image-container[_ngcontent-%COMP%]{width:0vw}.login-container[_ngcontent-%COMP%]{width:100vw}.overlay-image-wrapper[_ngcontent-%COMP%]{justify-content:center}}"]})};var Er=class t{_fb=_(on);_router=_(bt);_authService=_(tt);_modalService=_(Wn);_contactsService=_(Ht);ROUTES_PATHS=_(Qe);errorMessage=null;form=this._fb.nonNullable.group({username:this._fb.control("",[le.required]),email:this._fb.control("",[le.required,le.email]),password:this._fb.control("",[le.required,le.minLength(6),this.hasUppercase,this.hasLowercase,this.hasNumber,this.hasSpecialCharacter]),password_confirm:this._fb.control("",[le.required,this.passwordsMatch("password")])});constructor(){}submitForm(){this.form.valid?this.registerNewUser():Object.values(this.form.controls).forEach(i=>{i.invalid&&(i.markAsDirty(),i.updateValueAndValidity({onlySelf:!0}))})}registerNewUser(){let i=this.form.getRawValue();!i.email||!i.username||!i.password||this._contactsService.getProfileByUsername(i.username).subscribe(e=>{if(e){this._modalService.warning({nzTitle:"Nombre de usuario no disponible",nzContent:"Intente usando uno distinto."});return}!i.email||!i.username||!i.password||this._authService.register(i.email,i.username,i.password).subscribe(n=>{n.error?(this.errorMessage=n.error.message,this._modalService.warning({nzTitle:"Hubo un problema",nzContent:"No se puedo crear su usuario, intente nuevamente m\xE1s tarde."})):(this._contactsService.createProfile(n.data.user?.id,i.username,i.email),this._modalService.success({nzTitle:"Cuenta creada exitosamente!",nzContent:"Para continuar con el proceso, busque el correo de confirmaci\xF3n en la casilla de mensajes del email con el que se registr\xF3.",nzOnOk:()=>this.goToBaseAuth()}))})})}goToBaseAuth(){this._router.navigateByUrl(this.ROUTES_PATHS.AUTH_ROUTES_PATHS.base_auth)}passwordsMatch(i){return e=>{let n=e.root.get(i);return n&&n.value===e.value?null:{notSameAsPassword:!0}}}hasUppercase(i){let e=i.value;return e&&!/[A-Z]/.test(e)?{lowercase:!0}:null}hasLowercase(i){let e=i.value;return e&&!/[a-z]/.test(e)?{uppercase:!0}:null}hasNumber(i){let e=i.value;return e&&!/\d/.test(e)?{number:!0}:null}hasSpecialCharacter(i){let e=i.value;return e&&!/[!@#$%^&*(),.?":{}|<>]/.test(e)?{specialCharacter:!0}:null}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=D({type:t,selectors:[["app-sign-up"]],decls:51,vars:3,consts:[[1,"main-container"],[1,"form-container"],["nz-form","",1,"signin-form",3,"ngSubmit","formGroup"],[1,"center-me"],[1,"center-me","form-subtitle"],["nzErrorTip","Ingrese un nombre de usuario!"],[1,"input-tittle"],["nzPrefixIcon","user"],["type","text","nz-input","","formControlName","username","placeholder","Nombre de usuario"],["nzErrorTip","Ingrese un Email valido!"],["nzPrefixIcon","mail"],["type","email","nz-input","","formControlName","email","placeholder","email@ejemplo.com"],["nzErrorTip","Ingrese una contrase\xF1a valida!"],["nzPrefixIcon","lock"],["type","password","nz-input","","formControlName","password","placeholder","Contrase\xF1a-123"],["nzErrorTip","Las contrase\xF1as deben coincidir"],["type","password","nz-input","","formControlName","password_confirm","placeholder",""],[2,"margin","0px"],["nz-button","",1,"signin-form-button","signin-form-margin",3,"nzType"],[3,"routerLink"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"div",1)(2,"form",2),y("ngSubmit",function(){return n.submitForm()}),r(3,"h2",3),p(4,"Bienvenido a "),r(5,"strong"),p(6,"Mi Estaci\xF3n Meteorol\xF3gica"),s()(),r(7,"h4",4),p(8," Reg\xEDstrate! "),s(),r(9,"nz-form-item")(10,"nz-form-control",5)(11,"label",6),p(12,"Nombre de usuario"),s(),r(13,"nz-input-group",7),h(14,"input",8),s()()(),r(15,"nz-form-item")(16,"nz-form-control",9)(17,"label",6),p(18,"Email"),s(),r(19,"nz-input-group",10),h(20,"input",11),s()()(),r(21,"nz-form-item")(22,"nz-form-control",12)(23,"label",6),p(24,"Contrase\xF1a"),s(),r(25,"nz-input-group",13),h(26,"input",14),s()()(),r(27,"nz-form-item")(28,"nz-form-control",15)(29,"label",6),p(30,"Confirmar Contrase\xF1a"),s(),r(31,"nz-input-group",13),h(32,"input",16),s()()(),r(33,"div")(34,"p",17),p(35,"Recuerde, su contrase\xF1a debe contener:"),s(),r(36,"p",17),p(37,"- 6 o m\xE1s caracteres"),s(),r(38,"p",17),p(39,"- Una letra may\xFAscula y min\xFAscula"),s(),r(40,"p",17),p(41,"- Un numero"),s(),r(42,"p",17),p(43,"- Un car\xE1cter especial (por ejemplo: /.*,+)"),s()(),r(44,"button",18),p(45," Registrarse "),s(),h(46,"br"),r(47,"h4",3),p(48,"\xBFYa tienes una cuenta? "),r(49,"a",19),p(50,"Ingresar!"),s()()()()()),e&2&&(c(2),m("formGroup",n.form),c(42),m("nzType","primary"),c(5),Gi("routerLink",n.ROUTES_PATHS.AUTH_ROUTES_PATHS.login))},dependencies:[Pt,Ue,Zt,vt,Oe,Kt,Jt,It,Ft,Ot,wt,Nt,Bt,Ut,ht,Tt,ei,sn,De,Pe,Me,ke,Bn],styles:[".main-container[_ngcontent-%COMP%]{width:100%;height:100%}.form-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh}.signin-form[_ngcontent-%COMP%]{max-width:370px}.signin-form-margin[_ngcontent-%COMP%]{margin-bottom:16px}.form-subtitle[_ngcontent-%COMP%]{color:gray}.signin-form-forgot[_ngcontent-%COMP%]{float:right}.signin-form-button[_ngcontent-%COMP%]{margin-top:12px;width:100%}.center-me[_ngcontent-%COMP%]{text-align:center}.input-tittle[_ngcontent-%COMP%]{font-weight:700}@media (max-width: 600px){form[_ngcontent-%COMP%]{width:80%}}"]})};var Ar=class t{_nzMessageService=_(ut);_fb=_(Ea);_authService=_(tt);ROUTES_PATHS=_(Qe);constructor(){}validateForm=this._fb.group({email:this._fb.control("",[le.required,le.email])});submitForm(){this.validateForm.valid?this.startResetPassword():Object.values(this.validateForm.controls).forEach(i=>{i.invalid&&(i.markAsDirty(),i.updateValueAndValidity({onlySelf:!0}))})}startResetPassword(){let i=this.validateForm.getRawValue();i.email&&this._authService.resetPassword(i.email).subscribe(e=>{e?this._nzMessageService.success("Revise su correo, se inici\xF3 el proceso de su cambio de contrase\xF1a."):this._nzMessageService.warning("Algo sali\xF3 mal, intente de nuevo mas tarde.")})}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=D({type:t,selectors:[["app-request-password-reset"]],decls:25,vars:3,consts:[[1,"main-container"],[1,"form-container"],["nz-form","",1,"form",3,"ngSubmit","formGroup"],[1,"center-me"],[1,"center-me","form-subtitle"],["nzErrorTip","Ingrese su email!"],[1,"input-tittle"],["nzPrefixIcon","mail"],["type","email","nz-input","","formControlName","email","placeholder","email@ejemplo.com"],["nz-button","",1,"form-button",3,"nzType"],[3,"routerLink"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"div",1)(2,"form",2),y("ngSubmit",function(){return n.submitForm()}),r(3,"h2",3),p(4,"Cambie su contrase\xF1a de "),s(),r(5,"h2",3)(6,"strong"),p(7,"Mi Estaci\xF3n Meteorol\xF3gica"),s()(),r(8,"h4",4),p(9," Ingrese su correo para cambiar su contrase\xF1a. "),s(),h(10,"br"),r(11,"nz-form-item")(12,"nz-form-control",5)(13,"label",6),p(14,"Email"),s(),r(15,"nz-input-group",7),h(16,"input",8),s()()(),r(17,"button",9),p(18," Reestablecer "),s(),h(19,"br")(20,"br"),r(21,"span"),p(22,"\xBFRecordaste tu contrase\xF1a? "),r(23,"a",10),p(24,"Ingresar!"),s()()()()()),e&2&&(c(2),m("formGroup",n.validateForm),c(15),m("nzType","primary"),c(6),Gi("routerLink",n.ROUTES_PATHS.AUTH_ROUTES_PATHS.login))},dependencies:[Ue,Zt,vt,Oe,Kt,Jt,It,De,Pe,Me,ke,Bn,Ft,Ot,wt,Nt,Bt,Ut,ht,Tt,ei,Pt],styles:[".main-container[_ngcontent-%COMP%]{width:100%;height:100%}.form-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh}.form[_ngcontent-%COMP%]{max-width:370px}.form-subtitle[_ngcontent-%COMP%]{color:gray}.form-button[_ngcontent-%COMP%]{margin-bottom:16px;margin-top:12px;width:100%}.center-me[_ngcontent-%COMP%]{text-align:center}.input-tittle[_ngcontent-%COMP%]{font-weight:700}@media (max-width: 600px){form[_ngcontent-%COMP%]{width:80%}}"]})};var Rr=class t{_routesAccessService=_(Qe);_nzMessageService=_(ut);_fb=_(Ea);_authService=_(tt);_router=_(bt);constructor(){}validateForm=this._fb.group({password:this._fb.control("",[le.required,le.minLength(6),this.hasUppercase,this.hasLowercase,this.hasNumber,this.hasSpecialCharacter]),password_confirm:this._fb.control("",[le.required,this.passwordsMatch("password")])});submitForm(){this.validateForm.valid?this.registerNewUser():Object.values(this.validateForm.controls).forEach(i=>{i.invalid&&(i.markAsDirty(),i.updateValueAndValidity({onlySelf:!0}))})}registerNewUser(){let i=this.validateForm.getRawValue();i.password&&this._authService.updatePassword(i.password).subscribe(e=>{e?this._router.navigateByUrl(this._routesAccessService.STATIONS_ROUTES_PATHS.base_stations):this._nzMessageService.warning("No se puedo actualizar su contrase\xF1a, intente con otra o vuelva m\xE1s tarde.")})}passwordsMatch(i){return e=>{let n=e.root.get(i);return n&&n.value===e.value?null:{notSameAsPassword:!0}}}hasUppercase(i){let e=i.value;return e&&!/[A-Z]/.test(e)?{lowercase:!0}:null}hasLowercase(i){let e=i.value;return e&&!/[a-z]/.test(e)?{uppercase:!0}:null}hasNumber(i){let e=i.value;return e&&!/\d/.test(e)?{number:!0}:null}hasSpecialCharacter(i){let e=i.value;return e&&!/[!@#$%^&*(),.?":{}|<>]/.test(e)?{specialCharacter:!0}:null}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=D({type:t,selectors:[["app-password-reset"]],decls:32,vars:2,consts:[[1,"main-container"],[1,"form-container"],["nz-form","",1,"signin-form",3,"ngSubmit","formGroup"],[1,"center-me"],[1,"center-me","form-subtitle"],["nzErrorTip","Ingrese una contrase\xF1a valida!"],[1,"input-tittle"],["nzPrefixIcon","lock"],["type","password","nz-input","","formControlName","password","placeholder","Contrase\xF1a-123"],["nzErrorTip","Las contrase\xF1as deben ser id\xE9nticas!"],["type","password","nz-input","","formControlName","password_confirm","placeholder",""],[2,"margin","0px"],["nz-button","",1,"signin-form-button","signin-form-margin",3,"nzType"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"div",1)(2,"form",2),y("ngSubmit",function(){return n.submitForm()}),r(3,"h2",3),p(4,"Ingrese su nueva contrase\xF1a"),s(),r(5,"h4",4),p(6," \xA1Ingrese su nueva contrase\xF1a! "),s(),r(7,"nz-form-item")(8,"nz-form-control",5)(9,"label",6),p(10,"Nueva Contrase\xF1a"),s(),r(11,"nz-input-group",7),h(12,"input",8),s()()(),r(13,"nz-form-item")(14,"nz-form-control",9)(15,"label",6),p(16,"Confirmar Nueva Contrase\xF1a"),s(),r(17,"nz-input-group",7),h(18,"input",10),s()()(),r(19,"div")(20,"p",11),p(21,"Recuerde, su contrase\xF1a debe contener:"),s(),r(22,"p",11),p(23,"- 6 o m\xE1s caracteres"),s(),r(24,"p",11),p(25,"- Una letra may\xFAscula y min\xFAscula"),s(),r(26,"p",11),p(27,"- Un numero"),s(),r(28,"p",11),p(29,"- Un car\xE1cter especial (por ejemplo: /.*,+)"),s()(),r(30,"button",12),p(31," Confirmar "),s()()()()),e&2&&(c(2),m("formGroup",n.validateForm),c(28),m("nzType","primary"))},dependencies:[Ue,Zt,vt,Oe,Kt,Jt,It,Bn,De,Pe,Me,ke,ht,Tt,ei,Ft,Ot,wt,Nt,Bt,Ut],styles:[".main-container[_ngcontent-%COMP%]{width:100%;height:100%}.form-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh}.signin-form[_ngcontent-%COMP%]{max-width:370px}.signin-form-margin[_ngcontent-%COMP%]{margin-bottom:16px}.form-subtitle[_ngcontent-%COMP%]{color:gray}.signin-form-forgot[_ngcontent-%COMP%]{float:right}.signin-form-button[_ngcontent-%COMP%]{margin-top:12px;width:100%}.center-me[_ngcontent-%COMP%]{text-align:center}.input-tittle[_ngcontent-%COMP%]{font-weight:700}@media (max-width: 600px){form[_ngcontent-%COMP%]{width:80%}}"]})};var km=()=>_(bt),Pm=()=>_(tt),Im=()=>_(Qe),Om=()=>oe(void 0,null,function*(){let t=km(),i=Im(),{data:e}=yield Pm().getSession();return e.session||t.navigateByUrl(i.AUTH_ROUTES_PATHS.login),!!e.session}),Yr=()=>oe(void 0,null,function*(){let t=km(),i=Im(),{data:e}=yield Pm().getSession();return e.session&&t.navigateByUrl(i.DEFAULT_ROUTE),!e.session});var p$=[{path:"",pathMatch:"full",redirectTo:"/auth/login"},{path:"",component:Fr,children:[{path:"login",canActivate:[Yr],component:Nr},{path:"signup",canActivate:[Yr],component:Er},{path:"request-password-reset",canActivate:[Yr],component:Ar},{path:"password-reset",canActivate:[Om],component:Rr}]}],Mm={base_auth:"/auth",login:"/auth/login",signup:"/auth/signup",request_password_reset:"/auth/request-password-reset",password_reset:"/auth/password-reset"};export{Hn as a,wn as b,Gn as c,$m as d,tw as e,Ht as f,Om as g,p$ as h,Mm as i,We as j,hn as k,Tn as l,eE as m,sm as n,lm as o,Bi as p,ZV as q,vm as r,Ui as s,o4 as t,ym as u,xm as v,O4 as w,bm as x,lL as y,Tm as z,wB as A,wm as B,Dm as C,Qe as D};
